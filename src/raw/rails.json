{"kind": "Listing", "data": {"modhash": "", "dist": 12, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "In this thread you can showcase your personal pet project to other redditors.\n\nNeed help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!\n\nA suggested format to get you started:\n\n1. **Name of your project**\n2. **A short description**\n3. **Application stack**\n4. **Link to Live app**\n5. **Link to GitHub**\n6. **You experience level**\n7. **Other information or areas that you would like advice on**\n\n\u00a0\n\n^(Many thanks to Kritnc for getting the ball rolling.)", "author_fullname": "t2_6l4z3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Personal Projects - Show off your own project and/or ask for advice", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_gvu083", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.83, "author_flair_background_color": null, "subreddit_type": "public", "ups": 4, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 4, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1591219964.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;In this thread you can showcase your personal pet project to other redditors.&lt;/p&gt;\n\n&lt;p&gt;Need help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!&lt;/p&gt;\n\n&lt;p&gt;A suggested format to get you started:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;Name of your project&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;A short description&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Application stack&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to Live app&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to GitHub&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;You experience level&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Other information or areas that you would like advice on&lt;/strong&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;\u00a0&lt;/p&gt;\n\n&lt;p&gt;&lt;sup&gt;Many thanks to Kritnc for getting the ball rolling.&lt;/sup&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gvu083", "is_robot_indexable": true, "report_reasons": null, "author": "AutoModerator", "discussion_type": null, "num_comments": 1, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/gvu083/personal_projects_show_off_your_own_project_andor/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rails/comments/gvu083/personal_projects_show_off_your_own_project_andor/", "subreddit_subscribers": 44574, "created_utc": 1591191164.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "In this thread you can showcase your personal pet project to other redditors.\n\nNeed help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!\n\nA suggested format to get you started:\n\n1. **Name of your project**\n2. **A short description**\n3. **Application stack**\n4. **Link to Live app**\n5. **Link to GitHub**\n6. **You experience level**\n7. **Other information or areas that you would like advice on**\n\n\u00a0\n\n^(Many thanks to Kritnc for getting the ball rolling.)", "author_fullname": "t2_6l4z3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Personal Projects - Show off your own project and/or ask for advice", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_har6r7", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 6, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 6, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1592429561.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;In this thread you can showcase your personal pet project to other redditors.&lt;/p&gt;\n\n&lt;p&gt;Need help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!&lt;/p&gt;\n\n&lt;p&gt;A suggested format to get you started:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;Name of your project&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;A short description&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Application stack&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to Live app&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to GitHub&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;You experience level&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Other information or areas that you would like advice on&lt;/strong&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;\u00a0&lt;/p&gt;\n\n&lt;p&gt;&lt;sup&gt;Many thanks to Kritnc for getting the ball rolling.&lt;/sup&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "har6r7", "is_robot_indexable": true, "report_reasons": null, "author": "AutoModerator", "discussion_type": null, "num_comments": 2, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/har6r7/personal_projects_show_off_your_own_project_andor/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rails/comments/har6r7/personal_projects_show_off_your_own_project_andor/", "subreddit_subscribers": 44574, "created_utc": 1592400761.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I have a couple of (what I think are) good ideas floating around in my head, and trying to decide what to build them in.\n\nI've dabbled in Rails, as well as full stack JS, but never built anything **serious** with either.\n\nA few years ago I was really looking into becoming a professional Web Developer. I was working tech support for a web design company but had hit a dead end with my career there. So I was doing the typical self studying thing, Coursera, Codecademy, Hartl's tutorial, etc, getting ready to go down that route, before I kind of fell into an Application Support engineer position with a startup my friend was working in, and I have been doing that ever since. Now I support the same application for a self driving car startup making well over 6 figures.\n\nNow that I am in a pretty good place financially and career wise, and I am a little older and have a little better work ethic, I want to take a serious crack at actually making something out of these ideas I have. Back when I was first thinking about this, a few years ago, I was pretty sure I was going to build them in Rails. Rails was pretty popular then, I was learning about it and found it really easy to use and I really liked how fast you could get something up. But it seems like in the few years I wasn't really paying attention, Rails has really fallen out of vogue, as it were. It doesn't scale. People are listing Ruby as their most hated language.  It's really hard to make anything other than an old fashioned Monolith style app with it. Etc. etc.\n\nIf you were starting a brand new project in 2020 one that you were hoping to actually monetize and go commercial with, would still doing it in Rails be a decision that you'd regret later, or is Rails fine, just everyone likes to crap on it because it's not the new hotness anymore?", "author_fullname": "t2_dlcrh", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Would you build your app in Rails in 2020?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hbpmc1", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.8, "author_flair_background_color": null, "subreddit_type": "public", "ups": 29, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 29, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1592524079.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1592552138.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have a couple of (what I think are) good ideas floating around in my head, and trying to decide what to build them in.&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;ve dabbled in Rails, as well as full stack JS, but never built anything &lt;strong&gt;serious&lt;/strong&gt; with either.&lt;/p&gt;\n\n&lt;p&gt;A few years ago I was really looking into becoming a professional Web Developer. I was working tech support for a web design company but had hit a dead end with my career there. So I was doing the typical self studying thing, Coursera, Codecademy, Hartl&amp;#39;s tutorial, etc, getting ready to go down that route, before I kind of fell into an Application Support engineer position with a startup my friend was working in, and I have been doing that ever since. Now I support the same application for a self driving car startup making well over 6 figures.&lt;/p&gt;\n\n&lt;p&gt;Now that I am in a pretty good place financially and career wise, and I am a little older and have a little better work ethic, I want to take a serious crack at actually making something out of these ideas I have. Back when I was first thinking about this, a few years ago, I was pretty sure I was going to build them in Rails. Rails was pretty popular then, I was learning about it and found it really easy to use and I really liked how fast you could get something up. But it seems like in the few years I wasn&amp;#39;t really paying attention, Rails has really fallen out of vogue, as it were. It doesn&amp;#39;t scale. People are listing Ruby as their most hated language.  It&amp;#39;s really hard to make anything other than an old fashioned Monolith style app with it. Etc. etc.&lt;/p&gt;\n\n&lt;p&gt;If you were starting a brand new project in 2020 one that you were hoping to actually monetize and go commercial with, would still doing it in Rails be a decision that you&amp;#39;d regret later, or is Rails fine, just everyone likes to crap on it because it&amp;#39;s not the new hotness anymore?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hbpmc1", "is_robot_indexable": true, "report_reasons": null, "author": "TaylorHu", "discussion_type": null, "num_comments": 49, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hbpmc1/would_you_build_your_app_in_rails_in_2020/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hbpmc1/would_you_build_your_app_in_rails_in_2020/", "subreddit_subscribers": 44574, "created_utc": 1592523338.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "So here's what I want:\n\n* Seller that has many Testimonials;\n* Author that has many Testimonials;\n* ConfirmedProfile of The User that gets access to all testimonials as Seller and Author, the confirmation would be requested by user and confirmed by Admin.\n\nI am not sure which association types to choose, I believe the polymorphic? and probably I need 'through' association for confirmation part too? Any thoughts?", "author_fullname": "t2_9dfvqec", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Help me to figure out ActiveRecord logic", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": true, "name": "t3_hbz770", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1592595721.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;So here&amp;#39;s what I want:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Seller that has many Testimonials;&lt;/li&gt;\n&lt;li&gt;Author that has many Testimonials;&lt;/li&gt;\n&lt;li&gt;ConfirmedProfile of The User that gets access to all testimonials as Seller and Author, the confirmation would be requested by user and confirmed by Admin.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;I am not sure which association types to choose, I believe the polymorphic? and probably I need &amp;#39;through&amp;#39; association for confirmation part too? Any thoughts?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hbz770", "is_robot_indexable": true, "report_reasons": null, "author": "zilton7000", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hbz770/help_me_to_figure_out_activerecord_logic/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hbz770/help_me_to_figure_out_activerecord_logic/", "subreddit_subscribers": 44574, "created_utc": 1592566921.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I'm trying to understand why I'm not getting the intended results:\n\nI have two models, CustomerAddress and SupplierAddress that each include the module AddressValidation.\n\nIn the AddressValidation module, I am trying to determine if I am dealing with a CustomerAddress or a SupplierAddress.\n\n&amp;nbsp;&amp;nbsp;\n\nSo in AddressValidation I wanted to have:\n\n**def self.included(base)**\n\n&amp;nbsp;  if base.is_a?(CustomerAddress)\n\n &amp;nbsp; &amp;nbsp;    [run code 1]\n\n&amp;nbsp;   else\n\n&amp;nbsp; &amp;nbsp;     [run code 2]\n\n&amp;nbsp;   end\n\n**end**\n\n&amp;nbsp;&amp;nbsp;\n\nThe problem is, that is_a?(CustomerAddress) always returns false regardless which model is including the module. It also always returns false if I use instance_of?(CustomerAddress)\n\n&amp;nbsp;&amp;nbsp;\n\nSo what I did instead is:\n\n**def self.included(base)**\n\n&amp;nbsp;  if base.name == \"CustomerAddress\"\n\n&amp;nbsp;&amp;nbsp;     [run_code_1]\n\n&amp;nbsp;  else\n\n&amp;nbsp;&amp;nbsp;     [run_code_2]\n\n&amp;nbsp;  end\n\n**end**\n\n&amp;nbsp;&amp;nbsp;\n\nThis method works as intended.\n\nSo my question is why does calling .name work as intended but not .is_a? or .instance_of?\n\n\n**EDIT: Formatting**\n\n**EDIT 2** \n\nHere is the detailed answer to the question, for future reference.\n\nMy class CustomerAddress, as far as Ruby is concerned, is actually an instance of the class **Class** and has an attributed called \"name\" that has the value \"CustomerAddress\".\n\nThus base.is_a?(Class) will return true, but nothing else will.\n\nTo ensure that it is the right class, I have to either compare its name attribute, or us the equality operator as mentioned below by /u/xire28:\n\nif base == CustomerAddress", "author_fullname": "t2_69tfs1p2", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Need help understanding module inclusion", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hbylab", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.75, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1592569150.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1592592781.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;m trying to understand why I&amp;#39;m not getting the intended results:&lt;/p&gt;\n\n&lt;p&gt;I have two models, CustomerAddress and SupplierAddress that each include the module AddressValidation.&lt;/p&gt;\n\n&lt;p&gt;In the AddressValidation module, I am trying to determine if I am dealing with a CustomerAddress or a SupplierAddress.&lt;/p&gt;\n\n&lt;p&gt;&amp;nbsp;&amp;nbsp;&lt;/p&gt;\n\n&lt;p&gt;So in AddressValidation I wanted to have:&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;def self.included(base)&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;&amp;nbsp;  if base.is_a?(CustomerAddress)&lt;/p&gt;\n\n&lt;p&gt;&amp;nbsp; &amp;nbsp;    [run code 1]&lt;/p&gt;\n\n&lt;p&gt;&amp;nbsp;   else&lt;/p&gt;\n\n&lt;p&gt;&amp;nbsp; &amp;nbsp;     [run code 2]&lt;/p&gt;\n\n&lt;p&gt;&amp;nbsp;   end&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;end&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;&amp;nbsp;&amp;nbsp;&lt;/p&gt;\n\n&lt;p&gt;The problem is, that is_a?(CustomerAddress) always returns false regardless which model is including the module. It also always returns false if I use instance_of?(CustomerAddress)&lt;/p&gt;\n\n&lt;p&gt;&amp;nbsp;&amp;nbsp;&lt;/p&gt;\n\n&lt;p&gt;So what I did instead is:&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;def self.included(base)&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;&amp;nbsp;  if base.name == &amp;quot;CustomerAddress&amp;quot;&lt;/p&gt;\n\n&lt;p&gt;&amp;nbsp;&amp;nbsp;     [run_code_1]&lt;/p&gt;\n\n&lt;p&gt;&amp;nbsp;  else&lt;/p&gt;\n\n&lt;p&gt;&amp;nbsp;&amp;nbsp;     [run_code_2]&lt;/p&gt;\n\n&lt;p&gt;&amp;nbsp;  end&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;end&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;&amp;nbsp;&amp;nbsp;&lt;/p&gt;\n\n&lt;p&gt;This method works as intended.&lt;/p&gt;\n\n&lt;p&gt;So my question is why does calling .name work as intended but not .is_a? or .instance_of?&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;EDIT: Formatting&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;EDIT 2&lt;/strong&gt; &lt;/p&gt;\n\n&lt;p&gt;Here is the detailed answer to the question, for future reference.&lt;/p&gt;\n\n&lt;p&gt;My class CustomerAddress, as far as Ruby is concerned, is actually an instance of the class &lt;strong&gt;Class&lt;/strong&gt; and has an attributed called &amp;quot;name&amp;quot; that has the value &amp;quot;CustomerAddress&amp;quot;.&lt;/p&gt;\n\n&lt;p&gt;Thus base.is_a?(Class) will return true, but nothing else will.&lt;/p&gt;\n\n&lt;p&gt;To ensure that it is the right class, I have to either compare its name attribute, or us the equality operator as mentioned below by &lt;a href=\"/u/xire28\"&gt;/u/xire28&lt;/a&gt;:&lt;/p&gt;\n\n&lt;p&gt;if base == CustomerAddress&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hbylab", "is_robot_indexable": true, "report_reasons": null, "author": "Zarzano", "discussion_type": null, "num_comments": 5, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hbylab/need_help_understanding_module_inclusion/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hbylab/need_help_understanding_module_inclusion/", "subreddit_subscribers": 44574, "created_utc": 1592563981.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Curious what gems you've used to build order-tracking software whether it be to integrate with shipping like UPS/FedEx etc or to track local deliveries.", "author_fullname": "t2_kd61d", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Gems to build order-tracking software?", "link_flair_richtext": [{"e": "text", "t": "Gem"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "gem", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hbqtiz", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.81, "author_flair_background_color": null, "subreddit_type": "public", "ups": 6, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Gem", "can_mod_post": false, "score": 6, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1592556609.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Curious what gems you&amp;#39;ve used to build order-tracking software whether it be to integrate with shipping like UPS/FedEx etc or to track local deliveries.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "617bc232-b02e-11e4-916e-22000b230ae2", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hbqtiz", "is_robot_indexable": true, "report_reasons": null, "author": "Teucer90", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hbqtiz/gems_to_build_ordertracking_software/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hbqtiz/gems_to_build_ordertracking_software/", "subreddit_subscribers": 44574, "created_utc": 1592527809.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Rails 6 released in August 2019 has brought us several new features. One of the notable changes is support for multiple databases. All details have been described in Rails guides and I\u2019ve read already several blog posts describing how to do it. But how to use this feature to allow Rails Event Store data to be stored in a separate database? Check my [blog post where I document my experiments with it](https://blog.arkency.com/rails-multiple-databases-support-in-rails-event-store/).", "author_fullname": "t2_hfztd", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Rails 6 multiple databases support in Rails Event Store", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hbaxq8", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.91, "author_flair_background_color": null, "subreddit_type": "public", "ups": 22, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 22, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1592498916.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Rails 6 released in August 2019 has brought us several new features. One of the notable changes is support for multiple databases. All details have been described in Rails guides and I\u2019ve read already several blog posts describing how to do it. But how to use this feature to allow Rails Event Store data to be stored in a separate database? Check my &lt;a href=\"https://blog.arkency.com/rails-multiple-databases-support-in-rails-event-store/\"&gt;blog post where I document my experiments with it&lt;/a&gt;.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hbaxq8", "is_robot_indexable": true, "report_reasons": null, "author": "mpraglowski", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hbaxq8/rails_6_multiple_databases_support_in_rails_event/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hbaxq8/rails_6_multiple_databases_support_in_rails_event/", "subreddit_subscribers": 44574, "created_utc": 1592470116.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hello Folks, i was trying to follow docker guide to setup a new rails app with, but it in rails 5 and i wanna rails 6, is there any guide you can share with me guys.\n\nthe docker example with rails 5 : [https://docs.docker.com/compose/rails](https://docs.docker.com/compose/rails/)\n\n**note i don't wanna install rails in my machine or any other gem just like docker docs did!!** ", "author_fullname": "t2_2mnfhvut", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Docker and rails issue", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hbney4", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.57, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 1, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1592544464.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hello Folks, i was trying to follow docker guide to setup a new rails app with, but it in rails 5 and i wanna rails 6, is there any guide you can share with me guys.&lt;/p&gt;\n\n&lt;p&gt;the docker example with rails 5 : &lt;a href=\"https://docs.docker.com/compose/rails/\"&gt;https://docs.docker.com/compose/rails&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;note i don&amp;#39;t wanna install rails in my machine or any other gem just like docker docs did!!&lt;/strong&gt; &lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hbney4", "is_robot_indexable": true, "report_reasons": null, "author": "m0ktar", "discussion_type": null, "num_comments": 4, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hbney4/docker_and_rails_issue/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hbney4/docker_and_rails_issue/", "subreddit_subscribers": 44574, "created_utc": 1592515664.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hello, I've got an app that will be accessed via a reverse-proxied subdirectory, eg. \n\n    https://example.com/subdir -&gt; http://10.0.0.1:3000/\n\nThis works (by setting the `RAILS_RELATIVE_URL_ROOT` env var), with helpers like `image_pack_tag` outputting the correct path (eg. \"/subdir/packs/media/images/image.jpg\")\n\nHowever, if I reference an image in a Webpacker SCSS file, eg.\n\n    url('../images/background.jpg')\n\nThe generated CSS file (and manifest.json) generated by Webpacker will not include the relative root path `/subdir`, eg:\n\n    background: url('/packs/media/images/background.jpg')\n\nSo the browser will hit `example.com/packs/media....` instead of `https://example.com/subdir/packs/media...` and get a 404.\n\nIf I change `webpacker.yml` to have\n \n    public_output_path: subdir/packs\n\nthen the paths/manifest will be as desired, but the generated files will now be created in `public/subdir/packs/media...`. meaning the correct URL will now need to be `https://example.com/subdir/subdir/packs/media/...` so it remains broken.\n\nAny thoughts on how I get around this? I've tried `WEBPACKER_RELATIVE_URL_ROOT`, but other than that I'm stumped!\n\nThanks", "author_fullname": "t2_77x61", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Webpacker and Rails relative root for images in SCSS", "link_flair_richtext": [{"e": "text", "t": "Help"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hbkg6q", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Help", "can_mod_post": false, "score": 3, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1592535006.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hello, I&amp;#39;ve got an app that will be accessed via a reverse-proxied subdirectory, eg. &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;https://example.com/subdir -&amp;gt; http://10.0.0.1:3000/\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This works (by setting the &lt;code&gt;RAILS_RELATIVE_URL_ROOT&lt;/code&gt; env var), with helpers like &lt;code&gt;image_pack_tag&lt;/code&gt; outputting the correct path (eg. &amp;quot;/subdir/packs/media/images/image.jpg&amp;quot;)&lt;/p&gt;\n\n&lt;p&gt;However, if I reference an image in a Webpacker SCSS file, eg.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;url(&amp;#39;../images/background.jpg&amp;#39;)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The generated CSS file (and manifest.json) generated by Webpacker will not include the relative root path &lt;code&gt;/subdir&lt;/code&gt;, eg:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;background: url(&amp;#39;/packs/media/images/background.jpg&amp;#39;)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;So the browser will hit &lt;code&gt;example.com/packs/media....&lt;/code&gt; instead of &lt;code&gt;https://example.com/subdir/packs/media...&lt;/code&gt; and get a 404.&lt;/p&gt;\n\n&lt;p&gt;If I change &lt;code&gt;webpacker.yml&lt;/code&gt; to have&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;public_output_path: subdir/packs\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;then the paths/manifest will be as desired, but the generated files will now be created in &lt;code&gt;public/subdir/packs/media...&lt;/code&gt;. meaning the correct URL will now need to be &lt;code&gt;https://example.com/subdir/subdir/packs/media/...&lt;/code&gt; so it remains broken.&lt;/p&gt;\n\n&lt;p&gt;Any thoughts on how I get around this? I&amp;#39;ve tried &lt;code&gt;WEBPACKER_RELATIVE_URL_ROOT&lt;/code&gt;, but other than that I&amp;#39;m stumped!&lt;/p&gt;\n\n&lt;p&gt;Thanks&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "eef0b990-adfb-11e4-8e15-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hbkg6q", "is_robot_indexable": true, "report_reasons": null, "author": "SminkyBazzA", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hbkg6q/webpacker_and_rails_relative_root_for_images_in/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hbkg6q/webpacker_and_rails_relative_root_for_images_in/", "subreddit_subscribers": 44574, "created_utc": 1592506206.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I am building a simple blog API. There's a method that I need, but it crashes my whole app. If I uncomment it, the app works fine:\n\n* This is my application controller:\n\n        class ApplicationController &lt; ActionController::API\n        \n            def token\n                request.headers[\"Authorization\"].split(\" \")[1]\n            end\n        \n            def secret\n                ENV['jwt_secret']\n            end\n        \n            def decoded_token\n                JWT.decode(token, secret, true, { algorithm: 'HS256' })\n            end\n        \n            def current_user\n                User.find(decoded_token[0][\"id\"])\n            end\n        \n            def create_token(id, username, email)\n                payload = { id: id, username: username, email: email }\n                JWT.encode(payload, secret, 'HS256')\n            end\n        \n        end\n\n\n* And this is my user controller:\n        \n        class UsersController &lt; ApplicationController\n            before_action :get_user, only: [:show, :update, :destroy]\n        \n            def profile\n                render json: current_user\n            end\n        \n            def index\n                @users = User.all\n                render json: @users\n            end\n        \n            def show\n                render json: @user\n            end\n        \n            def create\n                @user = User.create(user_params)\n                if @user.valid?\n                    render json: {token: create_token(user.id, user.username, user.email)}\n                else\n                    render json: {errors: @user.errors.full_messages}, status: 422\n                end\n            end\n        \n            def update\n                if @user.update(user_params)\n                    render json: @user\n                else\n                    render json:{errors: @user.errors.full_messages}, status: 422\n                end\n            end\n        \n            def destroy\n                @user.destroy\n            end\n        \n            private\n        \n            def get_user\n                @user = User.find(params[:id])\n            end\n        \n            def user_params\n                params.require(:user).permit(:username, :name, :email, :password)\n            end\n        \n        end\n\n\nI'm also using the serializer gem:\n\n    class UserSerializer &lt; ActiveModel::Serializer\n      attributes :id, :name, :username, :email, :posts, :comments\n    \n      def posts\n        object.posts.size\n      end\n    \n      def comments\n        object.comments.size\n      end\n    \n    end\n\nFor some reason, if I comment out the `current_user` method in the application controller, the app runs fine, but if I uncomment it, I get all sorts of errors:\n\n        Completed 500 Internal Server Error in 25ms (ActiveRecord: 7.0ms | Allocations: 5463)\n        \n        \n          \n        NoMethodError (undefined method `split' for nil:NilClass):\n          \n        app/controllers/application_controller.rb:4:in `token'\n        app/controllers/application_controller.rb:12:in `decoded_token'\n        app/controllers/application_controller.rb:16:in `current_user'\n        app/controllers/users_controller.rb:14:in `show'\n        \nI've been trying to fix it for days to no avail, can anyone point me in the right direction?\n\n**EDIT**: You've all been super helpful and I thank you all for that. I'm still not seeing it. I uploaded it into a repo: https://gitlab.com/PMmeYourFlipFlops/help-me-reddit", "author_fullname": "t2_bpm2ft0", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Can you help me debug my super simple controller?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hbhey3", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 3, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1592510938.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1592524912.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I am building a simple blog API. There&amp;#39;s a method that I need, but it crashes my whole app. If I uncomment it, the app works fine:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;This is my application controller:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;class ApplicationController &amp;lt; ActionController::API\n\n    def token\n        request.headers[&amp;quot;Authorization&amp;quot;].split(&amp;quot; &amp;quot;)[1]\n    end\n\n    def secret\n        ENV[&amp;#39;jwt_secret&amp;#39;]\n    end\n\n    def decoded_token\n        JWT.decode(token, secret, true, { algorithm: &amp;#39;HS256&amp;#39; })\n    end\n\n    def current_user\n        User.find(decoded_token[0][&amp;quot;id&amp;quot;])\n    end\n\n    def create_token(id, username, email)\n        payload = { id: id, username: username, email: email }\n        JWT.encode(payload, secret, &amp;#39;HS256&amp;#39;)\n    end\n\nend\n&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;And this is my user controller:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;class UsersController &amp;lt; ApplicationController\n    before_action :get_user, only: [:show, :update, :destroy]\n\n    def profile\n        render json: current_user\n    end\n\n    def index\n        @users = User.all\n        render json: @users\n    end\n\n    def show\n        render json: @user\n    end\n\n    def create\n        @user = User.create(user_params)\n        if @user.valid?\n            render json: {token: create_token(user.id, user.username, user.email)}\n        else\n            render json: {errors: @user.errors.full_messages}, status: 422\n        end\n    end\n\n    def update\n        if @user.update(user_params)\n            render json: @user\n        else\n            render json:{errors: @user.errors.full_messages}, status: 422\n        end\n    end\n\n    def destroy\n        @user.destroy\n    end\n\n    private\n\n    def get_user\n        @user = User.find(params[:id])\n    end\n\n    def user_params\n        params.require(:user).permit(:username, :name, :email, :password)\n    end\n\nend\n&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;I&amp;#39;m also using the serializer gem:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;class UserSerializer &amp;lt; ActiveModel::Serializer\n  attributes :id, :name, :username, :email, :posts, :comments\n\n  def posts\n    object.posts.size\n  end\n\n  def comments\n    object.comments.size\n  end\n\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;For some reason, if I comment out the &lt;code&gt;current_user&lt;/code&gt; method in the application controller, the app runs fine, but if I uncomment it, I get all sorts of errors:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;    Completed 500 Internal Server Error in 25ms (ActiveRecord: 7.0ms | Allocations: 5463)\n\n\n\n    NoMethodError (undefined method `split&amp;#39; for nil:NilClass):\n\n    app/controllers/application_controller.rb:4:in `token&amp;#39;\n    app/controllers/application_controller.rb:12:in `decoded_token&amp;#39;\n    app/controllers/application_controller.rb:16:in `current_user&amp;#39;\n    app/controllers/users_controller.rb:14:in `show&amp;#39;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I&amp;#39;ve been trying to fix it for days to no avail, can anyone point me in the right direction?&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;EDIT&lt;/strong&gt;: You&amp;#39;ve all been super helpful and I thank you all for that. I&amp;#39;m still not seeing it. I uploaded it into a repo: &lt;a href=\"https://gitlab.com/PMmeYourFlipFlops/help-me-reddit\"&gt;https://gitlab.com/PMmeYourFlipFlops/help-me-reddit&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hbhey3", "is_robot_indexable": true, "report_reasons": null, "author": "PMmeYourFlipFlops", "discussion_type": null, "num_comments": 16, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hbhey3/can_you_help_me_debug_my_super_simple_controller/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hbhey3/can_you_help_me_debug_my_super_simple_controller/", "subreddit_subscribers": 44574, "created_utc": 1592496112.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "\\[Webinar\\] How Cloud 66 &amp; OVHcloud makes the deployment of your Rails app in production, easier, faster &amp; cost-effective? Register here:\u00a0[https://register.gotowebinar.com/register/6186841286209414926](https://register.gotowebinar.com/register/6186841286209414926)\u00a0\\#webinar #ovh #cloud66 #deploy #Rails", "author_fullname": "t2_4zi2py6o", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How Cloud 66 &amp; OVHcloud makes the deployment of your Rails app in production, easier, faster &amp; cost-effective?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hbh7g1", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.4, "author_flair_background_color": null, "subreddit_type": "public", "ups": 0, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 0, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1592524270.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;[Webinar] How Cloud 66 &amp;amp; OVHcloud makes the deployment of your Rails app in production, easier, faster &amp;amp; cost-effective? Register here:\u00a0&lt;a href=\"https://register.gotowebinar.com/register/6186841286209414926\"&gt;https://register.gotowebinar.com/register/6186841286209414926&lt;/a&gt;\u00a0#webinar #ovh #cloud66 #deploy #Rails&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hbh7g1", "is_robot_indexable": true, "report_reasons": null, "author": "WestEndCloud", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hbh7g1/how_cloud_66_ovhcloud_makes_the_deployment_of/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hbh7g1/how_cloud_66_ovhcloud_makes_the_deployment_of/", "subreddit_subscribers": 44574, "created_utc": 1592495470.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I have a newbie question.  I was watching a GoRails episode that shows how Action Cable and Stimulus could be used to [create real-time group chats](https://gorails.com/episodes/rails-group-chat-revised-part-1).\n\nI'm thinking about creating something with feeds on topics - like a Reddit, Twitter, or Slack.\n\nHowever, the channels/feeds would be around events occurring now. So I'd like to have something that is showing new messages/posts automatically near real-time (the channel could update every 30 seconds to one minute instead of real-time) at the bottom of the screen.\n\nI'd like to build something that has the ability to handle thousands, if not tens of thousands of people viewing and posting on the channels concurrently.\n\nI'm wondering where in the stack I might right into bottlenecks from volume (if any place), if I built it with Action Cable and Stimulus. I'm also wondering how much more expensive it would be than a different approach that may be near real-time (some sort of polling), if it at all.\n\nI'm curious how others would approach building something like this.  Thank you!", "author_fullname": "t2_1qi9eitv", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Would You Build a Near Real-Time Feed/Channel Using Action Cable?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hay1n8", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 15, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 15, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1592421754.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1592450141.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have a newbie question.  I was watching a GoRails episode that shows how Action Cable and Stimulus could be used to &lt;a href=\"https://gorails.com/episodes/rails-group-chat-revised-part-1\"&gt;create real-time group chats&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m thinking about creating something with feeds on topics - like a Reddit, Twitter, or Slack.&lt;/p&gt;\n\n&lt;p&gt;However, the channels/feeds would be around events occurring now. So I&amp;#39;d like to have something that is showing new messages/posts automatically near real-time (the channel could update every 30 seconds to one minute instead of real-time) at the bottom of the screen.&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;d like to build something that has the ability to handle thousands, if not tens of thousands of people viewing and posting on the channels concurrently.&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m wondering where in the stack I might right into bottlenecks from volume (if any place), if I built it with Action Cable and Stimulus. I&amp;#39;m also wondering how much more expensive it would be than a different approach that may be near real-time (some sort of polling), if it at all.&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m curious how others would approach building something like this.  Thank you!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hay1n8", "is_robot_indexable": true, "report_reasons": null, "author": "CommonMeaning", "discussion_type": null, "num_comments": 19, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hay1n8/would_you_build_a_near_realtime_feedchannel_using/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hay1n8/would_you_build_a_near_realtime_feedchannel_using/", "subreddit_subscribers": 44574, "created_utc": 1592421341.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_hay1n8", "before": null}}