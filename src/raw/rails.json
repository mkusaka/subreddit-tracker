{"kind": "Listing", "data": {"modhash": "", "dist": 12, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "In this thread you can showcase your personal pet project to other redditors.\n\nNeed help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!\n\nA suggested format to get you started:\n\n1. **Name of your project**\n2. **A short description**\n3. **Application stack**\n4. **Link to Live app**\n5. **Link to GitHub**\n6. **You experience level**\n7. **Other information or areas that you would like advice on**\n\n\u00a0\n\n^(Many thanks to Kritnc for getting the ball rolling.)", "author_fullname": "t2_6l4z3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Personal Projects - Show off your own project and/or ask for advice", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_i8dsvv", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.92, "author_flair_background_color": null, "subreddit_type": "public", "ups": 17, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 17, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1597267966.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;In this thread you can showcase your personal pet project to other redditors.&lt;/p&gt;\n\n&lt;p&gt;Need help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!&lt;/p&gt;\n\n&lt;p&gt;A suggested format to get you started:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;Name of your project&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;A short description&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Application stack&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to Live app&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to GitHub&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;You experience level&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Other information or areas that you would like advice on&lt;/strong&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;\u00a0&lt;/p&gt;\n\n&lt;p&gt;&lt;sup&gt;Many thanks to Kritnc for getting the ball rolling.&lt;/sup&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i8dsvv", "is_robot_indexable": true, "report_reasons": null, "author": "AutoModerator", "discussion_type": null, "num_comments": 5, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/i8dsvv/personal_projects_show_off_your_own_project_andor/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rails/comments/i8dsvv/personal_projects_show_off_your_own_project_andor/", "subreddit_subscribers": 45580, "created_utc": 1597239166.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Please use this thread to discuss **cool** but relatively **unknown** gems you've found.\n\nYou **should not** post popular gems such as [those listed in wiki](https://www.reddit.com/r/rails/wiki/index#wiki_popular_gems) that are already well known.\n\nPlease include a **description** and a **link** to the gem's homepage in your comment.", "author_fullname": "t2_6l4z3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Gimme Gems Thursdays - Found an awesome new gem? Post it here!", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": true, "name": "t3_id911w", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.88, "author_flair_background_color": null, "subreddit_type": "public", "ups": 6, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 6, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1597953996.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Please use this thread to discuss &lt;strong&gt;cool&lt;/strong&gt; but relatively &lt;strong&gt;unknown&lt;/strong&gt; gems you&amp;#39;ve found.&lt;/p&gt;\n\n&lt;p&gt;You &lt;strong&gt;should not&lt;/strong&gt; post popular gems such as &lt;a href=\"https://www.reddit.com/r/rails/wiki/index#wiki_popular_gems\"&gt;those listed in wiki&lt;/a&gt; that are already well known.&lt;/p&gt;\n\n&lt;p&gt;Please include a &lt;strong&gt;description&lt;/strong&gt; and a &lt;strong&gt;link&lt;/strong&gt; to the gem&amp;#39;s homepage in your comment.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "id911w", "is_robot_indexable": true, "report_reasons": null, "author": "AutoModerator", "discussion_type": null, "num_comments": 0, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/id911w/gimme_gems_thursdays_found_an_awesome_new_gem/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rails/comments/id911w/gimme_gems_thursdays_found_an_awesome_new_gem/", "subreddit_subscribers": 45580, "created_utc": 1597925196.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I just published an [exhaustive and opinionated guide](https://railsautoscale.com/how-many-dynos/) to dynos on Heroku. It answers the questions I've been hearing over and over for years:\n\n* How many dynos should you be running?\n* Which dyno type is right for your app?\n\nI hope you find it helpful!", "author_fullname": "t2_1ux4zzgt", "saved": false, "mod_reason_title": null, "gilded": 1, "clicked": false, "title": "Rails on Heroku: Guide to how many dynos and which size", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_icnl4q", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.96, "author_flair_background_color": null, "subreddit_type": "public", "ups": 72, "total_awards_received": 1, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 72, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {"gid_2": 1}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1597872328.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I just published an &lt;a href=\"https://railsautoscale.com/how-many-dynos/\"&gt;exhaustive and opinionated guide&lt;/a&gt; to dynos on Heroku. It answers the questions I&amp;#39;ve been hearing over and over for years:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;How many dynos should you be running?&lt;/li&gt;\n&lt;li&gt;Which dyno type is right for your app?&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;I hope you find it helpful!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [{"giver_coin_reward": null, "subreddit_id": null, "is_new": false, "days_of_drip_extension": 0, "coin_price": 500, "id": "gid_2", "penny_donate": null, "award_sub_type": "GLOBAL", "coin_reward": 100, "icon_url": "https://www.redditstatic.com/gold/awards/icon/gold_512.png", "days_of_premium": 7, "resized_icons": [{"url": "https://www.redditstatic.com/gold/awards/icon/gold_16.png", "width": 16, "height": 16}, {"url": "https://www.redditstatic.com/gold/awards/icon/gold_32.png", "width": 32, "height": 32}, {"url": "https://www.redditstatic.com/gold/awards/icon/gold_48.png", "width": 48, "height": 48}, {"url": "https://www.redditstatic.com/gold/awards/icon/gold_64.png", "width": 64, "height": 64}, {"url": "https://www.redditstatic.com/gold/awards/icon/gold_128.png", "width": 128, "height": 128}], "icon_width": 512, "static_icon_width": 512, "start_date": null, "is_enabled": true, "description": "Gives the author a week of Reddit Premium, %{coin_symbol}100 Coins to do with as they please, and shows a Gold Award.", "end_date": null, "subreddit_coin_reward": 0, "count": 1, "static_icon_height": 512, "name": "Gold", "resized_static_icons": [{"url": "https://www.redditstatic.com/gold/awards/icon/gold_16.png", "width": 16, "height": 16}, {"url": "https://www.redditstatic.com/gold/awards/icon/gold_32.png", "width": 32, "height": 32}, {"url": "https://www.redditstatic.com/gold/awards/icon/gold_48.png", "width": 48, "height": 48}, {"url": "https://www.redditstatic.com/gold/awards/icon/gold_64.png", "width": 64, "height": 64}, {"url": "https://www.redditstatic.com/gold/awards/icon/gold_128.png", "width": 128, "height": 128}], "icon_format": null, "icon_height": 512, "penny_price": null, "award_type": "global", "static_icon_url": "https://www.redditstatic.com/gold/awards/icon/gold_512.png"}], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "icnl4q", "is_robot_indexable": true, "report_reasons": null, "author": "railsautoscale", "discussion_type": null, "num_comments": 10, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/icnl4q/rails_on_heroku_guide_to_how_many_dynos_and_which/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/icnl4q/rails_on_heroku_guide_to_how_many_dynos_and_which/", "subreddit_subscribers": 45580, "created_utc": 1597843528.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I was thinking in how could I make something similar of [EngVid](https://www.engvid.com/) platform in Rails.\n\nEach video has a \"quiz\" attached to train and test what you have learned in the video.\n\nIt's quite hard for me to grasp on how this quiz could be make in Rails.\n\nI could have a Video model which could contain a title, description and has\\_one\\_attached :clip (which would be the uploaded video) and each Video has\\_one Quiz. But I'm not sure how to implement the Quiz model.\n\nCould I apply the same logic as I did in my ToDo list ? Each Quiz model would have a nested Question model. But again I'm not sure how to implement the options and correct answer for each Question.\n\nAny ideas or tips ?", "author_fullname": "t2_2ylymv4t", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How to implement a Quiz functionality in Rails ?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_iczwgn", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.9, "author_flair_background_color": null, "subreddit_type": "public", "ups": 8, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 8, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1597911680.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I was thinking in how could I make something similar of &lt;a href=\"https://www.engvid.com/\"&gt;EngVid&lt;/a&gt; platform in Rails.&lt;/p&gt;\n\n&lt;p&gt;Each video has a &amp;quot;quiz&amp;quot; attached to train and test what you have learned in the video.&lt;/p&gt;\n\n&lt;p&gt;It&amp;#39;s quite hard for me to grasp on how this quiz could be make in Rails.&lt;/p&gt;\n\n&lt;p&gt;I could have a Video model which could contain a title, description and has_one_attached :clip (which would be the uploaded video) and each Video has_one Quiz. But I&amp;#39;m not sure how to implement the Quiz model.&lt;/p&gt;\n\n&lt;p&gt;Could I apply the same logic as I did in my ToDo list ? Each Quiz model would have a nested Question model. But again I&amp;#39;m not sure how to implement the options and correct answer for each Question.&lt;/p&gt;\n\n&lt;p&gt;Any ideas or tips ?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "iczwgn", "is_robot_indexable": true, "report_reasons": null, "author": "gregory280", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/iczwgn/how_to_implement_a_quiz_functionality_in_rails/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/iczwgn/how_to_implement_a_quiz_functionality_in_rails/", "subreddit_subscribers": 45580, "created_utc": 1597882880.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hey all,\n\nI have a question that I don't know how to formulate a Google search for.\n\nConsider we have an Invoice model which `has_many :receivables`.\nThere is a `sub_total` field on the invoice which is supposed to stay in sync with summing most of the receivables, so I added logic like:\n\n\n    before_validation do  \n      self.sub_total = receivables.not_freight.sum(&amp;:line_price)  \n    end\n\nAnd this works great for existing records. However, when creating a new invoice, `receivables.not_freight` always returns an empty collection (even when `receivables` has many entries which would satisfy the scope). Interestingly, `receivables.not_freight.to_sql` returns an empty string.\n\nI've rewritten the logic to be:\n\n    self.sub_total = receivables.reject(&amp;:freight?).sum(&amp;:line_price)\n\nand this works fine, as expected.  \n\n  \n\nWhat is this behaviour called, and where could I learn more about it? That code snippet looks innocuous but leads to weird data consistency bugs for new records.", "author_fullname": "t2_o3k2da", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Using scopes on unsaved relations?", "link_flair_richtext": [{"e": "text", "t": "Question"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "question", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_id2k1u", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Question", "can_mod_post": false, "score": 3, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1597921778.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey all,&lt;/p&gt;\n\n&lt;p&gt;I have a question that I don&amp;#39;t know how to formulate a Google search for.&lt;/p&gt;\n\n&lt;p&gt;Consider we have an Invoice model which &lt;code&gt;has_many :receivables&lt;/code&gt;.\nThere is a &lt;code&gt;sub_total&lt;/code&gt; field on the invoice which is supposed to stay in sync with summing most of the receivables, so I added logic like:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;before_validation do  \n  self.sub_total = receivables.not_freight.sum(&amp;amp;:line_price)  \nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And this works great for existing records. However, when creating a new invoice, &lt;code&gt;receivables.not_freight&lt;/code&gt; always returns an empty collection (even when &lt;code&gt;receivables&lt;/code&gt; has many entries which would satisfy the scope). Interestingly, &lt;code&gt;receivables.not_freight.to_sql&lt;/code&gt; returns an empty string.&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;ve rewritten the logic to be:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;self.sub_total = receivables.reject(&amp;amp;:freight?).sum(&amp;amp;:line_price)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;and this works fine, as expected.  &lt;/p&gt;\n\n&lt;p&gt;What is this behaviour called, and where could I learn more about it? That code snippet looks innocuous but leads to weird data consistency bugs for new records.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "fdfc6806-aea7-11e4-bf37-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "id2k1u", "is_robot_indexable": true, "report_reasons": null, "author": "PM_ME_RAILS_R34", "discussion_type": null, "num_comments": 7, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/id2k1u/using_scopes_on_unsaved_relations/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/id2k1u/using_scopes_on_unsaved_relations/", "subreddit_subscribers": 45580, "created_utc": 1597892978.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Super noob with Ruby and Rails here, so I apologize in advance if this is a basic question. So, I am using the \"devise\" gem for authentication.\n\nIn my controller, I have this:\n    \n      def new_current_user\n        puts \"*\" * 50\n        puts current_user\n        puts \"*\" * 50\n        if current_user == \"admin\"    &lt;------ this is not correct\n            @my_user = \"admin\"\n            @my_role = [\"admin\"]\n        else\n            @my_user = \"dev\"\n            @my_role = [\"dev\"]\n        end\n    \n        puts @my_user\n        puts @my_role\n    \n        @current_user = {\n          :username =&gt; @my_user,\n          :capabilities =&gt; @my_role,\n        }\n      end\nIn the database, I have these rows.\n\n    mysql&gt; select id, email from users;\n    +----+----------------+\n    | id | email          |\n    +----+----------------+\n    |  3 | admin@test.com |\n    |  2 | dev@test.com   |\n    +----+----------------+\n    2 rows in set (0.00 sec)\n    \nBasically, I don't know how to write if the current_user is \"admin@test.com\", then let the my_user equal to admin?", "author_fullname": "t2_11pjka", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Rails and Devise current_user method", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_icxg4c", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.75, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1597903157.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Super noob with Ruby and Rails here, so I apologize in advance if this is a basic question. So, I am using the &amp;quot;devise&amp;quot; gem for authentication.&lt;/p&gt;\n\n&lt;p&gt;In my controller, I have this:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;  def new_current_user\n    puts &amp;quot;*&amp;quot; * 50\n    puts current_user\n    puts &amp;quot;*&amp;quot; * 50\n    if current_user == &amp;quot;admin&amp;quot;    &amp;lt;------ this is not correct\n        @my_user = &amp;quot;admin&amp;quot;\n        @my_role = [&amp;quot;admin&amp;quot;]\n    else\n        @my_user = &amp;quot;dev&amp;quot;\n        @my_role = [&amp;quot;dev&amp;quot;]\n    end\n\n    puts @my_user\n    puts @my_role\n\n    @current_user = {\n      :username =&amp;gt; @my_user,\n      :capabilities =&amp;gt; @my_role,\n    }\n  end\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;In the database, I have these rows.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;mysql&amp;gt; select id, email from users;\n+----+----------------+\n| id | email          |\n+----+----------------+\n|  3 | admin@test.com |\n|  2 | dev@test.com   |\n+----+----------------+\n2 rows in set (0.00 sec)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Basically, I don&amp;#39;t know how to write if the current_user is &amp;quot;&lt;a href=\"mailto:admin@test.com\"&gt;admin@test.com&lt;/a&gt;&amp;quot;, then let the my_user equal to admin?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "icxg4c", "is_robot_indexable": true, "report_reasons": null, "author": "kolinkorr839", "discussion_type": null, "num_comments": 4, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/icxg4c/rails_and_devise_current_user_method/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/icxg4c/rails_and_devise_current_user_method/", "subreddit_subscribers": 45580, "created_utc": 1597874357.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I have a rails 6 app with is deployed via Mina. Until this week I deployed without an issue. Now when I deploy, it sticks on the old deployment version until I restart Nginx. Is there something that I am missing? Has anyone seen this before?", "author_fullname": "t2_18yv97ai", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Nginx Mina Deployment strangeness.", "link_flair_richtext": [{"e": "text", "t": "Help"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_icv5si", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Help", "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1597896055.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have a rails 6 app with is deployed via Mina. Until this week I deployed without an issue. Now when I deploy, it sticks on the old deployment version until I restart Nginx. Is there something that I am missing? Has anyone seen this before?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "eef0b990-adfb-11e4-8e15-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "icv5si", "is_robot_indexable": true, "report_reasons": null, "author": "lostrennie", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/icv5si/nginx_mina_deployment_strangeness/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/icv5si/nginx_mina_deployment_strangeness/", "subreddit_subscribers": 45580, "created_utc": 1597867255.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hey, I have a Rails API that works wonderfully on localhost.\n\nAuthentication with jwt and knock session tokens.\n\nJust pushed my code to Netlify and Heroku. Changed the config for it to communicate with Netlify app and only call that gets 401 Unauthorized is get users/me endpoint.\n\nIt lets you login and it sets the jwt token as expected but it can not set the user.\n\n&amp;#x200B;\n\n&amp;#x200B;\n\n[The failing request](https://preview.redd.it/uqwgsamzeyh51.png?width=1014&amp;format=png&amp;auto=webp&amp;s=6d05f993b3eccd907b5001637ef4d2821fa9bc4f)\n\n&amp;#x200B;\n\n&amp;#x200B;\n\n[Request headers of the failing request](https://preview.redd.it/p9seyqzokyh51.png?width=1204&amp;format=png&amp;auto=webp&amp;s=ca85f2b62fa281b5c1360ec6d27c401735fc4e1c)\n\n&amp;#x200B;\n\n[Login and users\\/me API calls](https://preview.redd.it/zk4rdkm1fyh51.png?width=1210&amp;format=png&amp;auto=webp&amp;s=917e76f293de4f85dddd777853d01e603f6734d8)\n\n&amp;#x200B;\n\n[My User Controller](https://preview.redd.it/y7ytgnl5fyh51.png?width=1089&amp;format=png&amp;auto=webp&amp;s=b00e548279397a95654f293d86910f4c1004ee0b)\n\n&amp;#x200B;\n\n&amp;#x200B;\n\n[Heroku logs](https://preview.redd.it/wdm4vf0cgyh51.png?width=1351&amp;format=png&amp;auto=webp&amp;s=f0836fd76df74379730947b4d02912724a9f4f30)\n\nFull code can be found in here :\n\nFrontend =&gt; [https://github.com/gitwithuli/white-curtain-frontend](https://github.com/gitwithuli/white-curtain-frontend)\n\nBackend =&gt; [https://github.com/gitwithuli/white-curtain-backend](https://github.com/gitwithuli/white-curtain-backend)\n\n&amp;#x200B;\n\nAny help would be greatly appreciated.\n\nThanks.", "author_fullname": "t2_z7462kc", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Rails API 401 Unauthorized", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "media_metadata": {"zk4rdkm1fyh51": {"status": "valid", "e": "Image", "m": "image/png", "p": [{"y": 65, "x": 108, "u": "https://preview.redd.it/zk4rdkm1fyh51.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=38c9031496a3125a98914574ff65d2d1eddafbe3"}, {"y": 131, "x": 216, "u": "https://preview.redd.it/zk4rdkm1fyh51.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=661d4ccf0b952cddb055ab208fae74372db637e7"}, {"y": 195, "x": 320, "u": "https://preview.redd.it/zk4rdkm1fyh51.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=b9dc9ac6f533cfaf6870dd780ca4f3726f0e72a2"}, {"y": 390, "x": 640, "u": "https://preview.redd.it/zk4rdkm1fyh51.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=c91c664f1ec2207722424837da149ae238d8795b"}, {"y": 586, "x": 960, "u": "https://preview.redd.it/zk4rdkm1fyh51.png?width=960&amp;crop=smart&amp;auto=webp&amp;s=44d4f5b4d89beddb3b90c2aa7a8eaf060c15f201"}, {"y": 659, "x": 1080, "u": "https://preview.redd.it/zk4rdkm1fyh51.png?width=1080&amp;crop=smart&amp;auto=webp&amp;s=e4427d3ab1d106d6b15b43daf5c7f5e88525385a"}], "s": {"y": 739, "x": 1210, "u": "https://preview.redd.it/zk4rdkm1fyh51.png?width=1210&amp;format=png&amp;auto=webp&amp;s=917e76f293de4f85dddd777853d01e603f6734d8"}, "id": "zk4rdkm1fyh51"}, "p9seyqzokyh51": {"status": "valid", "e": "Image", "m": "image/png", "p": [{"y": 28, "x": 108, "u": "https://preview.redd.it/p9seyqzokyh51.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=4226d59c6213a40cbf5b20d7ca5736403c08ee04"}, {"y": 57, "x": 216, "u": "https://preview.redd.it/p9seyqzokyh51.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=7bc230728b51cb41c9afbbd1315e75823a94e9ec"}, {"y": 85, "x": 320, "u": "https://preview.redd.it/p9seyqzokyh51.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=10fc0b0007af71664cf83d1509cdb6dea013c441"}, {"y": 171, "x": 640, "u": "https://preview.redd.it/p9seyqzokyh51.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=9f4ff014f58a61e4c9545679a60053c3b38e1a7b"}, {"y": 256, "x": 960, "u": "https://preview.redd.it/p9seyqzokyh51.png?width=960&amp;crop=smart&amp;auto=webp&amp;s=0c07e78e7b5f9983563cebb7f3acf70d72f6da84"}, {"y": 288, "x": 1080, "u": "https://preview.redd.it/p9seyqzokyh51.png?width=1080&amp;crop=smart&amp;auto=webp&amp;s=77ec32915a002f9ad1727a73eaf1ad2ea246a877"}], "s": {"y": 322, "x": 1204, "u": "https://preview.redd.it/p9seyqzokyh51.png?width=1204&amp;format=png&amp;auto=webp&amp;s=ca85f2b62fa281b5c1360ec6d27c401735fc4e1c"}, "id": "p9seyqzokyh51"}, "uqwgsamzeyh51": {"status": "valid", "e": "Image", "m": "image/png", "p": [{"y": 36, "x": 108, "u": "https://preview.redd.it/uqwgsamzeyh51.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=77fa9ce4ea5f1e7de8dfdb6e4d112f0254bfaba0"}, {"y": 73, "x": 216, "u": "https://preview.redd.it/uqwgsamzeyh51.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=b79c9299b5a186169e2e3f9daeb3075a40a1699f"}, {"y": 109, "x": 320, "u": "https://preview.redd.it/uqwgsamzeyh51.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=ea0955e4a8696a0ea188a9a78030a85b2a0a2d66"}, {"y": 218, "x": 640, "u": "https://preview.redd.it/uqwgsamzeyh51.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=cb20a047bf0407a90d1f48733ab7f4c9e4af3586"}, {"y": 327, "x": 960, "u": "https://preview.redd.it/uqwgsamzeyh51.png?width=960&amp;crop=smart&amp;auto=webp&amp;s=c7751b2491d475746598c6dcae99d05a82ab797b"}], "s": {"y": 346, "x": 1014, "u": "https://preview.redd.it/uqwgsamzeyh51.png?width=1014&amp;format=png&amp;auto=webp&amp;s=6d05f993b3eccd907b5001637ef4d2821fa9bc4f"}, "id": "uqwgsamzeyh51"}, "wdm4vf0cgyh51": {"status": "valid", "e": "Image", "m": "image/png", "p": [{"y": 22, "x": 108, "u": "https://preview.redd.it/wdm4vf0cgyh51.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=ab5c15a158854c3e6f526e2bd17925aca8f614b5"}, {"y": 44, "x": 216, "u": "https://preview.redd.it/wdm4vf0cgyh51.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=b6fee79d641bbb63eb06188915b3d7bfbe89a839"}, {"y": 65, "x": 320, "u": "https://preview.redd.it/wdm4vf0cgyh51.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=55c44033d5821c21a018ecec9451c53d012da4b6"}, {"y": 131, "x": 640, "u": "https://preview.redd.it/wdm4vf0cgyh51.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=83a23db8230e3c974a6a9a2ce49be78facd8e57a"}, {"y": 196, "x": 960, "u": "https://preview.redd.it/wdm4vf0cgyh51.png?width=960&amp;crop=smart&amp;auto=webp&amp;s=9b25e3009a9f7d64c2981ca42e663f384102858e"}, {"y": 221, "x": 1080, "u": "https://preview.redd.it/wdm4vf0cgyh51.png?width=1080&amp;crop=smart&amp;auto=webp&amp;s=957ee55149242549f042d82b6fc761b3acc7396e"}], "s": {"y": 277, "x": 1351, "u": "https://preview.redd.it/wdm4vf0cgyh51.png?width=1351&amp;format=png&amp;auto=webp&amp;s=f0836fd76df74379730947b4d02912724a9f4f30"}, "id": "wdm4vf0cgyh51"}, "y7ytgnl5fyh51": {"status": "valid", "e": "Image", "m": "image/png", "p": [{"y": 39, "x": 108, "u": "https://preview.redd.it/y7ytgnl5fyh51.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=c59663ecf26ea47709f2c063fdbb6926a30e3bd4"}, {"y": 78, "x": 216, "u": "https://preview.redd.it/y7ytgnl5fyh51.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=3c4151fac90446a7040d8df491140aed9249db72"}, {"y": 116, "x": 320, "u": "https://preview.redd.it/y7ytgnl5fyh51.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=6c19bd9c025850d009320926f29804ffce200af7"}, {"y": 232, "x": 640, "u": "https://preview.redd.it/y7ytgnl5fyh51.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=06b419169975dd94e2d8d88ad3f3debfd73c9786"}, {"y": 349, "x": 960, "u": "https://preview.redd.it/y7ytgnl5fyh51.png?width=960&amp;crop=smart&amp;auto=webp&amp;s=7bea5c0d8401cb50cb9f47af768e08abf7ed492c"}, {"y": 392, "x": 1080, "u": "https://preview.redd.it/y7ytgnl5fyh51.png?width=1080&amp;crop=smart&amp;auto=webp&amp;s=e6fc6e12f3f72c417df47d1cdcd0d35338a12492"}], "s": {"y": 396, "x": 1089, "u": "https://preview.redd.it/y7ytgnl5fyh51.png?width=1089&amp;format=png&amp;auto=webp&amp;s=b00e548279397a95654f293d86910f4c1004ee0b"}, "id": "y7ytgnl5fyh51"}}, "name": "t3_icmvdf", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1597842558.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1597869642.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey, I have a Rails API that works wonderfully on localhost.&lt;/p&gt;\n\n&lt;p&gt;Authentication with jwt and knock session tokens.&lt;/p&gt;\n\n&lt;p&gt;Just pushed my code to Netlify and Heroku. Changed the config for it to communicate with Netlify app and only call that gets 401 Unauthorized is get users/me endpoint.&lt;/p&gt;\n\n&lt;p&gt;It lets you login and it sets the jwt token as expected but it can not set the user.&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://preview.redd.it/uqwgsamzeyh51.png?width=1014&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=6d05f993b3eccd907b5001637ef4d2821fa9bc4f\"&gt;The failing request&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://preview.redd.it/p9seyqzokyh51.png?width=1204&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=ca85f2b62fa281b5c1360ec6d27c401735fc4e1c\"&gt;Request headers of the failing request&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://preview.redd.it/zk4rdkm1fyh51.png?width=1210&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=917e76f293de4f85dddd777853d01e603f6734d8\"&gt;Login and users/me API calls&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://preview.redd.it/y7ytgnl5fyh51.png?width=1089&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=b00e548279397a95654f293d86910f4c1004ee0b\"&gt;My User Controller&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://preview.redd.it/wdm4vf0cgyh51.png?width=1351&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=f0836fd76df74379730947b4d02912724a9f4f30\"&gt;Heroku logs&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Full code can be found in here :&lt;/p&gt;\n\n&lt;p&gt;Frontend =&amp;gt; &lt;a href=\"https://github.com/gitwithuli/white-curtain-frontend\"&gt;https://github.com/gitwithuli/white-curtain-frontend&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Backend =&amp;gt; &lt;a href=\"https://github.com/gitwithuli/white-curtain-backend\"&gt;https://github.com/gitwithuli/white-curtain-backend&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;Any help would be greatly appreciated.&lt;/p&gt;\n\n&lt;p&gt;Thanks.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "icmvdf", "is_robot_indexable": true, "report_reasons": null, "author": "savk4tr", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/icmvdf/rails_api_401_unauthorized/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/icmvdf/rails_api_401_unauthorized/", "subreddit_subscribers": 45580, "created_utc": 1597840842.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "RSpec newbie here. I have a before action method 'get\\_user'  that I moved into it's own concern from the user\\_controller file. Now my user\\_controller\\_spec file is broken. How do I include the concern, and thus my 'get\\_user' method, in the spec file?", "author_fullname": "t2_759xbi5c", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How to include a concern inside of my controller_spec file?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_ic9sof", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 5, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 5, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1597813704.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;RSpec newbie here. I have a before action method &amp;#39;get_user&amp;#39;  that I moved into it&amp;#39;s own concern from the user_controller file. Now my user_controller_spec file is broken. How do I include the concern, and thus my &amp;#39;get_user&amp;#39; method, in the spec file?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "ic9sof", "is_robot_indexable": true, "report_reasons": null, "author": "sroman200", "discussion_type": null, "num_comments": 6, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/ic9sof/how_to_include_a_concern_inside_of_my_controller/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/ic9sof/how_to_include_a_concern_inside_of_my_controller/", "subreddit_subscribers": 45580, "created_utc": 1597784904.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I\u2019m working on an app that helps with employee scheduling and want to find an easy way for users to load employee data into the application (I currently have a form that adds them one at a time).  The data would include name, start date, role, ect, and be in an unpredictable format.  I was thinking of having a textarea and finding a way for the application to parse relevant data and create resources from it.  \n\nIs such a feature a pipe dream?  This is my first web-dev personal project.  Any advice would be appreciated.", "author_fullname": "t2_kgo8g", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Parsing Input for Employee Data", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_ic3uuk", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 12, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 12, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1597795573.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I\u2019m working on an app that helps with employee scheduling and want to find an easy way for users to load employee data into the application (I currently have a form that adds them one at a time).  The data would include name, start date, role, ect, and be in an unpredictable format.  I was thinking of having a textarea and finding a way for the application to parse relevant data and create resources from it.  &lt;/p&gt;\n\n&lt;p&gt;Is such a feature a pipe dream?  This is my first web-dev personal project.  Any advice would be appreciated.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "ic3uuk", "is_robot_indexable": true, "report_reasons": null, "author": "Semigrounded", "discussion_type": null, "num_comments": 16, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/ic3uuk/parsing_input_for_employee_data/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/ic3uuk/parsing_input_for_employee_data/", "subreddit_subscribers": 45580, "created_utc": 1597766773.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "    \n    = form_for @reg, url: update_tbd_path(@reg.state) do |f|\n    \n      .form-group\n        = f.submit \"Next\", class: 'form-control btn btn-green tbd', id: 'form-submit', 'data-test': 'register-submit-button'\n    \n    \n          &lt;div class=\"form-group hidden\" id=\"tbd-date-picker\"&gt;\n            &lt;p class=\"question-text\"&gt;What was the date?&lt;/p&gt;\n              &lt;%= ft.label 'tbd_start_date', 'Date', id: 'tbd-start-date' %&gt;\n            &lt;div class=\"input-group date\"&gt;\n              &lt;%= ft.text_field 'tbd_start_date', class: 'form-control tbd datepicker', placeholder: 'MM/DD/YYYY' %&gt;\n              &lt;span class=\"input-group-addon calendar-icon\"&gt;&lt;%= image_tag('icons/calendar@3x.png')%&gt;&lt;/span&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n    \n    \n    h1 Info\n    \n    p When do you intend to?\n    \n    p DatePicker\n    \n    p TimePicker", "author_fullname": "t2_1szauu7h", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "how can I mix slim and erb in same file?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_ick27c", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.36, "author_flair_background_color": null, "subreddit_type": "public", "ups": 0, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 0, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1597856071.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;pre&gt;&lt;code&gt;= form_for @reg, url: update_tbd_path(@reg.state) do |f|\n\n  .form-group\n    = f.submit &amp;quot;Next&amp;quot;, class: &amp;#39;form-control btn btn-green tbd&amp;#39;, id: &amp;#39;form-submit&amp;#39;, &amp;#39;data-test&amp;#39;: &amp;#39;register-submit-button&amp;#39;\n\n\n      &amp;lt;div class=&amp;quot;form-group hidden&amp;quot; id=&amp;quot;tbd-date-picker&amp;quot;&amp;gt;\n        &amp;lt;p class=&amp;quot;question-text&amp;quot;&amp;gt;What was the date?&amp;lt;/p&amp;gt;\n          &amp;lt;%= ft.label &amp;#39;tbd_start_date&amp;#39;, &amp;#39;Date&amp;#39;, id: &amp;#39;tbd-start-date&amp;#39; %&amp;gt;\n        &amp;lt;div class=&amp;quot;input-group date&amp;quot;&amp;gt;\n          &amp;lt;%= ft.text_field &amp;#39;tbd_start_date&amp;#39;, class: &amp;#39;form-control tbd datepicker&amp;#39;, placeholder: &amp;#39;MM/DD/YYYY&amp;#39; %&amp;gt;\n          &amp;lt;span class=&amp;quot;input-group-addon calendar-icon&amp;quot;&amp;gt;&amp;lt;%= image_tag(&amp;#39;icons/calendar@3x.png&amp;#39;)%&amp;gt;&amp;lt;/span&amp;gt;\n        &amp;lt;/div&amp;gt;\n      &amp;lt;/div&amp;gt;\n\n\nh1 Info\n\np When do you intend to?\n\np DatePicker\n\np TimePicker\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "ick27c", "is_robot_indexable": true, "report_reasons": null, "author": "oystersauce8", "discussion_type": null, "num_comments": 5, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/ick27c/how_can_i_mix_slim_and_erb_in_same_file/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/ick27c/how_can_i_mix_slim_and_erb_in_same_file/", "subreddit_subscribers": 45580, "created_utc": 1597827271.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hi guys\n\n&amp;#x200B;\n\nI'm looking for a good search solution for my application.\n\nThe project has rails as a graphql api and a react-native app as client.\n\nWhat I am specifically looking for is a way to search for users but also users in specific contexts, like search a list of friends or make sure that blocked users are not showing up. Preferrably, while also providing some other data from the db, such as the amount of posts or other data, as part of the returned results.\n\nCurrently I was looking at the following solutions:\n\n\\- **Algolia:** Easy to implement to some extent but it seems a bit finicky having to add a list of friends/blocked users etc. as part of the saved indices in Algolia itself. Plus it seems more difficult to include other data from the db when needed. Plus (and this is the biggest downside) it's not free and cost quite a lot when an application scales. \n\n\\- **Searchkick/Elasticsearch**: 2 months ago I asked a similar yet more vague question regarding search in Rails and some people pointed out to me how easy it is to use elasticsearch with searchkick. At the same time there were people who thought it was overkill and warned me of the complexities of Elastic Search. So I'm not sure what to believe but I feel this is not necessarily more complex than setting something similar up on Algolia?\n\n\\- **pg\\_search**: This is a gem I just discovered today and although I'm not sure, it might be good enough for my purposes? It uses postgres full text search but also allows search scopes/facetting, which would be the answer when searching through someone's friends or blocked users.\n\nI would love to know what your experience is. I'm not sure if it matters too much but this a production app and not a simple learning project, so having a scalable solution is needed.   \n\n\nThank you!", "author_fullname": "t2_nt4f4", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Help me decide on a search solution (between algolia, searchkick and pg_search)", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_ibx0pz", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.95, "author_flair_background_color": null, "subreddit_type": "public", "ups": 17, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 17, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1597767483.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi guys&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m looking for a good search solution for my application.&lt;/p&gt;\n\n&lt;p&gt;The project has rails as a graphql api and a react-native app as client.&lt;/p&gt;\n\n&lt;p&gt;What I am specifically looking for is a way to search for users but also users in specific contexts, like search a list of friends or make sure that blocked users are not showing up. Preferrably, while also providing some other data from the db, such as the amount of posts or other data, as part of the returned results.&lt;/p&gt;\n\n&lt;p&gt;Currently I was looking at the following solutions:&lt;/p&gt;\n\n&lt;p&gt;- &lt;strong&gt;Algolia:&lt;/strong&gt; Easy to implement to some extent but it seems a bit finicky having to add a list of friends/blocked users etc. as part of the saved indices in Algolia itself. Plus it seems more difficult to include other data from the db when needed. Plus (and this is the biggest downside) it&amp;#39;s not free and cost quite a lot when an application scales. &lt;/p&gt;\n\n&lt;p&gt;- &lt;strong&gt;Searchkick/Elasticsearch&lt;/strong&gt;: 2 months ago I asked a similar yet more vague question regarding search in Rails and some people pointed out to me how easy it is to use elasticsearch with searchkick. At the same time there were people who thought it was overkill and warned me of the complexities of Elastic Search. So I&amp;#39;m not sure what to believe but I feel this is not necessarily more complex than setting something similar up on Algolia?&lt;/p&gt;\n\n&lt;p&gt;- &lt;strong&gt;pg_search&lt;/strong&gt;: This is a gem I just discovered today and although I&amp;#39;m not sure, it might be good enough for my purposes? It uses postgres full text search but also allows search scopes/facetting, which would be the answer when searching through someone&amp;#39;s friends or blocked users.&lt;/p&gt;\n\n&lt;p&gt;I would love to know what your experience is. I&amp;#39;m not sure if it matters too much but this a production app and not a simple learning project, so having a scalable solution is needed.   &lt;/p&gt;\n\n&lt;p&gt;Thank you!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "ibx0pz", "is_robot_indexable": true, "report_reasons": null, "author": "Eunoia_R", "discussion_type": null, "num_comments": 17, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/ibx0pz/help_me_decide_on_a_search_solution_between/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/ibx0pz/help_me_decide_on_a_search_solution_between/", "subreddit_subscribers": 45580, "created_utc": 1597738683.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_ibx0pz", "before": null}}