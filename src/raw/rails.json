{"kind": "Listing", "data": {"modhash": "", "dist": 12, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Please use this thread to discuss **cool** but relatively **unknown** gems you've found.\n\nYou **should not** post popular gems such as [those listed in wiki](https://www.reddit.com/r/rails/wiki/index#wiki_popular_gems) that are already well known.\n\nPlease include a **description** and a **link** to the gem's homepage in your comment.", "author_fullname": "t2_6l4z3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Gimme Gems Thursdays - Found an awesome new gem? Post it here!", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jbmadq", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 14, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 14, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1602792387.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Please use this thread to discuss &lt;strong&gt;cool&lt;/strong&gt; but relatively &lt;strong&gt;unknown&lt;/strong&gt; gems you&amp;#39;ve found.&lt;/p&gt;\n\n&lt;p&gt;You &lt;strong&gt;should not&lt;/strong&gt; post popular gems such as &lt;a href=\"https://www.reddit.com/r/rails/wiki/index#wiki_popular_gems\"&gt;those listed in wiki&lt;/a&gt; that are already well known.&lt;/p&gt;\n\n&lt;p&gt;Please include a &lt;strong&gt;description&lt;/strong&gt; and a &lt;strong&gt;link&lt;/strong&gt; to the gem&amp;#39;s homepage in your comment.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jbmadq", "is_robot_indexable": true, "report_reasons": null, "author": "AutoModerator", "discussion_type": null, "num_comments": 1, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jbmadq/gimme_gems_thursdays_found_an_awesome_new_gem/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rails/comments/jbmadq/gimme_gems_thursdays_found_an_awesome_new_gem/", "subreddit_subscribers": 46370, "created_utc": 1602763587.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "In this thread you can showcase your personal pet project to other redditors.\n\nNeed help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!\n\nA suggested format to get you started:\n\n1. **Name of your project**\n2. **A short description**\n3. **Application stack**\n4. **Link to Live app**\n5. **Link to GitHub**\n6. **You experience level**\n7. **Other information or areas that you would like advice on**\n\n\u00a0\n\n^(Many thanks to Kritnc for getting the ball rolling.)", "author_fullname": "t2_6l4z3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Personal Projects - Show off your own project and/or ask for advice", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jfcv1r", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.95, "author_flair_background_color": null, "subreddit_type": "public", "ups": 14, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 14, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603315962.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;In this thread you can showcase your personal pet project to other redditors.&lt;/p&gt;\n\n&lt;p&gt;Need help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!&lt;/p&gt;\n\n&lt;p&gt;A suggested format to get you started:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;Name of your project&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;A short description&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Application stack&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to Live app&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to GitHub&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;You experience level&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Other information or areas that you would like advice on&lt;/strong&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;\u00a0&lt;/p&gt;\n\n&lt;p&gt;&lt;sup&gt;Many thanks to Kritnc for getting the ball rolling.&lt;/sup&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jfcv1r", "is_robot_indexable": true, "report_reasons": null, "author": "AutoModerator", "discussion_type": null, "num_comments": 0, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jfcv1r/personal_projects_show_off_your_own_project_andor/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rails/comments/jfcv1r/personal_projects_show_off_your_own_project_andor/", "subreddit_subscribers": 46370, "created_utc": 1603287162.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Original post with images on [https://anonoz.github.io/tech/2020/10/26/simplecov-semaphoreci.html](https://anonoz.github.io/tech/2020/10/26/simplecov-semaphoreci.html)\n\n----\nWe have been using [SemaphoreCI](https://semaphoreci.com) for over a year now. \n\nWe like Semaphore a lot because of their bare metal performance and their fair per-second pricing, which is different from other CIs charging by maximum parallelisms.\n\nHaving sufficient test coverage has helped us in staying clear of nasty problems along the road, I highly encourage other projects to keep it in check too!\n\nFeel free to copy and paste the following scripts and YAMLs, if there are any error and problems, please contact me and let me know.\n\n## Step 1: Setup SimpleCov\n\nInclude it in your `Gemfile`, please find the latest version number and replace it: \n\n    gem 'simplecov', '~&gt; 0.18.0', require: false\n\n\nTo make sure SimpleCov tracks the code coverage in Capybara test, paste this in your `bin/rails` before the existing code:\n\n    #!/usr/bin/env ruby\n    if ENV['RAILS_ENV'] == 'test'\n      require 'simplecov'\n      SimpleCov.start 'rails'\n    end\n    # ^^ Copy Above\n    \n    APP_PATH = File.expand_path('../../config/application', __FILE__)\n    require_relative '../config/boot'\n    require 'rails/commands'\n\nIn your `specs/spec_helper.rb`, paste this between all the `require` and other configuration blocks:\n\n    if ENV['CI']\n      SimpleCov.command_name \"#{ENV['SEMAPHORE_JOB_ID']}-#{ENV['TEST_ATTEMPT']}\"\n    end\n    \n    SimpleCov.start 'rails'\n\n## Step 2: Here are the .yaml and .rb\n\nPaste this in `scripts/simplecov-collate.rb` in your project directory:\n\n    #!/usr/bin/env ruby\n    require 'simplecov'\n    \n    SimpleCov.collate Dir[\"simplecov-resultset/*/.resultset.json\"] do\n      formatter SimpleCov::Formatter::MultiFormatter.new([\n        SimpleCov::Formatter::SimpleFormatter,\n        SimpleCov::Formatter::HTMLFormatter\n      ])\n    end\n\nI assume:\n\n1. You already have SimpleCov gem included and configured in your rspec.\n2. Your project directory is mounted in `/project-mount` in the Docker image that you used to test. SimpleCov somehow uses absolute path inside their result JSON files, and this is the way to make the merge successful.\n3. SemaphoreCI git clones into `~/reponame` when `checkout` command is being run.\n\nUpdate your `.semaphore/semaphore.yml`:\n\n1. The `epilogue` that runs after every parallel tests, and;\n2. The block that runs after ALL the tests.\n\n.semaphore/semaphore.yml: (something weird with reddit markdown indent)\n\n    # .semaphore/semaphore.yml\n    blocks:\n      - name: 'Run tests'\n        task:\n          jobs:\n            - name: 'E2E Part 1'\n            - name: 'E2E Part 2'\n            - name: 'E2E Part 3'\n            - name: 'Models'\n            - name: 'API'\n          # Copy the commands in the epilogue, this runs after every different test.\n          epilogue:\n            always:\n              commands:\n                - |\n                    if [ -d coverage ]; then\n                      artifact push job --expire-in 3d --force coverage;\n                      COV_DIRNAME=simplecov-resultset/$SEMAPHORE_JOB_ID;\n                      sudo chown -R $USER:$USER coverage/;\n                      mkdir -p simplecov-resultset;\n                      mv coverage $COV_DIRNAME;\n                      artifact push workflow --expire-in 2w --force simplecov-resultset;\n                    fi\n      \n      # Feel free to copy this block below!\n      - name: 'Check codebase quality'\n        task:  \n          jobs:\n            - name: 'Test coverage'\n              commands:\n                - checkout\n                - |\n                    if ! rbenv install -s; then\n                      git -C /home/semaphore/.rbenv/plugins/ruby-build pull &amp;&amp;\n                      rbenv install;\n                    fi\n                - sudo mkdir -p /project-mount\n           date: 2020-10-26\n         - sudo chown -R $USER:$USER /project-mount\n                - cd ~\n                - shopt -s dotglob; mv ~/reponame/* /project-mount\n                - cd /project-mount\n                - artifact pull workflow simplecov-resultset\n                - gem install simplecov\n                - ruby scripts/simplecov-collate.rb\n                - cd coverage/\n                - cd /project-mount\n                - zip -r coverage-$SEMAPHORE_GIT_SHA coverage/\n                - artifact push job --expire-in 2w coverage-$SEMAPHORE_GIT_SHA.zip\n\nOnce you are done, commit and push to trigger a CI run.\n\n## Step 3: Get your test coverage!\n\nIf the configurations are correct and your test suites pass as usual, this is how you can find your test coverage results.\n\nGo into the workflow for the latest commit, you should see there is a new block at the end after the parallel tests.\n\nClick **Job artifacts** between the console outputs and the job name. That is not the most obvious place, I know. By the time you read this, the UI may have changed again, but it should be somewhere in the page.\n\nDownload and unzip it, then open `index.html` file in your browser to view.\n\nUnlike CircleCI, every artifact on SemaphoreCI cannot be viewed directly in the browser, but rather must be downloaded. It is not very convenient.\n\n---\n\n1. **Why `gem install simplecov` separately instead of just using the Docker image I have been using?**\n\n    The Docker images are usually large. Downloading just the gems needed is much quicker than pulling the image all over again. In our case, it takes almost a minute to pull the testing Docker image down, but only 20 seconds to run the whole SimpleCov merging job - from git cloning, to gem install, to uploading artifact.\n\n2. **What if we did not run tests in Docker image?**\n\n    You should be able to replace `/project-mount` with the directory pah the project is git cloned into in previous test jobs.\n\nPlease let me know if there are better ideas on how to go about this!", "author_fullname": "t2_1smql8y", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How to merge SimpleCov results on SemaphoreCI 2.0", "link_flair_richtext": [{"e": "text", "t": "Tutorial"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "tutorial", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jic8m8", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 7, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Tutorial", "can_mod_post": false, "score": 7, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1603708903.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603737519.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Original post with images on &lt;a href=\"https://anonoz.github.io/tech/2020/10/26/simplecov-semaphoreci.html\"&gt;https://anonoz.github.io/tech/2020/10/26/simplecov-semaphoreci.html&lt;/a&gt;&lt;/p&gt;\n\n&lt;hr/&gt;\n\n&lt;p&gt;We have been using &lt;a href=\"https://semaphoreci.com\"&gt;SemaphoreCI&lt;/a&gt; for over a year now. &lt;/p&gt;\n\n&lt;p&gt;We like Semaphore a lot because of their bare metal performance and their fair per-second pricing, which is different from other CIs charging by maximum parallelisms.&lt;/p&gt;\n\n&lt;p&gt;Having sufficient test coverage has helped us in staying clear of nasty problems along the road, I highly encourage other projects to keep it in check too!&lt;/p&gt;\n\n&lt;p&gt;Feel free to copy and paste the following scripts and YAMLs, if there are any error and problems, please contact me and let me know.&lt;/p&gt;\n\n&lt;h2&gt;Step 1: Setup SimpleCov&lt;/h2&gt;\n\n&lt;p&gt;Include it in your &lt;code&gt;Gemfile&lt;/code&gt;, please find the latest version number and replace it: &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;gem &amp;#39;simplecov&amp;#39;, &amp;#39;~&amp;gt; 0.18.0&amp;#39;, require: false\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;To make sure SimpleCov tracks the code coverage in Capybara test, paste this in your &lt;code&gt;bin/rails&lt;/code&gt; before the existing code:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;#!/usr/bin/env ruby\nif ENV[&amp;#39;RAILS_ENV&amp;#39;] == &amp;#39;test&amp;#39;\n  require &amp;#39;simplecov&amp;#39;\n  SimpleCov.start &amp;#39;rails&amp;#39;\nend\n# ^^ Copy Above\n\nAPP_PATH = File.expand_path(&amp;#39;../../config/application&amp;#39;, __FILE__)\nrequire_relative &amp;#39;../config/boot&amp;#39;\nrequire &amp;#39;rails/commands&amp;#39;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;In your &lt;code&gt;specs/spec_helper.rb&lt;/code&gt;, paste this between all the &lt;code&gt;require&lt;/code&gt; and other configuration blocks:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;if ENV[&amp;#39;CI&amp;#39;]\n  SimpleCov.command_name &amp;quot;#{ENV[&amp;#39;SEMAPHORE_JOB_ID&amp;#39;]}-#{ENV[&amp;#39;TEST_ATTEMPT&amp;#39;]}&amp;quot;\nend\n\nSimpleCov.start &amp;#39;rails&amp;#39;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h2&gt;Step 2: Here are the .yaml and .rb&lt;/h2&gt;\n\n&lt;p&gt;Paste this in &lt;code&gt;scripts/simplecov-collate.rb&lt;/code&gt; in your project directory:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;#!/usr/bin/env ruby\nrequire &amp;#39;simplecov&amp;#39;\n\nSimpleCov.collate Dir[&amp;quot;simplecov-resultset/*/.resultset.json&amp;quot;] do\n  formatter SimpleCov::Formatter::MultiFormatter.new([\n    SimpleCov::Formatter::SimpleFormatter,\n    SimpleCov::Formatter::HTMLFormatter\n  ])\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I assume:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;You already have SimpleCov gem included and configured in your rspec.&lt;/li&gt;\n&lt;li&gt;Your project directory is mounted in &lt;code&gt;/project-mount&lt;/code&gt; in the Docker image that you used to test. SimpleCov somehow uses absolute path inside their result JSON files, and this is the way to make the merge successful.&lt;/li&gt;\n&lt;li&gt;SemaphoreCI git clones into &lt;code&gt;~/reponame&lt;/code&gt; when &lt;code&gt;checkout&lt;/code&gt; command is being run.&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;Update your &lt;code&gt;.semaphore/semaphore.yml&lt;/code&gt;:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;The &lt;code&gt;epilogue&lt;/code&gt; that runs after every parallel tests, and;&lt;/li&gt;\n&lt;li&gt;The block that runs after ALL the tests.&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;.semaphore/semaphore.yml: (something weird with reddit markdown indent)&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;# .semaphore/semaphore.yml\nblocks:\n  - name: &amp;#39;Run tests&amp;#39;\n    task:\n      jobs:\n        - name: &amp;#39;E2E Part 1&amp;#39;\n        - name: &amp;#39;E2E Part 2&amp;#39;\n        - name: &amp;#39;E2E Part 3&amp;#39;\n        - name: &amp;#39;Models&amp;#39;\n        - name: &amp;#39;API&amp;#39;\n      # Copy the commands in the epilogue, this runs after every different test.\n      epilogue:\n        always:\n          commands:\n            - |\n                if [ -d coverage ]; then\n                  artifact push job --expire-in 3d --force coverage;\n                  COV_DIRNAME=simplecov-resultset/$SEMAPHORE_JOB_ID;\n                  sudo chown -R $USER:$USER coverage/;\n                  mkdir -p simplecov-resultset;\n                  mv coverage $COV_DIRNAME;\n                  artifact push workflow --expire-in 2w --force simplecov-resultset;\n                fi\n\n  # Feel free to copy this block below!\n  - name: &amp;#39;Check codebase quality&amp;#39;\n    task:  \n      jobs:\n        - name: &amp;#39;Test coverage&amp;#39;\n          commands:\n            - checkout\n            - |\n                if ! rbenv install -s; then\n                  git -C /home/semaphore/.rbenv/plugins/ruby-build pull &amp;amp;&amp;amp;\n                  rbenv install;\n                fi\n            - sudo mkdir -p /project-mount\n       date: 2020-10-26\n     - sudo chown -R $USER:$USER /project-mount\n            - cd ~\n            - shopt -s dotglob; mv ~/reponame/* /project-mount\n            - cd /project-mount\n            - artifact pull workflow simplecov-resultset\n            - gem install simplecov\n            - ruby scripts/simplecov-collate.rb\n            - cd coverage/\n            - cd /project-mount\n            - zip -r coverage-$SEMAPHORE_GIT_SHA coverage/\n            - artifact push job --expire-in 2w coverage-$SEMAPHORE_GIT_SHA.zip\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Once you are done, commit and push to trigger a CI run.&lt;/p&gt;\n\n&lt;h2&gt;Step 3: Get your test coverage!&lt;/h2&gt;\n\n&lt;p&gt;If the configurations are correct and your test suites pass as usual, this is how you can find your test coverage results.&lt;/p&gt;\n\n&lt;p&gt;Go into the workflow for the latest commit, you should see there is a new block at the end after the parallel tests.&lt;/p&gt;\n\n&lt;p&gt;Click &lt;strong&gt;Job artifacts&lt;/strong&gt; between the console outputs and the job name. That is not the most obvious place, I know. By the time you read this, the UI may have changed again, but it should be somewhere in the page.&lt;/p&gt;\n\n&lt;p&gt;Download and unzip it, then open &lt;code&gt;index.html&lt;/code&gt; file in your browser to view.&lt;/p&gt;\n\n&lt;p&gt;Unlike CircleCI, every artifact on SemaphoreCI cannot be viewed directly in the browser, but rather must be downloaded. It is not very convenient.&lt;/p&gt;\n\n&lt;hr/&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;Why &lt;code&gt;gem install simplecov&lt;/code&gt; separately instead of just using the Docker image I have been using?&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;The Docker images are usually large. Downloading just the gems needed is much quicker than pulling the image all over again. In our case, it takes almost a minute to pull the testing Docker image down, but only 20 seconds to run the whole SimpleCov merging job - from git cloning, to gem install, to uploading artifact.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;What if we did not run tests in Docker image?&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;You should be able to replace &lt;code&gt;/project-mount&lt;/code&gt; with the directory pah the project is git cloned into in previous test jobs.&lt;/p&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;Please let me know if there are better ideas on how to go about this!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "2a348462-af75-11e4-abe9-22000b3d0989", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jic8m8", "is_robot_indexable": true, "report_reasons": null, "author": "TheWolfOfBlk71", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jic8m8/how_to_merge_simplecov_results_on_semaphoreci_20/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jic8m8/how_to_merge_simplecov_results_on_semaphoreci_20/", "subreddit_subscribers": 46370, "created_utc": 1603708719.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I'm curious when is a good time to get a job as a rails developer? \n\nMainly, I'm wondering how much experience you should have before you can feasibly land a rails gig. \n\nI've been building websites for 4 years, coding for 2 years, and doing rails for 1 year. I've built a few rails apps at this point, I also work as a software PM where I also do some light coding to contribute to the app we run. \n\nI still have a lot to learn, but I'm also starting to feel (for the first time ever) confident in my coding skills . I'm good with HTML, CSS, jquery ruby and rails. I've deployed apps using AWS to heroku with mailers and all sorts of fun working features. \n\nHowever, when I look up rails jobs, some of them say 2-5 years experience is a must, and that instantly makes me doubt myself. Does my experience sound like I might be able to get a job as a rails developer. \n\nLIke I said, I am a PM already and I love that position, but I've totally caught the coding bug and I find it's all I ever think about or want to do, wondering if I should try and make the jump to DEV.", "author_fullname": "t2_61wn51zw", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Getting a job as a rails developer", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_ji5n8y", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.87, "author_flair_background_color": null, "subreddit_type": "public", "ups": 11, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 11, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603704747.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;m curious when is a good time to get a job as a rails developer? &lt;/p&gt;\n\n&lt;p&gt;Mainly, I&amp;#39;m wondering how much experience you should have before you can feasibly land a rails gig. &lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;ve been building websites for 4 years, coding for 2 years, and doing rails for 1 year. I&amp;#39;ve built a few rails apps at this point, I also work as a software PM where I also do some light coding to contribute to the app we run. &lt;/p&gt;\n\n&lt;p&gt;I still have a lot to learn, but I&amp;#39;m also starting to feel (for the first time ever) confident in my coding skills . I&amp;#39;m good with HTML, CSS, jquery ruby and rails. I&amp;#39;ve deployed apps using AWS to heroku with mailers and all sorts of fun working features. &lt;/p&gt;\n\n&lt;p&gt;However, when I look up rails jobs, some of them say 2-5 years experience is a must, and that instantly makes me doubt myself. Does my experience sound like I might be able to get a job as a rails developer. &lt;/p&gt;\n\n&lt;p&gt;LIke I said, I am a PM already and I love that position, but I&amp;#39;ve totally caught the coding bug and I find it&amp;#39;s all I ever think about or want to do, wondering if I should try and make the jump to DEV.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "ji5n8y", "is_robot_indexable": true, "report_reasons": null, "author": "Ok_Strike5936", "discussion_type": null, "num_comments": 14, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/ji5n8y/getting_a_job_as_a_rails_developer/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/ji5n8y/getting_a_job_as_a_rails_developer/", "subreddit_subscribers": 46370, "created_utc": 1603675947.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hello, I have a serious situation.\n\nMy projects are using rails 5.2.3 with Delayed Job and a job creates a record and then another job perform with find a record by id.\n\nThe gap between perform another job and create! method called is maybe within 0.5s.\n\nBut sometimes another job could not find a record by id.\n\nSo I was wondering create! method does not guarantee that a transaction is committed?\n\nIf not, how guarantee after commit?", "author_fullname": "t2_3l60j8vd", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "how does create! method work?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": true, "name": "t3_jidiju", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 1, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1603715801.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603743653.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hello, I have a serious situation.&lt;/p&gt;\n\n&lt;p&gt;My projects are using rails 5.2.3 with Delayed Job and a job creates a record and then another job perform with find a record by id.&lt;/p&gt;\n\n&lt;p&gt;The gap between perform another job and create! method called is maybe within 0.5s.&lt;/p&gt;\n\n&lt;p&gt;But sometimes another job could not find a record by id.&lt;/p&gt;\n\n&lt;p&gt;So I was wondering create! method does not guarantee that a transaction is committed?&lt;/p&gt;\n\n&lt;p&gt;If not, how guarantee after commit?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jidiju", "is_robot_indexable": true, "report_reasons": null, "author": "ksh-code", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jidiju/how_does_create_method_work/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jidiju/how_does_create_method_work/", "subreddit_subscribers": 46370, "created_utc": 1603714853.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hello, Rails beginner here. \n\nIs there any built in method in Rails that works like Django model's clean() method?\n\nI'm looking for a way to **sanitize user provided value for a url field**, by removing schema/trailing slash etc.\n\nI'm saving a `Project` model &amp; `Site` models using a nested form. Cleaning it in the controller requires to loop through `params[:sites_attributes].` I can clean the url field in a validation method but it doesn't feel right.\n\nWhat is the best practice regarding sanitising a single or multiple fields before save? Where should i do it?\n\n\\# Project Model\n\n`class Project &lt; ApplicationRecord`\n\n  `has_many :sites`\n\n`end` \n\n\\# Site Model\n\n`class Site &lt; ApplicationRecord`\n\n `belongs_to :project` \n\n  `validate :must_be_valid_url`\n\n`end`\n\n\\# Controller\n\n`def update`  \n `@project = Project.find(params[:id])`  \n `if @project.update(project_params)`  \n`redirect_to edit_project_path(@project)`  \n `else`  \n`render :edit`  \n `end`  \n`end`\n\n`def project_params`  \n `params.require(:project).permit(sites_attributes: [:id, :url, ....])`  \n`end`", "author_fullname": "t2_123c1rbo", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How to sanitize some field values before save?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jicrlg", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 1, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603740169.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hello, Rails beginner here. &lt;/p&gt;\n\n&lt;p&gt;Is there any built in method in Rails that works like Django model&amp;#39;s clean() method?&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m looking for a way to &lt;strong&gt;sanitize user provided value for a url field&lt;/strong&gt;, by removing schema/trailing slash etc.&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m saving a &lt;code&gt;Project&lt;/code&gt; model &amp;amp; &lt;code&gt;Site&lt;/code&gt; models using a nested form. Cleaning it in the controller requires to loop through &lt;code&gt;params[:sites_attributes].&lt;/code&gt; I can clean the url field in a validation method but it doesn&amp;#39;t feel right.&lt;/p&gt;\n\n&lt;p&gt;What is the best practice regarding sanitising a single or multiple fields before save? Where should i do it?&lt;/p&gt;\n\n&lt;p&gt;# Project Model&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;class Project &amp;lt; ApplicationRecord&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;has_many :sites&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;end&lt;/code&gt; &lt;/p&gt;\n\n&lt;p&gt;# Site Model&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;class Site &amp;lt; ApplicationRecord&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;belongs_to :project&lt;/code&gt; &lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;validate :must_be_valid_url&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;end&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;# Controller&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;def update&lt;/code&gt;&lt;br/&gt;\n &lt;code&gt;@project = Project.find(params[:id])&lt;/code&gt;&lt;br/&gt;\n &lt;code&gt;if @project.update(project_params)&lt;/code&gt;&lt;br/&gt;\n&lt;code&gt;redirect_to edit_project_path(@project)&lt;/code&gt;&lt;br/&gt;\n &lt;code&gt;else&lt;/code&gt;&lt;br/&gt;\n&lt;code&gt;render :edit&lt;/code&gt;&lt;br/&gt;\n &lt;code&gt;end&lt;/code&gt;&lt;br/&gt;\n&lt;code&gt;end&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;def project_params&lt;/code&gt;&lt;br/&gt;\n &lt;code&gt;params.require(:project).permit(sites_attributes: [:id, :url, ....])&lt;/code&gt;&lt;br/&gt;\n&lt;code&gt;end&lt;/code&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jicrlg", "is_robot_indexable": true, "report_reasons": null, "author": "EastSwan", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jicrlg/how_to_sanitize_some_field_values_before_save/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jicrlg/how_to_sanitize_some_field_values_before_save/", "subreddit_subscribers": 46370, "created_utc": 1603711369.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "If you had to build a MVP for a new startup, will you choose an authentication provider (auth0 or whatever  equivalent), or will you integrate it inside your application (Clearance, Devise, Sorcery...). I have this choice to do and I find it hard to make the right decision. In theory less software is better, but I feel I loose control over what is happening, and the main interest of Rails is precisely ability to integrate anything. Thanks for your thoughts!", "author_fullname": "t2_14z3on", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "MVP : start with Devise (or equivalent) or auth0 (or equivalent) ?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jhqo9r", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 18, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 18, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603647065.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;If you had to build a MVP for a new startup, will you choose an authentication provider (auth0 or whatever  equivalent), or will you integrate it inside your application (Clearance, Devise, Sorcery...). I have this choice to do and I find it hard to make the right decision. In theory less software is better, but I feel I loose control over what is happening, and the main interest of Rails is precisely ability to integrate anything. Thanks for your thoughts!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jhqo9r", "is_robot_indexable": true, "report_reasons": null, "author": "bdavidxyz", "discussion_type": null, "num_comments": 11, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jhqo9r/mvp_start_with_devise_or_equivalent_or_auth0_or/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jhqo9r/mvp_start_with_devise_or_equivalent_or_auth0_or/", "subreddit_subscribers": 46370, "created_utc": 1603618265.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hi all, \n\nI have an administration system for customers, where they can control the product we are providing. We need to send emails on different actions, to confirm then changes has been done. \n\nSometimes it need to sent an email with different content to 3 receptions. \n\n* The user who did the action\n* The administrator(s) for the users customer\n* Our administrators (or helpdesk shared email)\n\nThe emails contains variables, with data from the execution. \n\nCurrently  we are handing it directly in rails. But now we have partners which also have customers, and might want to make changes in the templates. \n\nTherefore, we need someway smart to handle all the mail templates in a user friendly interface together with the rest of the application. Maybe some markdown support in a simple wysiwyg editor, however that is more a frontend question. First we need the backend to support til mail templates. \n\nTo spice it, we also need to handle multiple languages, however currently we only support two. \n\nWe are using Rails 6 api only as backend and React as frontend.", "author_fullname": "t2_80cdd4ya", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Help: Good way to handle mail templates stored in database", "link_flair_richtext": [{"e": "text", "t": "Question"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "question", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jhomuk", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 9, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Question", "can_mod_post": false, "score": 9, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603635105.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi all, &lt;/p&gt;\n\n&lt;p&gt;I have an administration system for customers, where they can control the product we are providing. We need to send emails on different actions, to confirm then changes has been done. &lt;/p&gt;\n\n&lt;p&gt;Sometimes it need to sent an email with different content to 3 receptions. &lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;The user who did the action&lt;/li&gt;\n&lt;li&gt;The administrator(s) for the users customer&lt;/li&gt;\n&lt;li&gt;Our administrators (or helpdesk shared email)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;The emails contains variables, with data from the execution. &lt;/p&gt;\n\n&lt;p&gt;Currently  we are handing it directly in rails. But now we have partners which also have customers, and might want to make changes in the templates. &lt;/p&gt;\n\n&lt;p&gt;Therefore, we need someway smart to handle all the mail templates in a user friendly interface together with the rest of the application. Maybe some markdown support in a simple wysiwyg editor, however that is more a frontend question. First we need the backend to support til mail templates. &lt;/p&gt;\n\n&lt;p&gt;To spice it, we also need to handle multiple languages, however currently we only support two. &lt;/p&gt;\n\n&lt;p&gt;We are using Rails 6 api only as backend and React as frontend.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "fdfc6806-aea7-11e4-bf37-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jhomuk", "is_robot_indexable": true, "report_reasons": null, "author": "HappyTiger42", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jhomuk/help_good_way_to_handle_mail_templates_stored_in/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jhomuk/help_good_way_to_handle_mail_templates_stored_in/", "subreddit_subscribers": 46370, "created_utc": 1603606305.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "", "author_fullname": "t2_mnbw3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "What are some of the most beautiful rails made websites you've visited?", "link_flair_richtext": [{"e": "text", "t": "Question"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "question", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jhf166", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.83, "author_flair_background_color": null, "subreddit_type": "public", "ups": 19, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Question", "can_mod_post": false, "score": 19, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603596555.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "fdfc6806-aea7-11e4-bf37-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jhf166", "is_robot_indexable": true, "report_reasons": null, "author": "Bulbasaur2015", "discussion_type": null, "num_comments": 15, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jhf166/what_are_some_of_the_most_beautiful_rails_made/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jhf166/what_are_some_of_the_most_beautiful_rails_made/", "subreddit_subscribers": 46370, "created_utc": 1603567755.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Can you make me an example to hide the posts only for the shadow banned user using pundit gem?", "author_fullname": "t2_ujrp7", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Can I use Pundit to shadow ban?", "link_flair_richtext": [{"e": "text", "t": "Gem"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "gem", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jhozhz", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.67, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Gem", "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603637043.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Can you make me an example to hide the posts only for the shadow banned user using pundit gem?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "617bc232-b02e-11e4-916e-22000b230ae2", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jhozhz", "is_robot_indexable": true, "report_reasons": null, "author": "Freank", "discussion_type": null, "num_comments": 3, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jhozhz/can_i_use_pundit_to_shadow_ban/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jhozhz/can_i_use_pundit_to_shadow_ban/", "subreddit_subscribers": 46370, "created_utc": 1603608243.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Solution: I'm disappointed at myself. It was right in [the docs](https://guides.rubyonrails.org/action_controller_overview.html#filters):\n\n```rb\nclass BoardsController &lt; ApplicationController\n    before_action :authenticate_user!\n    before_action :must_be_board_owner\n    skip_before_action :must_be_board_owner, only: [:new, :create, :index]\n\n    # ...\n\n    def must_be_board_owner\n        if current_user != Board.find_by(slug: params[:slug]).user\n            redirect_to root_path\n        end\n    end\nend\n```\n\n---\n\nHi. I currently have the following problem:\nOn my controllers, I have this before_action filter:\n\n```rb\n# as you can see, I'm using Devise\nbefore_action :authenticate_user!\n```\n\nThis checks whether the user is signed in or not.\nHowever, I also need to check whether the current user is allowed to see/modify the current record.\nRight now, I have this (horrible) method:\n\n```rb\n    private def redirect_unless_board_owner! owner\n        redirect_to root_path unless current_user == owner\n    end\n```\n\nUsing it in an action looks like this:\n\n```rb\n        @board = Board.find_by slug: params[:board_slug]\n        redirect_unless_board_owner! @board.user\n\n        @task = Task.find_by slug: params[:slug]\n```\n\nIs there any way that I can make this check a before_action filter? This just looks so ugly in my code, ugh. Thanks.", "author_fullname": "t2_1vwkt1vm", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Automatically check whether the current user is allowed to modify a record", "link_flair_richtext": [{"e": "text", "t": "Help"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jhfm2h", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.92, "author_flair_background_color": null, "subreddit_type": "public", "ups": 9, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Help", "can_mod_post": false, "score": 9, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1603571453.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603598512.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Solution: I&amp;#39;m disappointed at myself. It was right in &lt;a href=\"https://guides.rubyonrails.org/action_controller_overview.html#filters\"&gt;the docs&lt;/a&gt;:&lt;/p&gt;\n\n&lt;p&gt;```rb\nclass BoardsController &amp;lt; ApplicationController\n    before_action :authenticate_user!\n    before_action :must_be_board_owner\n    skip_before_action :must_be_board_owner, only: [:new, :create, :index]&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;# ...\n\ndef must_be_board_owner\n    if current_user != Board.find_by(slug: params[:slug]).user\n        redirect_to root_path\n    end\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;end\n```&lt;/p&gt;\n\n&lt;hr/&gt;\n\n&lt;p&gt;Hi. I currently have the following problem:\nOn my controllers, I have this before_action filter:&lt;/p&gt;\n\n&lt;p&gt;```rb&lt;/p&gt;\n\n&lt;h1&gt;as you can see, I&amp;#39;m using Devise&lt;/h1&gt;\n\n&lt;p&gt;before_action :authenticate_user!\n```&lt;/p&gt;\n\n&lt;p&gt;This checks whether the user is signed in or not.\nHowever, I also need to check whether the current user is allowed to see/modify the current record.\nRight now, I have this (horrible) method:&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;rb\n    private def redirect_unless_board_owner! owner\n        redirect_to root_path unless current_user == owner\n    end\n&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;Using it in an action looks like this:&lt;/p&gt;\n\n&lt;p&gt;```rb\n        @board = Board.find_by slug: params[:board_slug]\n        redirect_unless_board_owner! @board.user&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;    @task = Task.find_by slug: params[:slug]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;```&lt;/p&gt;\n\n&lt;p&gt;Is there any way that I can make this check a before_action filter? This just looks so ugly in my code, ugh. Thanks.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "eef0b990-adfb-11e4-8e15-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jhfm2h", "is_robot_indexable": true, "report_reasons": null, "author": "ImMaaxYT", "discussion_type": null, "num_comments": 4, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jhfm2h/automatically_check_whether_the_current_user_is/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jhfm2h/automatically_check_whether_the_current_user_is/", "subreddit_subscribers": 46370, "created_utc": 1603569712.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I made a bunch of migrations, and this is my schema :\n\n    # This file is auto-generated from the current state of the database. Instead\n    # of editing this file, please use the migrations feature of Active Record to\n    # incrementally modify your database, and then regenerate this schema definition.\n    #\n    # This file is the source Rails uses to define your schema when running `rails\n    # db:schema:load`. When creating a new database, `rails db:schema:load` tends to\n    # be faster and is potentially less error prone than running all of your\n    # migrations from scratch. Old migrations may fail to apply correctly if those\n    # migrations use external dependencies or application code.\n    #\n    # It's strongly recommended that you check this file into your version control system.\n    \n    ActiveRecord::Schema.define(version: 2020_10_14_075849) do\n    \n      create_table \"comments\", options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", force: :cascade do |t|\n        t.text \"body\"\n        t.datetime \"created_at\", precision: 6, null: false\n        t.datetime \"updated_at\", precision: 6, null: false\n        t.integer \"post_id\"\n        t.integer \"user_id\"\n        t.index [\"post_id\"], name: \"index_comments_on_post_id\"\n        t.index [\"user_id\"], name: \"index_comments_on_user_id\"\n      end\n    \n      create_table \"favorites\", options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", force: :cascade do |t|\n        t.string \"favoritable_type\", null: false\n        t.bigint \"favoritable_id\", null: false\n        t.string \"favoritor_type\", null: false\n        t.bigint \"favoritor_id\", null: false\n        t.string \"scope\", default: \"favorite\", null: false\n        t.boolean \"blocked\", default: false, null: false\n        t.datetime \"created_at\", precision: 6, null: false\n        t.datetime \"updated_at\", precision: 6, null: false\n        t.index [\"blocked\"], name: \"index_favorites_on_blocked\"\n        t.index [\"favoritable_id\", \"favoritable_type\"], name: \"fk_favoritables\"\n        t.index [\"favoritable_type\", \"favoritable_id\"], name: \"index_favorites_on_favoritable_type_and_favoritable_id\"\n        t.index [\"favoritor_id\", \"favoritor_type\"], name: \"fk_favorites\"\n        t.index [\"favoritor_type\", \"favoritor_id\"], name: \"index_favorites_on_favoritor_type_and_favoritor_id\"\n        t.index [\"scope\"], name: \"index_favorites_on_scope\"\n      end\n    \n      create_table \"likes\", options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", force: :cascade do |t|\n        t.bigint \"post_id\", null: false\n        t.bigint \"user_id\", null: false\n        t.datetime \"created_at\", precision: 6, null: false\n        t.datetime \"updated_at\", precision: 6, null: false\n        t.index [\"post_id\"], name: \"index_likes_on_post_id\"\n        t.index [\"user_id\"], name: \"index_likes_on_user_id\"\n      end\n    \n      create_table \"posts\", options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", force: :cascade do |t|\n        t.string \"image\"\n        t.text \"caption\"\n        t.datetime \"created_at\", precision: 6, null: false\n        t.datetime \"updated_at\", precision: 6, null: false\n        t.integer \"user_id\"\n        t.index [\"user_id\"], name: \"index_posts_on_user_id\"\n      end\n    \n      create_table \"users\", options: \"ENGINE=InnoDB DEFAULT CHARSET=utf8\", force: :cascade do |t|\n        t.string \"email\", default: \"\", null: false\n        t.string \"encrypted_password\", default: \"\", null: false\n        t.string \"reset_password_token\"\n        t.datetime \"reset_password_sent_at\"\n        t.datetime \"remember_created_at\"\n        t.datetime \"created_at\", precision: 6, null: false\n        t.datetime \"updated_at\", precision: 6, null: false\n        t.string \"username\"\n        t.index [\"email\"], name: \"index_users_on_email\", unique: true\n        t.index [\"reset_password_token\"], name: \"index_users_on_reset_password_token\", unique: true\n        t.index [\"username\"], name: \"index_users_on_username\", unique: true\n      end\n    \n      add_foreign_key \"likes\", \"posts\"\n      add_foreign_key \"likes\", \"users\"\n    end\n\nThen, I added this to the `database.yml` file to make it work with MySQL :\n\n    default: &amp;default\n      adapter: mysql2\n      encoding: utf8\n      pool: &lt;%= ENV.fetch(\"RAILS_MAX_THREADS\") { 5 } %&gt;\n      username: railstagram\n      password: \n      socket: /tmp/mysql.sock\n\nFirst, I'm a bit confused why it didn't ask for port or host, but I assume it's handled somewhere else.\n\nBy the way, when I run `rails db:create` and `rails db:migrate` everything seems just fine, but when I create a user, it seems it doesn't care for the *username* field.\n\nThis is a [link](https://github.com/prp-e/railstagram) to my project. I need to deploy it tonight and I have this problem with MySQL. My development environment is macOS Catalina.", "author_fullname": "t2_1lai2din", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Some columns are not created after going to MySQL", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jh9oaz", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.7, "author_flair_background_color": null, "subreddit_type": "public", "ups": 4, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 4, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603577900.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I made a bunch of migrations, and this is my schema :&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;# This file is auto-generated from the current state of the database. Instead\n# of editing this file, please use the migrations feature of Active Record to\n# incrementally modify your database, and then regenerate this schema definition.\n#\n# This file is the source Rails uses to define your schema when running `rails\n# db:schema:load`. When creating a new database, `rails db:schema:load` tends to\n# be faster and is potentially less error prone than running all of your\n# migrations from scratch. Old migrations may fail to apply correctly if those\n# migrations use external dependencies or application code.\n#\n# It&amp;#39;s strongly recommended that you check this file into your version control system.\n\nActiveRecord::Schema.define(version: 2020_10_14_075849) do\n\n  create_table &amp;quot;comments&amp;quot;, options: &amp;quot;ENGINE=InnoDB DEFAULT CHARSET=utf8&amp;quot;, force: :cascade do |t|\n    t.text &amp;quot;body&amp;quot;\n    t.datetime &amp;quot;created_at&amp;quot;, precision: 6, null: false\n    t.datetime &amp;quot;updated_at&amp;quot;, precision: 6, null: false\n    t.integer &amp;quot;post_id&amp;quot;\n    t.integer &amp;quot;user_id&amp;quot;\n    t.index [&amp;quot;post_id&amp;quot;], name: &amp;quot;index_comments_on_post_id&amp;quot;\n    t.index [&amp;quot;user_id&amp;quot;], name: &amp;quot;index_comments_on_user_id&amp;quot;\n  end\n\n  create_table &amp;quot;favorites&amp;quot;, options: &amp;quot;ENGINE=InnoDB DEFAULT CHARSET=utf8&amp;quot;, force: :cascade do |t|\n    t.string &amp;quot;favoritable_type&amp;quot;, null: false\n    t.bigint &amp;quot;favoritable_id&amp;quot;, null: false\n    t.string &amp;quot;favoritor_type&amp;quot;, null: false\n    t.bigint &amp;quot;favoritor_id&amp;quot;, null: false\n    t.string &amp;quot;scope&amp;quot;, default: &amp;quot;favorite&amp;quot;, null: false\n    t.boolean &amp;quot;blocked&amp;quot;, default: false, null: false\n    t.datetime &amp;quot;created_at&amp;quot;, precision: 6, null: false\n    t.datetime &amp;quot;updated_at&amp;quot;, precision: 6, null: false\n    t.index [&amp;quot;blocked&amp;quot;], name: &amp;quot;index_favorites_on_blocked&amp;quot;\n    t.index [&amp;quot;favoritable_id&amp;quot;, &amp;quot;favoritable_type&amp;quot;], name: &amp;quot;fk_favoritables&amp;quot;\n    t.index [&amp;quot;favoritable_type&amp;quot;, &amp;quot;favoritable_id&amp;quot;], name: &amp;quot;index_favorites_on_favoritable_type_and_favoritable_id&amp;quot;\n    t.index [&amp;quot;favoritor_id&amp;quot;, &amp;quot;favoritor_type&amp;quot;], name: &amp;quot;fk_favorites&amp;quot;\n    t.index [&amp;quot;favoritor_type&amp;quot;, &amp;quot;favoritor_id&amp;quot;], name: &amp;quot;index_favorites_on_favoritor_type_and_favoritor_id&amp;quot;\n    t.index [&amp;quot;scope&amp;quot;], name: &amp;quot;index_favorites_on_scope&amp;quot;\n  end\n\n  create_table &amp;quot;likes&amp;quot;, options: &amp;quot;ENGINE=InnoDB DEFAULT CHARSET=utf8&amp;quot;, force: :cascade do |t|\n    t.bigint &amp;quot;post_id&amp;quot;, null: false\n    t.bigint &amp;quot;user_id&amp;quot;, null: false\n    t.datetime &amp;quot;created_at&amp;quot;, precision: 6, null: false\n    t.datetime &amp;quot;updated_at&amp;quot;, precision: 6, null: false\n    t.index [&amp;quot;post_id&amp;quot;], name: &amp;quot;index_likes_on_post_id&amp;quot;\n    t.index [&amp;quot;user_id&amp;quot;], name: &amp;quot;index_likes_on_user_id&amp;quot;\n  end\n\n  create_table &amp;quot;posts&amp;quot;, options: &amp;quot;ENGINE=InnoDB DEFAULT CHARSET=utf8&amp;quot;, force: :cascade do |t|\n    t.string &amp;quot;image&amp;quot;\n    t.text &amp;quot;caption&amp;quot;\n    t.datetime &amp;quot;created_at&amp;quot;, precision: 6, null: false\n    t.datetime &amp;quot;updated_at&amp;quot;, precision: 6, null: false\n    t.integer &amp;quot;user_id&amp;quot;\n    t.index [&amp;quot;user_id&amp;quot;], name: &amp;quot;index_posts_on_user_id&amp;quot;\n  end\n\n  create_table &amp;quot;users&amp;quot;, options: &amp;quot;ENGINE=InnoDB DEFAULT CHARSET=utf8&amp;quot;, force: :cascade do |t|\n    t.string &amp;quot;email&amp;quot;, default: &amp;quot;&amp;quot;, null: false\n    t.string &amp;quot;encrypted_password&amp;quot;, default: &amp;quot;&amp;quot;, null: false\n    t.string &amp;quot;reset_password_token&amp;quot;\n    t.datetime &amp;quot;reset_password_sent_at&amp;quot;\n    t.datetime &amp;quot;remember_created_at&amp;quot;\n    t.datetime &amp;quot;created_at&amp;quot;, precision: 6, null: false\n    t.datetime &amp;quot;updated_at&amp;quot;, precision: 6, null: false\n    t.string &amp;quot;username&amp;quot;\n    t.index [&amp;quot;email&amp;quot;], name: &amp;quot;index_users_on_email&amp;quot;, unique: true\n    t.index [&amp;quot;reset_password_token&amp;quot;], name: &amp;quot;index_users_on_reset_password_token&amp;quot;, unique: true\n    t.index [&amp;quot;username&amp;quot;], name: &amp;quot;index_users_on_username&amp;quot;, unique: true\n  end\n\n  add_foreign_key &amp;quot;likes&amp;quot;, &amp;quot;posts&amp;quot;\n  add_foreign_key &amp;quot;likes&amp;quot;, &amp;quot;users&amp;quot;\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Then, I added this to the &lt;code&gt;database.yml&lt;/code&gt; file to make it work with MySQL :&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;default: &amp;amp;default\n  adapter: mysql2\n  encoding: utf8\n  pool: &amp;lt;%= ENV.fetch(&amp;quot;RAILS_MAX_THREADS&amp;quot;) { 5 } %&amp;gt;\n  username: railstagram\n  password: \n  socket: /tmp/mysql.sock\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;First, I&amp;#39;m a bit confused why it didn&amp;#39;t ask for port or host, but I assume it&amp;#39;s handled somewhere else.&lt;/p&gt;\n\n&lt;p&gt;By the way, when I run &lt;code&gt;rails db:create&lt;/code&gt; and &lt;code&gt;rails db:migrate&lt;/code&gt; everything seems just fine, but when I create a user, it seems it doesn&amp;#39;t care for the &lt;em&gt;username&lt;/em&gt; field.&lt;/p&gt;\n\n&lt;p&gt;This is a &lt;a href=\"https://github.com/prp-e/railstagram\"&gt;link&lt;/a&gt; to my project. I need to deploy it tonight and I have this problem with MySQL. My development environment is macOS Catalina.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jh9oaz", "is_robot_indexable": true, "report_reasons": null, "author": "Haghiri75", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jh9oaz/some_columns_are_not_created_after_going_to_mysql/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jh9oaz/some_columns_are_not_created_after_going_to_mysql/", "subreddit_subscribers": 46370, "created_utc": 1603549100.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_jh9oaz", "before": null}}