{"kind": "Listing", "data": {"modhash": "", "dist": 12, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "In this thread you can showcase your personal pet project to other redditors.\n\nNeed help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!\n\nA suggested format to get you started:\n\n1. **Name of your project**\n2. **A short description**\n3. **Application stack**\n4. **Link to Live app**\n5. **Link to GitHub**\n6. **You experience level**\n7. **Other information or areas that you would like advice on**\n\n\u00a0\n\n^(Many thanks to Kritnc for getting the ball rolling.)", "author_fullname": "t2_6l4z3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Personal Projects - Show off your own project and/or ask for advice", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_f9t9kq", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 8, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 8, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1582752767.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;In this thread you can showcase your personal pet project to other redditors.&lt;/p&gt;\n\n&lt;p&gt;Need help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!&lt;/p&gt;\n\n&lt;p&gt;A suggested format to get you started:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;Name of your project&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;A short description&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Application stack&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to Live app&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to GitHub&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;You experience level&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Other information or areas that you would like advice on&lt;/strong&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;\u00a0&lt;/p&gt;\n\n&lt;p&gt;&lt;sup&gt;Many thanks to Kritnc for getting the ball rolling.&lt;/sup&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f9t9kq", "is_robot_indexable": true, "report_reasons": null, "author": "AutoModerator", "discussion_type": null, "num_comments": 9, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/f9t9kq/personal_projects_show_off_your_own_project_andor/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rails/comments/f9t9kq/personal_projects_show_off_your_own_project_andor/", "subreddit_subscribers": 42783, "created_utc": 1582723967.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Please use this thread to discuss **cool** but relatively **unknown** gems you've found.\n\nYou **should not** post popular gems such as [those listed in wiki](https://www.reddit.com/r/rails/wiki/index#wiki_popular_gems) that are already well known.\n\nPlease include a **description** and a **link** to the gem's homepage in your comment.", "author_fullname": "t2_6l4z3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Gimme Gems Thursdays - Found an awesome new gem? Post it here!", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_fduax9", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 4, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 4, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583438857.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Please use this thread to discuss &lt;strong&gt;cool&lt;/strong&gt; but relatively &lt;strong&gt;unknown&lt;/strong&gt; gems you&amp;#39;ve found.&lt;/p&gt;\n\n&lt;p&gt;You &lt;strong&gt;should not&lt;/strong&gt; post popular gems such as &lt;a href=\"https://www.reddit.com/r/rails/wiki/index#wiki_popular_gems\"&gt;those listed in wiki&lt;/a&gt; that are already well known.&lt;/p&gt;\n\n&lt;p&gt;Please include a &lt;strong&gt;description&lt;/strong&gt; and a &lt;strong&gt;link&lt;/strong&gt; to the gem&amp;#39;s homepage in your comment.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "fduax9", "is_robot_indexable": true, "report_reasons": null, "author": "AutoModerator", "discussion_type": null, "num_comments": 7, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/fduax9/gimme_gems_thursdays_found_an_awesome_new_gem/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rails/comments/fduax9/gimme_gems_thursdays_found_an_awesome_new_gem/", "subreddit_subscribers": 42783, "created_utc": 1583410057.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I have this project where there are N devices in the field that beam back telemetry data **once every minute** per device. The ingest API for that is fine, but I'm running into some concerns about _reading_ that data, specifically for building a graph.\n\nData is in PostgreSQL and roughly resembles this:\n\n```\n    create_table :telemetry do |t|\n      # some unrelated stuff here\n      t.float         :some_value, null: false, default: 0.0\n      t.timestamps\n    end\n```\n\nSo there's one row per minute per device in this database. At 24 hours in one day times 60 rows per hour (one per minute), we have **1,440 rows of telemetry data!**\n\nNow, querying this is easy enough if we don't care about how evenly distributed that data is:\n\n```\n@telemetry = Telemetry.where('created_at &gt; ?', 24.hours.ago).order(created_at: :asc)\n```\n\nI could of course throw a limit on that, but then we'd just get the first N minutes of the data. So for example if I were to limit that to 50 rows, I'd only get back less than the first hour of all 24 hours.\n\nIs there a better way to do this? For example, let's say I want two data points per hour (so one every 30 minutes). I _could_ try creating a loop then using the loop to craft and execute a new query for every trip through said loop, but that also sounds pretty inefficient.\n\nHow do I _efficiently_ do something like this? What should I be googling for?", "author_fullname": "t2_17252c", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How do I efficiently query telemetry data?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_feswoh", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 4, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 4, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583601911.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have this project where there are N devices in the field that beam back telemetry data &lt;strong&gt;once every minute&lt;/strong&gt; per device. The ingest API for that is fine, but I&amp;#39;m running into some concerns about &lt;em&gt;reading&lt;/em&gt; that data, specifically for building a graph.&lt;/p&gt;\n\n&lt;p&gt;Data is in PostgreSQL and roughly resembles this:&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;\n    create_table :telemetry do |t|\n      # some unrelated stuff here\n      t.float         :some_value, null: false, default: 0.0\n      t.timestamps\n    end\n&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;So there&amp;#39;s one row per minute per device in this database. At 24 hours in one day times 60 rows per hour (one per minute), we have &lt;strong&gt;1,440 rows of telemetry data!&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Now, querying this is easy enough if we don&amp;#39;t care about how evenly distributed that data is:&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;\n@telemetry = Telemetry.where(&amp;#39;created_at &amp;gt; ?&amp;#39;, 24.hours.ago).order(created_at: :asc)\n&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;I could of course throw a limit on that, but then we&amp;#39;d just get the first N minutes of the data. So for example if I were to limit that to 50 rows, I&amp;#39;d only get back less than the first hour of all 24 hours.&lt;/p&gt;\n\n&lt;p&gt;Is there a better way to do this? For example, let&amp;#39;s say I want two data points per hour (so one every 30 minutes). I &lt;em&gt;could&lt;/em&gt; try creating a loop then using the loop to craft and execute a new query for every trip through said loop, but that also sounds pretty inefficient.&lt;/p&gt;\n\n&lt;p&gt;How do I &lt;em&gt;efficiently&lt;/em&gt; do something like this? What should I be googling for?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "feswoh", "is_robot_indexable": true, "report_reasons": null, "author": "prophet-of-dissent", "discussion_type": null, "num_comments": 7, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/feswoh/how_do_i_efficiently_query_telemetry_data/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/feswoh/how_do_i_efficiently_query_telemetry_data/", "subreddit_subscribers": 42783, "created_utc": 1583573111.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "So I have a record that I would like to delete, and it has many associated records. And every record has multiple after_destroy callbacks including one that sends a notification for the affected users.\n\nThe problem here is that I want to fire all the callbacks actions but only skip the one that sends the notification. How can I achieve that?", "author_fullname": "t2_5g47rmml", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How do I delete a record and it's associated records and only skip one callback action for each, that sends a notification?", "link_flair_richtext": [{"e": "text", "t": "Discussion"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "discussion", "downs": 0, "hide_score": false, "name": "t3_fethwh", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Discussion", "can_mod_post": false, "score": 3, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583606085.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;So I have a record that I would like to delete, and it has many associated records. And every record has multiple after_destroy callbacks including one that sends a notification for the affected users.&lt;/p&gt;\n\n&lt;p&gt;The problem here is that I want to fire all the callbacks actions but only skip the one that sends the notification. How can I achieve that?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "a5131406-c185-11e4-b5eb-22000bc14795", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "fethwh", "is_robot_indexable": true, "report_reasons": null, "author": "Ashour15", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/fethwh/how_do_i_delete_a_record_and_its_associated/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/fethwh/how_do_i_delete_a_record_and_its_associated/", "subreddit_subscribers": 42783, "created_utc": 1583577285.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I need to call two separate methods that do a commit to the database and I'm wondering if I wrap these methods inside a transaction will it work properly. \n\n    ActiveRecord::Base.transaction do \n        destroy_roles\n        save_user\n    end\n\nand destroy roles looks like this \n\n    def destroy_roles\n      current_user.roles.destroy(role_to_be_destroy)\n    end\n\nand save\\_user is \n\n    def save_user \n      current_user.update_attributes(user_params)\n    end \n\nSo when `destroy_roles` is called within the transaction the role is deleted with `begin` and `commit` which will usually succeed but it's unlikely the `save_user` will succeed which is why I want `destroy_roles` to be rolled back but since each `destroy` happens withing a `begin` and `commit` I'm wondering if this will be rolled back if `save_user` fails.  \n\nI also have another question about if we should user the `!` version inside the transaction like `update_attributes!` as opposed to `update_attribute` and so on. What difference would it make inside a transaction?\n\nP.S in impossible to avoid writing this as a single commit as the roles have to be deleted first so that the before\\_update callbacks have the correct roles for further processing before user is saved", "author_fullname": "t2_pgq24c7", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Question about wrapping destroy inside a transaction", "link_flair_richtext": [{"e": "text", "t": "Question"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "question", "downs": 0, "hide_score": false, "name": "t3_fepzsn", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 4, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Question", "can_mod_post": false, "score": 4, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583583618.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I need to call two separate methods that do a commit to the database and I&amp;#39;m wondering if I wrap these methods inside a transaction will it work properly. &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;ActiveRecord::Base.transaction do \n    destroy_roles\n    save_user\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;and destroy roles looks like this &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;def destroy_roles\n  current_user.roles.destroy(role_to_be_destroy)\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;and save_user is &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;def save_user \n  current_user.update_attributes(user_params)\nend \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;So when &lt;code&gt;destroy_roles&lt;/code&gt; is called within the transaction the role is deleted with &lt;code&gt;begin&lt;/code&gt; and &lt;code&gt;commit&lt;/code&gt; which will usually succeed but it&amp;#39;s unlikely the &lt;code&gt;save_user&lt;/code&gt; will succeed which is why I want &lt;code&gt;destroy_roles&lt;/code&gt; to be rolled back but since each &lt;code&gt;destroy&lt;/code&gt; happens withing a &lt;code&gt;begin&lt;/code&gt; and &lt;code&gt;commit&lt;/code&gt; I&amp;#39;m wondering if this will be rolled back if &lt;code&gt;save_user&lt;/code&gt; fails.  &lt;/p&gt;\n\n&lt;p&gt;I also have another question about if we should user the &lt;code&gt;!&lt;/code&gt; version inside the transaction like &lt;code&gt;update_attributes!&lt;/code&gt; as opposed to &lt;code&gt;update_attribute&lt;/code&gt; and so on. What difference would it make inside a transaction?&lt;/p&gt;\n\n&lt;p&gt;P.S in impossible to avoid writing this as a single commit as the roles have to be deleted first so that the before_update callbacks have the correct roles for further processing before user is saved&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "fdfc6806-aea7-11e4-bf37-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "fepzsn", "is_robot_indexable": true, "report_reasons": null, "author": "bennyman32", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/fepzsn/question_about_wrapping_destroy_inside_a/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/fepzsn/question_about_wrapping_destroy_inside_a/", "subreddit_subscribers": 42783, "created_utc": 1583554818.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hi all,  \n\n\nI'm new to TDD and I'm trying to write a very simple test - checking if a value is a string.  \n\n\nHere's the test (which I'm trying to make fail):  \n\n\n    test \"test model name should be a string\" do\n        test_model(:one).name = 1\n        assert_equal true, test_model(:one).name.is_a?(String)\n      end\n    \n    =&gt; 0 Failures\n\nI've tried using byebug to check the value of test\\_model(:one).name, and even though I'm assigning as 1, it's actually assigning it as \"1\" (A string rather than an integer).  \n\n\n1) Why is it doing this?  \n2) How do I test for this case?  \n\n\nThanks.", "author_fullname": "t2_xktv3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Assigning a test case to an integer doesn't work - how do I test for a non string value?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_fendcw", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 6, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 6, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583570769.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi all,  &lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m new to TDD and I&amp;#39;m trying to write a very simple test - checking if a value is a string.  &lt;/p&gt;\n\n&lt;p&gt;Here&amp;#39;s the test (which I&amp;#39;m trying to make fail):  &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;test &amp;quot;test model name should be a string&amp;quot; do\n    test_model(:one).name = 1\n    assert_equal true, test_model(:one).name.is_a?(String)\n  end\n\n=&amp;gt; 0 Failures\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I&amp;#39;ve tried using byebug to check the value of test_model(:one).name, and even though I&amp;#39;m assigning as 1, it&amp;#39;s actually assigning it as &amp;quot;1&amp;quot; (A string rather than an integer).  &lt;/p&gt;\n\n&lt;p&gt;1) Why is it doing this?&lt;br/&gt;\n2) How do I test for this case?  &lt;/p&gt;\n\n&lt;p&gt;Thanks.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "fendcw", "is_robot_indexable": true, "report_reasons": null, "author": "spinsilo", "discussion_type": null, "num_comments": 11, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/fendcw/assigning_a_test_case_to_an_integer_doesnt_work/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/fendcw/assigning_a_test_case_to_an_integer_doesnt_work/", "subreddit_subscribers": 42783, "created_utc": 1583541969.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hopefully someone can help me. I put my rails 6 project on github, then did a fresh install of my os deleting everything. After getting my project back on my \u201cnew\u201d computer I was trying to add some secret keys in my credentials.yml file but get an error saying my master key doesn\u2019t match. After some googling and no information on how to reset the key. Here I am. Thanks in advance for any help.", "author_fullname": "t2_4levm1n0", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Lost master key rails 6", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_feo3gu", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 3, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583574149.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hopefully someone can help me. I put my rails 6 project on github, then did a fresh install of my os deleting everything. After getting my project back on my \u201cnew\u201d computer I was trying to add some secret keys in my credentials.yml file but get an error saying my master key doesn\u2019t match. After some googling and no information on how to reset the key. Here I am. Thanks in advance for any help.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "feo3gu", "is_robot_indexable": true, "report_reasons": null, "author": "Dnickerson1986", "discussion_type": null, "num_comments": 5, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/feo3gu/lost_master_key_rails_6/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/feo3gu/lost_master_key_rails_6/", "subreddit_subscribers": 42783, "created_utc": 1583545349.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hey guys I\u2019m starting my journey into rails. The one problem I have is the lack of high quality videos out there that show everything. I come from front end and there\u2019s so many videos on setting up react and your environment and basically projects and they show how everything is done and why. With rails there\u2019s only these huge 5-7 hour projects with no set up or anything. \n\nMy question is do you guys have any good YouTubers you recommend that helped you? \n\nI looked through the side bar and history and everyone just says read books and stuff but I learn the best with videos. Thanks guys", "author_fullname": "t2_wb6ee", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Video as a medium for rails", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_feri5d", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 1, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583592254.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey guys I\u2019m starting my journey into rails. The one problem I have is the lack of high quality videos out there that show everything. I come from front end and there\u2019s so many videos on setting up react and your environment and basically projects and they show how everything is done and why. With rails there\u2019s only these huge 5-7 hour projects with no set up or anything. &lt;/p&gt;\n\n&lt;p&gt;My question is do you guys have any good YouTubers you recommend that helped you? &lt;/p&gt;\n\n&lt;p&gt;I looked through the side bar and history and everyone just says read books and stuff but I learn the best with videos. Thanks guys&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "feri5d", "is_robot_indexable": true, "report_reasons": null, "author": "pinksniper", "discussion_type": null, "num_comments": 13, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/feri5d/video_as_a_medium_for_rails/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/feri5d/video_as_a_medium_for_rails/", "subreddit_subscribers": 42783, "created_utc": 1583563454.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hello guys, I need an opinion. I am creating a shopping platform, and basic functionality is as follows: suppliers have a product page, buyers can buy from them.\n\nOther details: \n\n* I have the Account model which can be of two types: Buyer and Supplier. \n\n* Product model is associated with Account of the type 'Supplier'. \n\n* Also, there is User model which belongs to Account (both suppliers and buyers can have Users).\n\nHow would you model this?\n\nI was thinking about Single table inheritance - creating Account model which inherits from ActiveRecord, and two Ruby classes for Buyer and Supplier. Putting mutual fields in Account model along with the User association, and different functionality in Account's sub-classes. What bothers me is that I don't know how to avoid having Account of type Buyer associated with Products.\n\nIs this a good approach?", "author_fullname": "t2_lfqzx", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Data modeling - is single table inheritance approach good here", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_fegw2e", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 7, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 7, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583544682.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hello guys, I need an opinion. I am creating a shopping platform, and basic functionality is as follows: suppliers have a product page, buyers can buy from them.&lt;/p&gt;\n\n&lt;p&gt;Other details: &lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;I have the Account model which can be of two types: Buyer and Supplier. &lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Product model is associated with Account of the type &amp;#39;Supplier&amp;#39;. &lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Also, there is User model which belongs to Account (both suppliers and buyers can have Users).&lt;/p&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;How would you model this?&lt;/p&gt;\n\n&lt;p&gt;I was thinking about Single table inheritance - creating Account model which inherits from ActiveRecord, and two Ruby classes for Buyer and Supplier. Putting mutual fields in Account model along with the User association, and different functionality in Account&amp;#39;s sub-classes. What bothers me is that I don&amp;#39;t know how to avoid having Account of type Buyer associated with Products.&lt;/p&gt;\n\n&lt;p&gt;Is this a good approach?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "fegw2e", "is_robot_indexable": true, "report_reasons": null, "author": "StartSpring", "discussion_type": null, "num_comments": 10, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/fegw2e/data_modeling_is_single_table_inheritance/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/fegw2e/data_modeling_is_single_table_inheritance/", "subreddit_subscribers": 42783, "created_utc": 1583515882.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hey guys, wanted some quick thoughts on this:\n\nSuppose my controller has both a \"create\" and \"update\" action, and in both actions an instance variable needs to be instantiated the same way:\n\n    \\@purchase_date = Date.civil(params[:application][\"purchase_date(1i)\"].to_i,\n    params[:application][\"purchase_date(2i)\"].to_i, params[:application][\"purchase_date(3i)\"].to_i)\n\nI think there's three ways to do this:\n\n**\\\\1. Simply copy paste this code in both create and update action. Improves readability of code but is it DRY?**\n\n    def create\n      \\@purchase_date = Date.civil(params[:application][\"purchase_date(1i)\"].to_i,\n     params[:application][\"purchase_date(2i)\"].to_i,\n     params[:application][\"purchase_date(3i)\"].to_i)\n      // more code\n    end\n    \n    def update\n      \\@purchase_date = Date.civil(params[:application][\"purchase_date(1i)\"].to_i,\n     params[:application][\"purchase_date(2i)\"].to_i,\n     params[:application][\"purchase_date(3i)\"].to_i)\n      // more code\n    end\n\n**\\\\2. Make a private method in controller that populates the instance variable and just stick the method in both create and update**\n\n    def create\n      set_purchase_date\n      // more code\n    end\n    \n    def update\n      set_purchase_date\n      // more code\n    end\n    \n    private\n    \n    def set_purchase_date\n      @purchase_date = Date.civil(params[:application][\"purchase_date(1i)\"].to_i, params[:application][\"purchase_date(2i)\"].to_i, params[:application][\"purchase_date(3i)\"].to_i) \n    end\n\n**\\\\3. Make a private method in controller that returns the object needed by instance variable and make instance variable equal to that**\n\n    def create\n      \\@purchase_date = set_purchase_date\n      // more code\n    end\n    \n    def update\n      \\@purchase_date = set_purchase_date\n      // more code\n    end\n    \n    private\n    \n    def set_purchase_date\n      Date.civil(params[:application][\"purchase_date(1i)\"].to_i, params[:application]  [\"purchase_date(2i)\"].to_i, params[:application][\"purchase_date(3i)\"].to_i) \n    end\n\n&amp;#x200B;\n\nWhat's the best way to go here? Which do you prefer? Is there another way?\n\n&amp;#x200B;\n\nEdit: Ignore the \\\\@ thing, I have no idea how to escape the auto formatting reddit does for @", "author_fullname": "t2_3sweig51", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Keeping controller DRY with methods?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_fen6xg", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1583541370.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583569975.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey guys, wanted some quick thoughts on this:&lt;/p&gt;\n\n&lt;p&gt;Suppose my controller has both a &amp;quot;create&amp;quot; and &amp;quot;update&amp;quot; action, and in both actions an instance variable needs to be instantiated the same way:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;\\@purchase_date = Date.civil(params[:application][&amp;quot;purchase_date(1i)&amp;quot;].to_i,\nparams[:application][&amp;quot;purchase_date(2i)&amp;quot;].to_i, params[:application][&amp;quot;purchase_date(3i)&amp;quot;].to_i)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I think there&amp;#39;s three ways to do this:&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;\\1. Simply copy paste this code in both create and update action. Improves readability of code but is it DRY?&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;def create\n  \\@purchase_date = Date.civil(params[:application][&amp;quot;purchase_date(1i)&amp;quot;].to_i,\n params[:application][&amp;quot;purchase_date(2i)&amp;quot;].to_i,\n params[:application][&amp;quot;purchase_date(3i)&amp;quot;].to_i)\n  // more code\nend\n\ndef update\n  \\@purchase_date = Date.civil(params[:application][&amp;quot;purchase_date(1i)&amp;quot;].to_i,\n params[:application][&amp;quot;purchase_date(2i)&amp;quot;].to_i,\n params[:application][&amp;quot;purchase_date(3i)&amp;quot;].to_i)\n  // more code\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;\\2. Make a private method in controller that populates the instance variable and just stick the method in both create and update&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;def create\n  set_purchase_date\n  // more code\nend\n\ndef update\n  set_purchase_date\n  // more code\nend\n\nprivate\n\ndef set_purchase_date\n  @purchase_date = Date.civil(params[:application][&amp;quot;purchase_date(1i)&amp;quot;].to_i, params[:application][&amp;quot;purchase_date(2i)&amp;quot;].to_i, params[:application][&amp;quot;purchase_date(3i)&amp;quot;].to_i) \nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;\\3. Make a private method in controller that returns the object needed by instance variable and make instance variable equal to that&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;def create\n  \\@purchase_date = set_purchase_date\n  // more code\nend\n\ndef update\n  \\@purchase_date = set_purchase_date\n  // more code\nend\n\nprivate\n\ndef set_purchase_date\n  Date.civil(params[:application][&amp;quot;purchase_date(1i)&amp;quot;].to_i, params[:application]  [&amp;quot;purchase_date(2i)&amp;quot;].to_i, params[:application][&amp;quot;purchase_date(3i)&amp;quot;].to_i) \nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;What&amp;#39;s the best way to go here? Which do you prefer? Is there another way?&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;Edit: Ignore the \\@ thing, I have no idea how to escape the auto formatting reddit does for @&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "fen6xg", "is_robot_indexable": true, "report_reasons": null, "author": "railsprogrammer94", "discussion_type": null, "num_comments": 11, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/fen6xg/keeping_controller_dry_with_methods/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/fen6xg/keeping_controller_dry_with_methods/", "subreddit_subscribers": 42783, "created_utc": 1583541175.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Let's say I have a JSON object containing an array of 300+ objects. I want to create an instance of a given model for each of these then save that instance to the database.\n\nNow, I know I can do this in a loop, but that seems pretty inefficient for several hundred objects. **Is there a more efficient way to do this, and if so, what should I be looking** (googling) **for?**\n\n```\n# This seems like a very inefficient way to do things with 300-1000\n# things in params[:something] (and no I can't reduce or predict that\n# number of things).\njson = JSON.parse(params[:something])\njson['foo'].each do |foo|\n  bar = Foo.new(thing1: foo['thing1'], thing2: foo['thing2'])\n  bar.save\nend\n```", "author_fullname": "t2_17252c", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Is there a more efficient way to add hundreds of things to the database?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_fe82w2", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 9, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 9, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583497313.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Let&amp;#39;s say I have a JSON object containing an array of 300+ objects. I want to create an instance of a given model for each of these then save that instance to the database.&lt;/p&gt;\n\n&lt;p&gt;Now, I know I can do this in a loop, but that seems pretty inefficient for several hundred objects. &lt;strong&gt;Is there a more efficient way to do this, and if so, what should I be looking&lt;/strong&gt; (googling) &lt;strong&gt;for?&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;```&lt;/p&gt;\n\n&lt;h1&gt;This seems like a very inefficient way to do things with 300-1000&lt;/h1&gt;\n\n&lt;h1&gt;things in params[:something] (and no I can&amp;#39;t reduce or predict that&lt;/h1&gt;\n\n&lt;h1&gt;number of things).&lt;/h1&gt;\n\n&lt;p&gt;json = JSON.parse(params[:something])\njson[&amp;#39;foo&amp;#39;].each do |foo|\n  bar = Foo.new(thing1: foo[&amp;#39;thing1&amp;#39;], thing2: foo[&amp;#39;thing2&amp;#39;])\n  bar.save\nend\n```&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "fe82w2", "is_robot_indexable": true, "report_reasons": null, "author": "prophet-of-dissent", "discussion_type": null, "num_comments": 15, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/fe82w2/is_there_a_more_efficient_way_to_add_hundreds_of/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/fe82w2/is_there_a_more_efficient_way_to_add_hundreds_of/", "subreddit_subscribers": 42783, "created_utc": 1583468513.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hey gang, I'm having a bit of trouble researching anything truly applicable to my specific case.  For context, my company has \\~150 different applications (different code, different purpose, no reliance on each other) each deployed to its own set of EC2 servers based on the needs of the application.  To do this, our deployment stack uses Capistrano 2 and an internal version of Rubber.  This has worked for years but management is pushing modernization and I want to make sure that it's done with the best available resources that will avoid as many blockers down the road.\n\nEverything I find is mainly designed under the context that all containers are generally related and grouped as such.  When that's not the case, there's only a small number.  \n\n\nStill, all research points to Docker. Creating an image that we could use as a base for all applications then each application would be created as its own container.  That seems like just as much management of resources at the end of the day but with slightly simpler deployment.  \n\n\nTo help with said management, I've seen suggestions of setting up Kubernetes, turning each application into its own cluster and using Rancher (or alternatives).  While this sounds good in theory, Kubernetes isn't exactly designed for this purpose.  It would work but I'm not sure it's the best solution.\n\n&amp;#x200B;\n\nSo I'm hoping someone out there may have insight or advice.  Anything at all is greatly appreciated.", "author_fullname": "t2_6mi08", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Deploying Hundreds of Applications to AWS", "link_flair_richtext": [{"e": "text", "t": "Deployment"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "deployment", "downs": 0, "hide_score": false, "name": "t3_fe448t", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 9, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Deployment", "can_mod_post": false, "score": 9, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583479201.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey gang, I&amp;#39;m having a bit of trouble researching anything truly applicable to my specific case.  For context, my company has ~150 different applications (different code, different purpose, no reliance on each other) each deployed to its own set of EC2 servers based on the needs of the application.  To do this, our deployment stack uses Capistrano 2 and an internal version of Rubber.  This has worked for years but management is pushing modernization and I want to make sure that it&amp;#39;s done with the best available resources that will avoid as many blockers down the road.&lt;/p&gt;\n\n&lt;p&gt;Everything I find is mainly designed under the context that all containers are generally related and grouped as such.  When that&amp;#39;s not the case, there&amp;#39;s only a small number.  &lt;/p&gt;\n\n&lt;p&gt;Still, all research points to Docker. Creating an image that we could use as a base for all applications then each application would be created as its own container.  That seems like just as much management of resources at the end of the day but with slightly simpler deployment.  &lt;/p&gt;\n\n&lt;p&gt;To help with said management, I&amp;#39;ve seen suggestions of setting up Kubernetes, turning each application into its own cluster and using Rancher (or alternatives).  While this sounds good in theory, Kubernetes isn&amp;#39;t exactly designed for this purpose.  It would work but I&amp;#39;m not sure it&amp;#39;s the best solution.&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;So I&amp;#39;m hoping someone out there may have insight or advice.  Anything at all is greatly appreciated.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "1721fb16-af75-11e4-8726-22000bc18a73", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "fe448t", "is_robot_indexable": true, "report_reasons": null, "author": "Liarea", "discussion_type": null, "num_comments": 25, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/fe448t/deploying_hundreds_of_applications_to_aws/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/fe448t/deploying_hundreds_of_applications_to_aws/", "subreddit_subscribers": 42783, "created_utc": 1583450401.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_fe448t", "before": null}}