{"kind": "Listing", "data": {"modhash": "", "dist": 10, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hey there Rails community! I am building a beginner web app . \n\nThe app contains users that register/log in (using devise) and bus tickets that are shown on the welcome page. Everyone can see the bus tickets, but only users that are registered+logged in can buy (its fake buying :D). Additionally, users that have bought the ticket have the option to cancel it (no later than 1 hour before bus starts).\n\nThe tricky part here for me is how to display the tickets that the user already bought, and then to add the option of cancelling. I thought maybe to add a third table that would connect users and tickets, and then display that on the \"My tickets\" page? Not sure how to accomplish that. \n\nIf anyone could chip in with a bit of advice I would be really grateful! Thanks guys.\n\ntickets(bus:string, time:datetime, quantity:integer, price:integer)\nusers (standard devise table with email, password and so on)", "author_fullname": "t2_8plnz", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Absolute beginner building a web app! :D", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_gugj7a", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.86, "author_flair_background_color": null, "subreddit_type": "public", "ups": 5, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 5, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1591027563.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey there Rails community! I am building a beginner web app . &lt;/p&gt;\n\n&lt;p&gt;The app contains users that register/log in (using devise) and bus tickets that are shown on the welcome page. Everyone can see the bus tickets, but only users that are registered+logged in can buy (its fake buying :D). Additionally, users that have bought the ticket have the option to cancel it (no later than 1 hour before bus starts).&lt;/p&gt;\n\n&lt;p&gt;The tricky part here for me is how to display the tickets that the user already bought, and then to add the option of cancelling. I thought maybe to add a third table that would connect users and tickets, and then display that on the &amp;quot;My tickets&amp;quot; page? Not sure how to accomplish that. &lt;/p&gt;\n\n&lt;p&gt;If anyone could chip in with a bit of advice I would be really grateful! Thanks guys.&lt;/p&gt;\n\n&lt;p&gt;tickets(bus:string, time:datetime, quantity:integer, price:integer)\nusers (standard devise table with email, password and so on)&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gugj7a", "is_robot_indexable": true, "report_reasons": null, "author": "daredevil1302", "discussion_type": null, "num_comments": 6, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/gugj7a/absolute_beginner_building_a_web_app_d/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/gugj7a/absolute_beginner_building_a_web_app_d/", "subreddit_subscribers": 44309, "created_utc": 1590998763.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Suppose I would like to add a condition inside a transaction block which would raise an exception that would be raised, rescued, but I would still like all previous saves to be rolled back:\n\n    ActiveRecord::Base.transaction do\n        object1.save!\n        object2.save!\n        if condition_is_met\n            raise CustomNameStandardError.new error_msg_string\n        end\n        object3.save!\n    rescue CustomNameStandardError =&gt; e\n        flash[:danger] = e.message\n        redirect_to page\n    end\n\nwith defining CustomNameStandardError within the same controller class like so\n\n    class CustomNameStandardError &lt; StandardError; end\n\nThis will not rollback saves to object1 and object2. This is because by rescuing the exception I do not trigger rollback. How can I trigger rollback, but still be able to redirect myself back to the current page with an error message?\n\n**EDIT: I found the answer and should have read the docs carefully. Apperantly raising ActiveRecord::Rollback does exactly what I wanted in my post:**\n\n    ActiveRecord::Base.transaction do\n        object1.save!\n        object2.save!\n        if condition_is_met\n            flash[:danger] = error_msg_string\n            raise ActiveRecord::Rollback\n        end\n        object3.save!\n        redirect_to success_page\n    end\n    \n    redirect_to where_i_came_from", "author_fullname": "t2_3sweig51", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How to rescue custom exceptionin transaction block while still rolling back everything?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": true, "name": "t3_guk18l", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1591016838.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1591044450.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Suppose I would like to add a condition inside a transaction block which would raise an exception that would be raised, rescued, but I would still like all previous saves to be rolled back:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;ActiveRecord::Base.transaction do\n    object1.save!\n    object2.save!\n    if condition_is_met\n        raise CustomNameStandardError.new error_msg_string\n    end\n    object3.save!\nrescue CustomNameStandardError =&amp;gt; e\n    flash[:danger] = e.message\n    redirect_to page\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;with defining CustomNameStandardError within the same controller class like so&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;class CustomNameStandardError &amp;lt; StandardError; end\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This will not rollback saves to object1 and object2. This is because by rescuing the exception I do not trigger rollback. How can I trigger rollback, but still be able to redirect myself back to the current page with an error message?&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;EDIT: I found the answer and should have read the docs carefully. Apperantly raising ActiveRecord::Rollback does exactly what I wanted in my post:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;ActiveRecord::Base.transaction do\n    object1.save!\n    object2.save!\n    if condition_is_met\n        flash[:danger] = error_msg_string\n        raise ActiveRecord::Rollback\n    end\n    object3.save!\n    redirect_to success_page\nend\n\nredirect_to where_i_came_from\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "guk18l", "is_robot_indexable": true, "report_reasons": null, "author": "railsprogrammer94", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/guk18l/how_to_rescue_custom_exceptionin_transaction/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/guk18l/how_to_rescue_custom_exceptionin_transaction/", "subreddit_subscribers": 44309, "created_utc": 1591015650.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hi all,  \n\n\nHaving trouble implementing a coding challenge.  \n\n\nSo I have an array of objects:\n\n    [{\n        :color=&gt;\"red\",\n        :fruit=&gt;\"apple\"\n      },\n      {\n        :color=&gt;\"green\",\n        :fruit=&gt;\"pear\"\n      },\n      {\n        :color=&gt;\"red\",\n        :fruit=&gt;\"tomato\"\n      }]\n\nNow, I want to sort this into separate arrays so that I can count the number of fruit of each color. So in this case I'll have one array with `apple` and `tomato`, and another with `pear`.  \n\n\nOne additional catch is that I can have infinite fruit to sort, and I can have infinite different colors represented by the fruit, and I don't know what those colors will be. So this method needs to be dynamic enough to handle that.  \n\n\nI just need it to recognise each unique color which is present in the objects within the array, and then put them in a corresponding array of other fruits of that unique color. So desired output will in this case be:  \n\n\n    [\n      {\n        :color=&gt;\"red\",\n        :fruit=&gt;\"apple\"\n      },\n      {\n        :color=&gt;\"red\",\n        :fruit=&gt;\"tomato\"\n      }\n    ],\n    [\n      {\n        :color=&gt;\"green\",\n        :fruit=&gt;\"pear\"\n      }\n    ]\n\n\nHope this makes sense.  \n\n\nThanks", "author_fullname": "t2_xktv3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How can I sort an array of hashes into separate arrays based on key value uniqueness?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_gu8nmc", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.6, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1590993730.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi all,  &lt;/p&gt;\n\n&lt;p&gt;Having trouble implementing a coding challenge.  &lt;/p&gt;\n\n&lt;p&gt;So I have an array of objects:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;[{\n    :color=&amp;gt;&amp;quot;red&amp;quot;,\n    :fruit=&amp;gt;&amp;quot;apple&amp;quot;\n  },\n  {\n    :color=&amp;gt;&amp;quot;green&amp;quot;,\n    :fruit=&amp;gt;&amp;quot;pear&amp;quot;\n  },\n  {\n    :color=&amp;gt;&amp;quot;red&amp;quot;,\n    :fruit=&amp;gt;&amp;quot;tomato&amp;quot;\n  }]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Now, I want to sort this into separate arrays so that I can count the number of fruit of each color. So in this case I&amp;#39;ll have one array with &lt;code&gt;apple&lt;/code&gt; and &lt;code&gt;tomato&lt;/code&gt;, and another with &lt;code&gt;pear&lt;/code&gt;.  &lt;/p&gt;\n\n&lt;p&gt;One additional catch is that I can have infinite fruit to sort, and I can have infinite different colors represented by the fruit, and I don&amp;#39;t know what those colors will be. So this method needs to be dynamic enough to handle that.  &lt;/p&gt;\n\n&lt;p&gt;I just need it to recognise each unique color which is present in the objects within the array, and then put them in a corresponding array of other fruits of that unique color. So desired output will in this case be:  &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;[\n  {\n    :color=&amp;gt;&amp;quot;red&amp;quot;,\n    :fruit=&amp;gt;&amp;quot;apple&amp;quot;\n  },\n  {\n    :color=&amp;gt;&amp;quot;red&amp;quot;,\n    :fruit=&amp;gt;&amp;quot;tomato&amp;quot;\n  }\n],\n[\n  {\n    :color=&amp;gt;&amp;quot;green&amp;quot;,\n    :fruit=&amp;gt;&amp;quot;pear&amp;quot;\n  }\n]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Hope this makes sense.  &lt;/p&gt;\n\n&lt;p&gt;Thanks&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gu8nmc", "is_robot_indexable": true, "report_reasons": null, "author": "spinsilo", "discussion_type": null, "num_comments": 8, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/gu8nmc/how_can_i_sort_an_array_of_hashes_into_separate/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/gu8nmc/how_can_i_sort_an_array_of_hashes_into_separate/", "subreddit_subscribers": 44309, "created_utc": 1590964930.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I took something I learned with rails and revisited JavaEE recreating the rails crud with JSF, it is not fashionable but seems better than nowaday development.  Rails developers can identify what I did here?  [JSF-PERFECT-CRUD](https://github.com/lazaronixon/jsf-perfect-crud)", "author_fullname": "t2_3jx09i", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "JavaEE ala Rails", "link_flair_richtext": [{"e": "text", "t": "Discussion"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "discussion", "downs": 0, "hide_score": false, "name": "t3_gu4h9q", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.88, "author_flair_background_color": null, "subreddit_type": "public", "ups": 6, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Discussion", "can_mod_post": false, "score": 6, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1590979586.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I took something I learned with rails and revisited JavaEE recreating the rails crud with JSF, it is not fashionable but seems better than nowaday development.  Rails developers can identify what I did here?  &lt;a href=\"https://github.com/lazaronixon/jsf-perfect-crud\"&gt;JSF-PERFECT-CRUD&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "a5131406-c185-11e4-b5eb-22000bc14795", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gu4h9q", "is_robot_indexable": true, "report_reasons": null, "author": "lazaronixon", "discussion_type": null, "num_comments": 13, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/gu4h9q/javaee_ala_rails/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/gu4h9q/javaee_ala_rails/", "subreddit_subscribers": 44309, "created_utc": 1590950786.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Having switched recently from rspec to minitest I missed an easy way to switch between test files and code. There is an extension for Rspec already - [Rails-go-to-spec](https://marketplace.visualstudio.com/items?itemName=sporto.rails-go-to-spec), based on that I created a [version for minitest](https://marketplace.visualstudio.com/items?itemName=SimonBo.rails-go-to-test). It creates a new test file with boilerplate or opens the existing test file. Enjoy!", "author_fullname": "t2_11cnmn", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "My first VSCode extension for Rails tests", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_gttg2k", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 30, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 30, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1590932360.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Having switched recently from rspec to minitest I missed an easy way to switch between test files and code. There is an extension for Rspec already - &lt;a href=\"https://marketplace.visualstudio.com/items?itemName=sporto.rails-go-to-spec\"&gt;Rails-go-to-spec&lt;/a&gt;, based on that I created a &lt;a href=\"https://marketplace.visualstudio.com/items?itemName=SimonBo.rails-go-to-test\"&gt;version for minitest&lt;/a&gt;. It creates a new test file with boilerplate or opens the existing test file. Enjoy!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gttg2k", "is_robot_indexable": true, "report_reasons": null, "author": "Simonchibao", "discussion_type": null, "num_comments": 7, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/gttg2k/my_first_vscode_extension_for_rails_tests/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/gttg2k/my_first_vscode_extension_for_rails_tests/", "subreddit_subscribers": 44309, "created_utc": 1590903560.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "So I was following this guide  [The has\\_one :through Association](https://guides.rubyonrails.org/association_basics.html#the-has-one-through-association) All seem good, just I was wondering how do I add 't.belongs\\_to :supplier' part to existing model/scheme?\n\n    class CreateAccountHistories &lt; ActiveRecord::Migration[5.0]\n      def change\n        create_table :suppliers do |t|\n          t.string :name\n          t.timestamps\n        end\n     \n        create_table :accounts do |t|\n          t.belongs_to :supplier   &lt;&lt;&lt;&lt;&lt;&lt; THIS!!!\n          t.string :account_number\n          t.timestamps\n        end\n     \n        create_table :account_histories do |t|\n          t.belongs_to :account\n          t.integer :credit_rating\n          t.timestamps\n        end\n      end\n    end", "author_fullname": "t2_9dfvqec", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How do I add 'belongs_to' to existing Model", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_gtxdnr", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.75, "author_flair_background_color": null, "subreddit_type": "public", "ups": 4, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 4, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1590952769.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;So I was following this guide  &lt;a href=\"https://guides.rubyonrails.org/association_basics.html#the-has-one-through-association\"&gt;The has_one :through Association&lt;/a&gt; All seem good, just I was wondering how do I add &amp;#39;t.belongs_to :supplier&amp;#39; part to existing model/scheme?&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;class CreateAccountHistories &amp;lt; ActiveRecord::Migration[5.0]\n  def change\n    create_table :suppliers do |t|\n      t.string :name\n      t.timestamps\n    end\n\n    create_table :accounts do |t|\n      t.belongs_to :supplier   &amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt; THIS!!!\n      t.string :account_number\n      t.timestamps\n    end\n\n    create_table :account_histories do |t|\n      t.belongs_to :account\n      t.integer :credit_rating\n      t.timestamps\n    end\n  end\nend\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gtxdnr", "is_robot_indexable": true, "report_reasons": null, "author": "zilton7000", "discussion_type": null, "num_comments": 9, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/gtxdnr/how_do_i_add_belongs_to_to_existing_model/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/gtxdnr/how_do_i_add_belongs_to_to_existing_model/", "subreddit_subscribers": 44309, "created_utc": 1590923969.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hi guys, I was wondering if a normal rails app (created with just a rails new) can be used as an API. In my situation i want to create a website and a react native app.\n\nSo do i need work on my rails like usual, or do i need to create 2 different path in my routes ? Or maybe something else?", "author_fullname": "t2_3o3i23c2", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Rails but not only for API", "link_flair_richtext": [{"e": "text", "t": "Question"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "question", "downs": 0, "hide_score": false, "name": "t3_gtyuqw", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.67, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Question", "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1590959631.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi guys, I was wondering if a normal rails app (created with just a rails new) can be used as an API. In my situation i want to create a website and a react native app.&lt;/p&gt;\n\n&lt;p&gt;So do i need work on my rails like usual, or do i need to create 2 different path in my routes ? Or maybe something else?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "fdfc6806-aea7-11e4-bf37-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gtyuqw", "is_robot_indexable": true, "report_reasons": null, "author": "sassani134", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/gtyuqw/rails_but_not_only_for_api/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/gtyuqw/rails_but_not_only_for_api/", "subreddit_subscribers": 44309, "created_utc": 1590930831.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hi guys!\n\nSo I\u2019m new to PosgreSQL usage with Rails so please bear with me.\n\nI\u2019m building a Udemy clone as a small project and I was wondering how I would stream videos from my Amazon S3 buckets.\n\nSo I\u2019m using PosgreSQL to store the name of the video, author, and date published. But how do I retrieve the video files in a way where it would only allow subscribed users to view the videos?\n\nAlso, how would I be able to refer to the media in S3 from PostgreSQL?\n\nWould this be handled with the controller rather than with AWS S3?\n\nAny help or insight would be much appreciated! Thank you!", "author_fullname": "t2_6i8lntjl", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Question about retrieving/streaming media from AWS S3 in Rails.", "link_flair_richtext": [{"e": "text", "t": "Question"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "question", "downs": 0, "hide_score": false, "name": "t3_gtttn8", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 6, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Question", "can_mod_post": false, "score": 6, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1590934335.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi guys!&lt;/p&gt;\n\n&lt;p&gt;So I\u2019m new to PosgreSQL usage with Rails so please bear with me.&lt;/p&gt;\n\n&lt;p&gt;I\u2019m building a Udemy clone as a small project and I was wondering how I would stream videos from my Amazon S3 buckets.&lt;/p&gt;\n\n&lt;p&gt;So I\u2019m using PosgreSQL to store the name of the video, author, and date published. But how do I retrieve the video files in a way where it would only allow subscribed users to view the videos?&lt;/p&gt;\n\n&lt;p&gt;Also, how would I be able to refer to the media in S3 from PostgreSQL?&lt;/p&gt;\n\n&lt;p&gt;Would this be handled with the controller rather than with AWS S3?&lt;/p&gt;\n\n&lt;p&gt;Any help or insight would be much appreciated! Thank you!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "fdfc6806-aea7-11e4-bf37-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gtttn8", "is_robot_indexable": true, "report_reasons": null, "author": "intrepidvariable", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/gtttn8/question_about_retrievingstreaming_media_from_aws/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/gtttn8/question_about_retrievingstreaming_media_from_aws/", "subreddit_subscribers": 44309, "created_utc": 1590905535.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "IMHO the results of the survey show Ruby and Rails in bad company:\n\n* Most loved / dreaded languages (Ruby):\n\n [https://insights.stackoverflow.com/survey/2020#technology-most-loved-dreaded-and-wanted-languages](https://insights.stackoverflow.com/survey/2020#technology-most-loved-dreaded-and-wanted-languages) \n\n**=&gt;** Ruby is 7th most dreaded after VBA, Objective, Perl, Assembly, C, PHP\n\n* Most loved / dreaded frameworks (Rails):\n\n[https://insights.stackoverflow.com/survey/2020#technology-most-loved-dreaded-and-wanted-web-frameworks](https://insights.stackoverflow.com/survey/2020#technology-most-loved-dreaded-and-wanted-web-frameworks)\n\n**=&gt;** Rails is 6th most dreaded after Angular, Drupal, jQuery, ASP, Symfony \n\n&amp;#x200B;\n\nWhat do you think about it?", "author_fullname": "t2_411klsg1", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Stackoverflow 2020 developer survey results", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_gtm7kg", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.82, "author_flair_background_color": null, "subreddit_type": "public", "ups": 11, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 11, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1590902759.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;IMHO the results of the survey show Ruby and Rails in bad company:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;Most loved / dreaded languages (Ruby):&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://insights.stackoverflow.com/survey/2020#technology-most-loved-dreaded-and-wanted-languages\"&gt;https://insights.stackoverflow.com/survey/2020#technology-most-loved-dreaded-and-wanted-languages&lt;/a&gt; &lt;/p&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;=&amp;gt;&lt;/strong&gt; Ruby is 7th most dreaded after VBA, Objective, Perl, Assembly, C, PHP&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Most loved / dreaded frameworks (Rails):&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;a href=\"https://insights.stackoverflow.com/survey/2020#technology-most-loved-dreaded-and-wanted-web-frameworks\"&gt;https://insights.stackoverflow.com/survey/2020#technology-most-loved-dreaded-and-wanted-web-frameworks&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;=&amp;gt;&lt;/strong&gt; Rails is 6th most dreaded after Angular, Drupal, jQuery, ASP, Symfony &lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;What do you think about it?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gtm7kg", "is_robot_indexable": true, "report_reasons": null, "author": "yarotheslav", "discussion_type": null, "num_comments": 21, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/gtm7kg/stackoverflow_2020_developer_survey_results/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/gtm7kg/stackoverflow_2020_developer_survey_results/", "subreddit_subscribers": 44309, "created_utc": 1590873959.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Quick question... Would it be unwise to limit website logins to OAuth services? Meaning, I don't use devise and have them create users, instead just have them sign in via whatevertf they wanna use? I've personally enjoyed having that flexibility on my end and use it fairly often. That being said:\n\n1) Would you use a website that only takes in OAuth-type registrations?\n\n2) Would devise be the best way to handle this still? or is there a better option available with ruby 2.7 &amp; Rails 6? (Saw the omniauth section of Devise says it works best with 2.5 so I'm not sure on this).", "author_fullname": "t2_6iyxev6q", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Oauth/OmniAuth/etc.", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_gtq9et", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 5, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 5, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1590917796.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Quick question... Would it be unwise to limit website logins to OAuth services? Meaning, I don&amp;#39;t use devise and have them create users, instead just have them sign in via whatevertf they wanna use? I&amp;#39;ve personally enjoyed having that flexibility on my end and use it fairly often. That being said:&lt;/p&gt;\n\n&lt;p&gt;1) Would you use a website that only takes in OAuth-type registrations?&lt;/p&gt;\n\n&lt;p&gt;2) Would devise be the best way to handle this still? or is there a better option available with ruby 2.7 &amp;amp; Rails 6? (Saw the omniauth section of Devise says it works best with 2.5 so I&amp;#39;m not sure on this).&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gtq9et", "is_robot_indexable": true, "report_reasons": null, "author": "CodaDev", "discussion_type": null, "num_comments": 11, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/gtq9et/oauthomniauthetc/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/gtq9et/oauthomniauthetc/", "subreddit_subscribers": 44309, "created_utc": 1590888996.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_gtq9et", "before": null}}