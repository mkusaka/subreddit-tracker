{"kind": "Listing", "data": {"modhash": "", "dist": 11, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "The monthly thread for people to post openings at their companies.\n\n* Please state the job location and include the keywords REMOTE, INTERNS and/or VISA when the corresponding sort of candidate is welcome. When remote work is not an option, include ONSITE.\n\n* Please only post if you personally are part of the hiring company\u2014no recruiting firms or job boards **Please report recruiters or job boards**. \n\n* Only one post per company. \n\n* If it isn't a household name, explain what your company does. Sell it.\n\n* Please add the company email that applications should be sent to, or the companies application web form/job posting (needless to say this should be on the company website, not a third party site).\n\n\nCommenters: please don't reply to job posts to complain about something. It's off topic here.\n\nReaders: please only email if you are personally interested in the job. \n\nPosting top level comments that aren't job postings, [that's a paddlin](https://i.imgur.com/FxMKfnY.jpg)\n\n[Previous Hiring Threads](https://www.reddit.com/r/typescript/search?sort=new&amp;restrict_sr=on&amp;q=flair%3AMonthly%2BHiring%2BThread)", "author_fullname": "t2_6l4z3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Who's hiring Typescript developers - August", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": "monthly-hiring", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_i1ikj5", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.92, "author_flair_background_color": null, "subreddit_type": "public", "ups": 30, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Monthly Hiring Thread", "can_mod_post": false, "score": 30, "approved_by": null, "author_premium": true, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1596269158.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;The monthly thread for people to post openings at their companies.&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;Please state the job location and include the keywords REMOTE, INTERNS and/or VISA when the corresponding sort of candidate is welcome. When remote work is not an option, include ONSITE.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Please only post if you personally are part of the hiring company\u2014no recruiting firms or job boards &lt;strong&gt;Please report recruiters or job boards&lt;/strong&gt;. &lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Only one post per company. &lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;If it isn&amp;#39;t a household name, explain what your company does. Sell it.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Please add the company email that applications should be sent to, or the companies application web form/job posting (needless to say this should be on the company website, not a third party site).&lt;/p&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Commenters: please don&amp;#39;t reply to job posts to complain about something. It&amp;#39;s off topic here.&lt;/p&gt;\n\n&lt;p&gt;Readers: please only email if you are personally interested in the job. &lt;/p&gt;\n\n&lt;p&gt;Posting top level comments that aren&amp;#39;t job postings, &lt;a href=\"https://i.imgur.com/FxMKfnY.jpg\"&gt;that&amp;#39;s a paddlin&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://www.reddit.com/r/typescript/search?sort=new&amp;amp;restrict_sr=on&amp;amp;q=flair%3AMonthly%2BHiring%2BThread\"&gt;Previous Hiring Threads&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i1ikj5", "is_robot_indexable": true, "report_reasons": null, "author": "AutoModerator", "discussion_type": null, "num_comments": 0, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": true, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/i1ikj5/whos_hiring_typescript_developers_august/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/typescript/comments/i1ikj5/whos_hiring_typescript_developers_august/", "subreddit_subscribers": 46109, "created_utc": 1596240358.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "Eg. I have the following object:\n\n    type User = {\n        id: string\n        email: string\n        password: string\n    }\n\n    type UserProfile = User &amp; { name: string, dob: string }\n\n    function insert(user: User) {\n        UserDB.insert(user)\n    }\n\nSo I have a User, a UserProfile, and an insert function that inserts Users into the DB.\n\nNow my problem is that the insert function connects to a NoSQL DB. So I can technically pass in a UserProfile, and it will end up inserting the extra attributes into my NoSQL DB. Over time my NoSQL DB might end up with a lot of extra unnecessary attributes.\n\nI was wondering if there was an Exact&lt;T&gt; type that ensures you only have User.id, email &amp; password added in and nothing more.", "author_fullname": "t2_qenggvc", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Is there an 'Exact&lt;T&gt;' advanced type? Something that gurantees you can only put in the exact attributes required and no more?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_i8vxz2", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.88, "author_flair_background_color": null, "subreddit_type": "public", "ups": 12, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 12, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1597334874.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Eg. I have the following object:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;type User = {\n    id: string\n    email: string\n    password: string\n}\n\ntype UserProfile = User &amp;amp; { name: string, dob: string }\n\nfunction insert(user: User) {\n    UserDB.insert(user)\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;So I have a User, a UserProfile, and an insert function that inserts Users into the DB.&lt;/p&gt;\n\n&lt;p&gt;Now my problem is that the insert function connects to a NoSQL DB. So I can technically pass in a UserProfile, and it will end up inserting the extra attributes into my NoSQL DB. Over time my NoSQL DB might end up with a lot of extra unnecessary attributes.&lt;/p&gt;\n\n&lt;p&gt;I was wondering if there was an Exact&amp;lt;T&amp;gt; type that ensures you only have User.id, email &amp;amp; password added in and nothing more.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i8vxz2", "is_robot_indexable": true, "report_reasons": null, "author": "aelesia-", "discussion_type": null, "num_comments": 20, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/i8vxz2/is_there_an_exactt_advanced_type_something_that/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/i8vxz2/is_there_an_exactt_advanced_type_something_that/", "subreddit_subscribers": 46109, "created_utc": 1597306074.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "For a project I am currently working on, an SDK for consuming a backend API (written in Go), I would like to implement runtime type checking. As I've worked intensively with Typescript over the last couple of years, I know type safety is not guaranteed at runtime, as all type annotations will get lost during the compilation stage.\n\nI have some projects using Typescript as a production dependency, to for example generate custom JSON decoders to allow code generation to take place based on Typescript interfaces: https://github.com/PicnicSupermarket/aegis. \n\nA thought that came to mind, was using Typescript as a dependency and use it to check against an interface, but as I'm not really familiar with the structure of the Typescript compiler, I don't know what's possible.\n\nSo my question is: **is it possible to take a Javascript object, together with a Typescript interface, and validate whether the Javascript object satisfies the Typescript interface**? And if that can be done by calling the Typescript compiler as a production dependency somehow.\n\nTo give some further context, this is the function where results pass through in the SDK I am working on:\n\n```\nconst throwOrReturn = &lt;T&gt;(result: APIResult&lt;T&gt;): T =&gt; {\n    if (result.error) {\n        throw new Error(result.error);\n    }\n    // We can assume that data is valid (type T) if no error was found\n    return result.data as T;\n};\n\ninterface APIResultSuccess&lt;T&gt; { data: T; error?: undefined; }\ninterface APIResultFailure { data?: undefined; error: string; }\ntype APIResult&lt;T&gt; = APIResultSuccess&lt;T&gt; | APIResultFailure;\n```\n\nBefore `return result.data as T;` I would like to check whether `result.data` is valid if assigned type `T` at runtime. So currently I am using generics, but taking the checking one layer up, where I have access to the actual interface, instead of a generic, would not be an issue.\n\nAn example of how the `throwOrReturn` is implemented:\n\n```\ninterface ReturnValues {\n    // Some interface code\n}\n\nconst exampleCall = async (config: Config): Promise&lt;interface&gt; =&gt; {\n    const res = await get&lt;interface&gt;(config, GetEndpoints.EndpointWeNeed); // Wrapper for making API calls and 4xx/5xx error handling \n    return throwOrReturn(res);\n};\n\nexport default exampleCall;\n```", "author_fullname": "t2_s37is", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Validating object's type at runtime?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": true, "name": "t3_i8yk6i", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.75, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1597348576.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;For a project I am currently working on, an SDK for consuming a backend API (written in Go), I would like to implement runtime type checking. As I&amp;#39;ve worked intensively with Typescript over the last couple of years, I know type safety is not guaranteed at runtime, as all type annotations will get lost during the compilation stage.&lt;/p&gt;\n\n&lt;p&gt;I have some projects using Typescript as a production dependency, to for example generate custom JSON decoders to allow code generation to take place based on Typescript interfaces: &lt;a href=\"https://github.com/PicnicSupermarket/aegis\"&gt;https://github.com/PicnicSupermarket/aegis&lt;/a&gt;. &lt;/p&gt;\n\n&lt;p&gt;A thought that came to mind, was using Typescript as a dependency and use it to check against an interface, but as I&amp;#39;m not really familiar with the structure of the Typescript compiler, I don&amp;#39;t know what&amp;#39;s possible.&lt;/p&gt;\n\n&lt;p&gt;So my question is: &lt;strong&gt;is it possible to take a Javascript object, together with a Typescript interface, and validate whether the Javascript object satisfies the Typescript interface&lt;/strong&gt;? And if that can be done by calling the Typescript compiler as a production dependency somehow.&lt;/p&gt;\n\n&lt;p&gt;To give some further context, this is the function where results pass through in the SDK I am working on:&lt;/p&gt;\n\n&lt;p&gt;```\nconst throwOrReturn = &amp;lt;T&amp;gt;(result: APIResult&amp;lt;T&amp;gt;): T =&amp;gt; {\n    if (result.error) {\n        throw new Error(result.error);\n    }\n    // We can assume that data is valid (type T) if no error was found\n    return result.data as T;\n};&lt;/p&gt;\n\n&lt;p&gt;interface APIResultSuccess&amp;lt;T&amp;gt; { data: T; error?: undefined; }\ninterface APIResultFailure { data?: undefined; error: string; }\ntype APIResult&amp;lt;T&amp;gt; = APIResultSuccess&amp;lt;T&amp;gt; | APIResultFailure;\n```&lt;/p&gt;\n\n&lt;p&gt;Before &lt;code&gt;return result.data as T;&lt;/code&gt; I would like to check whether &lt;code&gt;result.data&lt;/code&gt; is valid if assigned type &lt;code&gt;T&lt;/code&gt; at runtime. So currently I am using generics, but taking the checking one layer up, where I have access to the actual interface, instead of a generic, would not be an issue.&lt;/p&gt;\n\n&lt;p&gt;An example of how the &lt;code&gt;throwOrReturn&lt;/code&gt; is implemented:&lt;/p&gt;\n\n&lt;p&gt;```\ninterface ReturnValues {\n    // Some interface code\n}&lt;/p&gt;\n\n&lt;p&gt;const exampleCall = async (config: Config): Promise&amp;lt;interface&amp;gt; =&amp;gt; {\n    const res = await get&amp;lt;interface&amp;gt;(config, GetEndpoints.EndpointWeNeed); // Wrapper for making API calls and 4xx/5xx error handling \n    return throwOrReturn(res);\n};&lt;/p&gt;\n\n&lt;p&gt;export default exampleCall;\n```&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/RzFqhbxIN1oGr56z2dOkX94e75sgDA0LlXeOj_CEmWk.jpg?auto=webp&amp;s=fdbba2b01c9186b63b53d0cb2b9c772ba1f8bee3", "width": 400, "height": 400}, "resolutions": [{"url": "https://external-preview.redd.it/RzFqhbxIN1oGr56z2dOkX94e75sgDA0LlXeOj_CEmWk.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=e56e56cf33243b9e428f8d91822d1eccafa1f8d0", "width": 108, "height": 108}, {"url": "https://external-preview.redd.it/RzFqhbxIN1oGr56z2dOkX94e75sgDA0LlXeOj_CEmWk.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=fc22ce139b628664093845743e1a3a448e759f06", "width": 216, "height": 216}, {"url": "https://external-preview.redd.it/RzFqhbxIN1oGr56z2dOkX94e75sgDA0LlXeOj_CEmWk.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=a8a22f819df205dc75eb8b6174296e40aad85e95", "width": 320, "height": 320}], "variants": {}, "id": "Fj8XRHvo6qgjrti9CS8QDq7ynu7BSzmqeXIwxl-T4cQ"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i8yk6i", "is_robot_indexable": true, "report_reasons": null, "author": "lucianonooijen", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/i8yk6i/validating_objects_type_at_runtime/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/i8yk6i/validating_objects_type_at_runtime/", "subreddit_subscribers": 46109, "created_utc": 1597319776.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "Representing GraphQL, a dynamic protocol, in a statically typed language is inherently difficult. [GraphQL code generator](https://graphql-code-generator.com/) can help with this a bit, but isn't ideal.\n\nI have devised a solution to this problem that allows all GraphQL APIs to be represented in Typescript. It is based around this interface:\n\n    interface GraphQLObject&lt;Name extends string, T&gt; {\n        // The GraphQL name of the type.\n        name: Name;\n        // The query string to get the type, without surrounding braces.\n        query: string;\n        // The conversion function from the GraphQL JSON response to the Typescript type.\n        convert: (data: any) =&gt; T;\n    }\n\nIt represents a subset of fields on the GraphQL type `Name`. An example usage would be:\n\n    interface Image {\n        url: string;\n        width: number;\n        height: number;\n    }\n    \n    const image: GraphQLObject&lt;\"Image\", Image&gt; = {\n        name: \"Image\",\n        query: \"url width height\",\n        convert: data =&gt; ({\n            url: data.url,\n            width: parseInt(data.width),\n            height: parseInt(data.height),\n        }),\n    };\n\nFields that contain other objects can be represented via generics, and fields that take arguments can be represented in parameters.\n\n    interface Query&lt;Image&gt; {\n        imageByName: Image;\n    }\n\n    function query&lt;Image&gt;(image: GraphQLObject&lt;\"Image\", Image&gt;, id: string): GraphQLObject&lt;\"Query\", Query&lt;Image&gt;&gt; {\n        return {\n            name: \"Query\",\n            query: `imageByName(id:${id}){${image.query}}`,\n            convert: data =&gt; ({ imageByName: image.convert(data.imageByName) }),\n        };\n    }\n\nThis way you can request any set of image fields through the query function, and the id parameter can be a literal or variable.\n\nThis can be complemented with some useful helper functions:\n\n    // Query no data.\n    function no_data&lt;Name extends string&gt;(name: Name): GraphQLObject&lt;Name, void&gt; {\n        return {\n            name,\n            query: `__typename`,\n            convert: () =&gt; undefined\n        };\n    }\n\n    // Combine multiple field subsets together that query the same GraphQL object.\n    function combine&lt;Name extends string, A, B&gt;(\n        ...objects: [GraphQLObject&lt;Name, A&gt;, GraphQLObject&lt;Name, B&gt;]\n    ): GraphQLObject&lt;Name, A &amp; B&gt;;\n    // And so on...\n    \n    function combine&lt;Name extends string&gt;(\n        ...objects: GraphQLObject&lt;Name, unknown&gt;[]\n    ): GraphQLObject&lt;Name, any&gt; {\n        return {\n            name: objects[0].name,\n            query: objects.map(o =&gt; o.query).join(\" \"),\n            convert: data =&gt; Object.assign({}, ...objects.map(o =&gt; o.convert(data)))\n        };\n    }\n\nUsing this I would love to make a library that automatically generates GraphQL objects for each field of each type from a GraphQL schema (similar to GraphQL code generator, but using this method). The individual fields can then be combined by the user to form more complex queries, while remaining fully typesafe. For ergonomics the library could also provide `Full*` type aliases which represent _all_ the fields of a type (e.g. `type FullImage = ImageURL &amp; ImageWidth &amp; ImageHeight`).\n\nHowever, I lack the time and expertise to do it myself, so if anyone is willing to give it a shot I would be very grateful.", "author_fullname": "t2_qy68l2u", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Type-safe GraphQL APIs", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_i8wz3u", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.76, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1597340636.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Representing GraphQL, a dynamic protocol, in a statically typed language is inherently difficult. &lt;a href=\"https://graphql-code-generator.com/\"&gt;GraphQL code generator&lt;/a&gt; can help with this a bit, but isn&amp;#39;t ideal.&lt;/p&gt;\n\n&lt;p&gt;I have devised a solution to this problem that allows all GraphQL APIs to be represented in Typescript. It is based around this interface:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;interface GraphQLObject&amp;lt;Name extends string, T&amp;gt; {\n    // The GraphQL name of the type.\n    name: Name;\n    // The query string to get the type, without surrounding braces.\n    query: string;\n    // The conversion function from the GraphQL JSON response to the Typescript type.\n    convert: (data: any) =&amp;gt; T;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It represents a subset of fields on the GraphQL type &lt;code&gt;Name&lt;/code&gt;. An example usage would be:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;interface Image {\n    url: string;\n    width: number;\n    height: number;\n}\n\nconst image: GraphQLObject&amp;lt;&amp;quot;Image&amp;quot;, Image&amp;gt; = {\n    name: &amp;quot;Image&amp;quot;,\n    query: &amp;quot;url width height&amp;quot;,\n    convert: data =&amp;gt; ({\n        url: data.url,\n        width: parseInt(data.width),\n        height: parseInt(data.height),\n    }),\n};\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Fields that contain other objects can be represented via generics, and fields that take arguments can be represented in parameters.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;interface Query&amp;lt;Image&amp;gt; {\n    imageByName: Image;\n}\n\nfunction query&amp;lt;Image&amp;gt;(image: GraphQLObject&amp;lt;&amp;quot;Image&amp;quot;, Image&amp;gt;, id: string): GraphQLObject&amp;lt;&amp;quot;Query&amp;quot;, Query&amp;lt;Image&amp;gt;&amp;gt; {\n    return {\n        name: &amp;quot;Query&amp;quot;,\n        query: `imageByName(id:${id}){${image.query}}`,\n        convert: data =&amp;gt; ({ imageByName: image.convert(data.imageByName) }),\n    };\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This way you can request any set of image fields through the query function, and the id parameter can be a literal or variable.&lt;/p&gt;\n\n&lt;p&gt;This can be complemented with some useful helper functions:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;// Query no data.\nfunction no_data&amp;lt;Name extends string&amp;gt;(name: Name): GraphQLObject&amp;lt;Name, void&amp;gt; {\n    return {\n        name,\n        query: `__typename`,\n        convert: () =&amp;gt; undefined\n    };\n}\n\n// Combine multiple field subsets together that query the same GraphQL object.\nfunction combine&amp;lt;Name extends string, A, B&amp;gt;(\n    ...objects: [GraphQLObject&amp;lt;Name, A&amp;gt;, GraphQLObject&amp;lt;Name, B&amp;gt;]\n): GraphQLObject&amp;lt;Name, A &amp;amp; B&amp;gt;;\n// And so on...\n\nfunction combine&amp;lt;Name extends string&amp;gt;(\n    ...objects: GraphQLObject&amp;lt;Name, unknown&amp;gt;[]\n): GraphQLObject&amp;lt;Name, any&amp;gt; {\n    return {\n        name: objects[0].name,\n        query: objects.map(o =&amp;gt; o.query).join(&amp;quot; &amp;quot;),\n        convert: data =&amp;gt; Object.assign({}, ...objects.map(o =&amp;gt; o.convert(data)))\n    };\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Using this I would love to make a library that automatically generates GraphQL objects for each field of each type from a GraphQL schema (similar to GraphQL code generator, but using this method). The individual fields can then be combined by the user to form more complex queries, while remaining fully typesafe. For ergonomics the library could also provide &lt;code&gt;Full*&lt;/code&gt; type aliases which represent &lt;em&gt;all&lt;/em&gt; the fields of a type (e.g. &lt;code&gt;type FullImage = ImageURL &amp;amp; ImageWidth &amp;amp; ImageHeight&lt;/code&gt;).&lt;/p&gt;\n\n&lt;p&gt;However, I lack the time and expertise to do it myself, so if anyone is willing to give it a shot I would be very grateful.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/c2Jgp9K0wsZVzN_VWlHXnwShK2hnNs5o1my_2ydlRsA.jpg?auto=webp&amp;s=61ec4fc3e5f7f62f33764448a1b601b2b5f59ede", "width": 964, "height": 834}, "resolutions": [{"url": "https://external-preview.redd.it/c2Jgp9K0wsZVzN_VWlHXnwShK2hnNs5o1my_2ydlRsA.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=d7f629625af551aff461277e51fec86c3c00b1d1", "width": 108, "height": 93}, {"url": "https://external-preview.redd.it/c2Jgp9K0wsZVzN_VWlHXnwShK2hnNs5o1my_2ydlRsA.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=77f3862443a2e9a3d8cec9cc0dd4c1f0082b4500", "width": 216, "height": 186}, {"url": "https://external-preview.redd.it/c2Jgp9K0wsZVzN_VWlHXnwShK2hnNs5o1my_2ydlRsA.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=7f7f39a8cb3f8df565b3a9d024613e9acc911ad3", "width": 320, "height": 276}, {"url": "https://external-preview.redd.it/c2Jgp9K0wsZVzN_VWlHXnwShK2hnNs5o1my_2ydlRsA.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;s=2ea57f854cdeab313a80b501f49faf744a82a77f", "width": 640, "height": 553}, {"url": "https://external-preview.redd.it/c2Jgp9K0wsZVzN_VWlHXnwShK2hnNs5o1my_2ydlRsA.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;s=8fbf3d8239a7656d10eb752ec2c28568052485b7", "width": 960, "height": 830}], "variants": {}, "id": "oE2j5QCU1F1UvTlTrY06rCBWUkKUcw8hdg2NGENw4OA"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i8wz3u", "is_robot_indexable": true, "report_reasons": null, "author": "Koxiaet", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/i8wz3u/typesafe_graphql_apis/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/i8wz3u/typesafe_graphql_apis/", "subreddit_subscribers": 46109, "created_utc": 1597311836.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "I'm currently trying to refactor a function's signature to remove the need for loads of overloads. I've done this by creating a conditional generic type to handle the same cases that the overloads did.\n\nThe function works fine but for some reason adding annotations to constrain the return type from `unknown` to something else is giving me errors that didn't exist, as if the function is incorrectly inferring `T` from the annotation and I just can't figure out why. There are some times in my project where I need to declare a variable before assigning it and it just breaks.\n\nThis is the function's signature:\n\n    const createMatrix = &lt;D extends number, T&gt;(\n        dimensions: D,\n        initialValues: T = null\n    ): Matrix&lt;D, T&gt;\n    \n    type Matrix&lt;D extends number, T&gt; = D extends 1\n        ? T[]\n        : D extends 2\n        ? T[][]\n        // ...\n\nAnd a TS playground link with the full code and old version [is here](https://www.staging-typescript.org/play?#code/PTAEBUE8AcFNQIYDskHsAuD0EtVNAO4BOeA5gDaSioBusRR2AJrAM6imxL3YDGh2dAAtQ9EkVYAoSSFABRAB5xe6WE1AAjWEIQ1cRAFwywAQSZNsSUqHQx4yNJhx526VKBoJGCDeTahWIVQAV3J1LVBeVABbaCxsX3gCQRFheAAzYKQVXCR2Ilh0YKIkYwDsUiQsYtgAGkiEYNZLazQbO1EGVAlpWRMVYIRyTW1dfSM+1mbKlsR8BwwsNQ8vbB8-G3c00AKikpXyYPhUdJshDKycvAam-2RO8QA6MvBzji4efnBQbHZiMkoPyQ6TEyzcIzmVBOoAA5F4iAgqARzgVQCxoMJQAAeUAAERhhBR8EEASCoSYZQilhBDDB7jwgO2GgQrHgtjg1FO224rFU6nhiMeoAASrBorRZtsFk5cgFUOQ6FJZNtoCREtFNMF0DsxbR-Oz4KwECDbISuCtvIlEFMKkholxtTpoHA8oh0qoiJECvE8M8ZAAqf2SUD+kWFYquhCgaJYRgKUAACmioRwAFoLPa8rkhogGIiAJQCTGQEKeljNArqDNcZouObqTyHNjPEPB0MAATiCI11azddToAABrjBwYIG9y9hK2jsJna67odsY+g423QJ2vAgNZZBGtyAA1IZHdgD17wRtHM5YUQIXgiaCoSzayxneDLuNA3dDX761BC3GwOkjTkOgrjuIOSChOQg4th2uwRuwJjRrG2DxtCw6DjOc65Kw9TJJisC3vej5IM+SBfuQP7qOC2yDjuOBDIeTasJhXZboU9CwcAkhRHk2q8N6qgALIofGAC82K4qICiqEgTDsJB0RaEQ9TgAAfAmwagNpvbzqwY64rUWnafRe5MceY7fAAPqAkHkMMEl2eQkj5mOIkrqhWKGRAamgGJvkAN7GZELj8cUBSkbis41rkAAyXCkJiEm6ThADcwW8byOoxjuVhRdhdbJdFfaugOACM6XadpmXatwaisKKvDFPOfnZQguWkPlMV1r5AAM6UZaFkThQ67kfhJJh5pACZNbSkXFfO8VWMI+aPOk2D2QmpmMUebD5gNVUhXxoDrVU5BjahrV1fJjXNbkwWHQA-MNc3oBdCiPDG0AJgmhb+Q9h2AwJhHCaJCYFDl5F5QtOH1NtB67aw+YA4dyOA1VY6zRFb2iQdVXwfsp1DO91qgO9XmqWp6UAL4DQaZOiV50myfJtnBEp9CU61UmwDJXCs2VwXPeAADaAC6wUGcz-PsAATELEDi+Lkt4tLcnsAAzAroti0rEuHVLvMs+wAAs2t63rKvIJAFu63bA01TYbDoGVY6Kcp4utcDSzvQmZX7aAshYgOBDdAA1ie7zcIwXw-OwrLauCEHs8pg48UNqi8rLbsp-Qete4JsC+7LAdBwOTCoGwSAwtqodEGHoADpw0d8BAccBIUmxDu79CgDZPdEOLmEDoEIRhBCg5ZGHaAEEgg71Gk+A1Qilh0mzHNEOnx2Z+gGs5xvtsFyDRdgxrpdgMHaKV6w1e1+HjdR58be-B3ifgQPffrx7YufwPevD6SMe4R4CTyQNPVAs956viXqFFe3BqLuAHtIR2O8TZHx9mDEuqVA4XwHAUUgoQvBAhpFwXgSRw6R2bk-b4L9QHgMgfUAm+B6YvynjPJAlsUHOwAKz72-p7CS3tQYeQUAmWW9Rern2xCHChZp8B0XIgxBGzFMIvwTg-KhMdn7sGThvKBTD2gchfn-O2W8so7wAGxjjYRAjhdt0HCLjGIqRl864RxOqveoLJDHwBoewGxs8-S9DAAAIVgOQCB7dtjyiYHhcOLR6iZGyM4JAQoACSMINQrkgJKdwEM9TUDoEQCJCBWbpG6IgEY6APR4gABr1HONkNkbxuAEBOpcFJiYfB6mRpIJJVwl6F3egAeTCFidSCYUouDHGVOGiizKI0epZVyisxYDX6Z0oRJ8RGjKYOMjSwUpl5DHOI4K8NzJsCWRAFylk9brI6bKLZIyxkTMOTDaZoANZGUOucxZlkbmrLudIDZjyhmiV2fszSh0jn6VACbb5VVfnMSueAAFOtbb3OSaC4+zy9mvOhe845X9OZnPmTtZF-yVm4v2ZigZXocXgpeQcglBUiUDwRSZMlyiLJt37lBK6UEAXUvUqAIKh1HZYwdF1EqS1EoiCKqy1glUqqOwhu1KGnVCXsAVd1UqoAKqDWOtdBqsBZotQkmqjq0q9KgD6njaqQ1JWkRJhNKaM0RrzVZbKlaa0NrkC2lyi5SN7VHSykTc6okrqwHqrdCQ910baWek6nGIjPoIG+r9PyakUYJqeYypg4MxTqpaNa2Gn4lFBrRgm7SVb0aYw9SmuMIaDHhvejTaQ9NhW+Qkuiu2+cbJdvFgNMxidna7NdsSweP9BFgp2WEP2Ui3HsFOrAEdTteS7OzpO-OM6GVzoLVgnBhBZErrXTvXZe9t19unfSjB+6Exn2wbIJdHjuDIIzmOsIaDd13rjLs5xT6wAvtPVwjdYReFXoEbexxqF-3iNAJIwDx767LtXmez9TArGgACXYqDeb72HufSe1eQA).\n\nDoes anyone have any ideas for what the problem might be?", "author_fullname": "t2_9c33k", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Type annotation erroneously overrides generic", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": true, "name": "t3_i8zupk", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 1, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1597353906.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;m currently trying to refactor a function&amp;#39;s signature to remove the need for loads of overloads. I&amp;#39;ve done this by creating a conditional generic type to handle the same cases that the overloads did.&lt;/p&gt;\n\n&lt;p&gt;The function works fine but for some reason adding annotations to constrain the return type from &lt;code&gt;unknown&lt;/code&gt; to something else is giving me errors that didn&amp;#39;t exist, as if the function is incorrectly inferring &lt;code&gt;T&lt;/code&gt; from the annotation and I just can&amp;#39;t figure out why. There are some times in my project where I need to declare a variable before assigning it and it just breaks.&lt;/p&gt;\n\n&lt;p&gt;This is the function&amp;#39;s signature:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;const createMatrix = &amp;lt;D extends number, T&amp;gt;(\n    dimensions: D,\n    initialValues: T = null\n): Matrix&amp;lt;D, T&amp;gt;\n\ntype Matrix&amp;lt;D extends number, T&amp;gt; = D extends 1\n    ? T[]\n    : D extends 2\n    ? T[][]\n    // ...\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And a TS playground link with the full code and old version &lt;a href=\"https://www.staging-typescript.org/play?#code/PTAEBUE8AcFNQIYDskHsAuD0EtVNAO4BOeA5gDaSioBusRR2AJrAM6imxL3YDGh2dAAtQ9EkVYAoSSFABRAB5xe6WE1AAjWEIQ1cRAFwywAQSZNsSUqHQx4yNJhx526VKBoJGCDeTahWIVQAV3J1LVBeVABbaCxsX3gCQRFheAAzYKQVXCR2Ilh0YKIkYwDsUiQsYtgAGkiEYNZLazQbO1EGVAlpWRMVYIRyTW1dfSM+1mbKlsR8BwwsNQ8vbB8-G3c00AKikpXyYPhUdJshDKycvAam-2RO8QA6MvBzji4efnBQbHZiMkoPyQ6TEyzcIzmVBOoAA5F4iAgqARzgVQCxoMJQAAeUAAERhhBR8EEASCoSYZQilhBDDB7jwgO2GgQrHgtjg1FO224rFU6nhiMeoAASrBorRZtsFk5cgFUOQ6FJZNtoCREtFNMF0DsxbR-Oz4KwECDbISuCtvIlEFMKkholxtTpoHA8oh0qoiJECvE8M8ZAAqf2SUD+kWFYquhCgaJYRgKUAACmioRwAFoLPa8rkhogGIiAJQCTGQEKeljNArqDNcZouObqTyHNjPEPB0MAATiCI11azddToAABrjBwYIG9y9hK2jsJna67odsY+g423QJ2vAgNZZBGtyAA1IZHdgD17wRtHM5YUQIXgiaCoSzayxneDLuNA3dDX761BC3GwOkjTkOgrjuIOSChOQg4th2uwRuwJjRrG2DxtCw6DjOc65Kw9TJJisC3vej5IM+SBfuQP7qOC2yDjuOBDIeTasJhXZboU9CwcAkhRHk2q8N6qgALIofGAC82K4qICiqEgTDsJB0RaEQ9TgAAfAmwagNpvbzqwY64rUWnafRe5MceY7fAAPqAkHkMMEl2eQkj5mOIkrqhWKGRAamgGJvkAN7GZELj8cUBSkbis41rkAAyXCkJiEm6ThADcwW8byOoxjuVhRdhdbJdFfaugOACM6XadpmXatwaisKKvDFPOfnZQguWkPlMV1r5AAM6UZaFkThQ67kfhJJh5pACZNbSkXFfO8VWMI+aPOk2D2QmpmMUebD5gNVUhXxoDrVU5BjahrV1fJjXNbkwWHQA-MNc3oBdCiPDG0AJgmhb+Q9h2AwJhHCaJCYFDl5F5QtOH1NtB67aw+YA4dyOA1VY6zRFb2iQdVXwfsp1DO91qgO9XmqWp6UAL4DQaZOiV50myfJtnBEp9CU61UmwDJXCs2VwXPeAADaAC6wUGcz-PsAATELEDi+Lkt4tLcnsAAzAroti0rEuHVLvMs+wAAs2t63rKvIJAFu63bA01TYbDoGVY6Kcp4utcDSzvQmZX7aAshYgOBDdAA1ie7zcIwXw-OwrLauCEHs8pg48UNqi8rLbsp-Qete4JsC+7LAdBwOTCoGwSAwtqodEGHoADpw0d8BAccBIUmxDu79CgDZPdEOLmEDoEIRhBCg5ZGHaAEEgg71Gk+A1Qilh0mzHNEOnx2Z+gGs5xvtsFyDRdgxrpdgMHaKV6w1e1+HjdR58be-B3ifgQPffrx7YufwPevD6SMe4R4CTyQNPVAs956viXqFFe3BqLuAHtIR2O8TZHx9mDEuqVA4XwHAUUgoQvBAhpFwXgSRw6R2bk-b4L9QHgMgfUAm+B6YvynjPJAlsUHOwAKz72-p7CS3tQYeQUAmWW9Rern2xCHChZp8B0XIgxBGzFMIvwTg-KhMdn7sGThvKBTD2gchfn-O2W8so7wAGxjjYRAjhdt0HCLjGIqRl864RxOqveoLJDHwBoewGxs8-S9DAAAIVgOQCB7dtjyiYHhcOLR6iZGyM4JAQoACSMINQrkgJKdwEM9TUDoEQCJCBWbpG6IgEY6APR4gABr1HONkNkbxuAEBOpcFJiYfB6mRpIJJVwl6F3egAeTCFidSCYUouDHGVOGiizKI0epZVyisxYDX6Z0oRJ8RGjKYOMjSwUpl5DHOI4K8NzJsCWRAFylk9brI6bKLZIyxkTMOTDaZoANZGUOucxZlkbmrLudIDZjyhmiV2fszSh0jn6VACbb5VVfnMSueAAFOtbb3OSaC4+zy9mvOhe845X9OZnPmTtZF-yVm4v2ZigZXocXgpeQcglBUiUDwRSZMlyiLJt37lBK6UEAXUvUqAIKh1HZYwdF1EqS1EoiCKqy1glUqqOwhu1KGnVCXsAVd1UqoAKqDWOtdBqsBZotQkmqjq0q9KgD6njaqQ1JWkRJhNKaM0RrzVZbKlaa0NrkC2lyi5SN7VHSykTc6okrqwHqrdCQ910baWek6nGIjPoIG+r9PyakUYJqeYypg4MxTqpaNa2Gn4lFBrRgm7SVb0aYw9SmuMIaDHhvejTaQ9NhW+Qkuiu2+cbJdvFgNMxidna7NdsSweP9BFgp2WEP2Ui3HsFOrAEdTteS7OzpO-OM6GVzoLVgnBhBZErrXTvXZe9t19unfSjB+6Exn2wbIJdHjuDIIzmOsIaDd13rjLs5xT6wAvtPVwjdYReFXoEbexxqF-3iNAJIwDx767LtXmez9TArGgACXYqDeb72HufSe1eQA\"&gt;is here&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;Does anyone have any ideas for what the problem might be?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i8zupk", "is_robot_indexable": true, "report_reasons": null, "author": "NeefRehman", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/i8zupk/type_annotation_erroneously_overrides_generic/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/i8zupk/type_annotation_erroneously_overrides_generic/", "subreddit_subscribers": 46109, "created_utc": 1597325106.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "Hi there! Just starting with typescript and I was guessing if this is possible to achieve. Any help or alternative solutions will be appreciated, thanks in advance!\n\nSo I have this method:\n\n    triggerInteraction({\n        parent,\n        action,\n        custom = false,\n      }: {\n        parent: HTMLElement;\n        action: string;\n        custom?: boolean;\n      }) {\n        // Search for trigger and click it if found\n        const trigger = custom\n          ? (document.querySelector(`[data-logic=\"${action}\"]`) as HTMLElement)\n          : (parent.querySelector(`[data-logic=\"${action}\"]`) as HTMLElement);\n    \n        if (trigger) {\n          trigger.click();\n          return true;\n        } else return false;\n      }\n\nWhere the ***parent*** argument is only needed if the ***custom*** argument is true. Otherwise, it won't be used by the method.\n\nSo my goal is to be able to make this a valid call:\n\n`triggerInteraction({\u00a0action,\u00a0custom: true\u00a0});`\n\nBut not this (***parent*** should be required here, because ***custom*** is false and therefore will be needed in the method):\n\n`triggerInteraction({\u00a0action,\u00a0custom: false});`\n\nIs there any way to set this conditionally optional parameter? Or is there a better approach for this kind of solution?\n\n&amp;#x200B;\n\nThanks!", "author_fullname": "t2_391au4ng", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Is it possible to make one function argument optional depending on another argument's value?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_i8wona", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.75, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1597339051.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi there! Just starting with typescript and I was guessing if this is possible to achieve. Any help or alternative solutions will be appreciated, thanks in advance!&lt;/p&gt;\n\n&lt;p&gt;So I have this method:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;triggerInteraction({\n    parent,\n    action,\n    custom = false,\n  }: {\n    parent: HTMLElement;\n    action: string;\n    custom?: boolean;\n  }) {\n    // Search for trigger and click it if found\n    const trigger = custom\n      ? (document.querySelector(`[data-logic=&amp;quot;${action}&amp;quot;]`) as HTMLElement)\n      : (parent.querySelector(`[data-logic=&amp;quot;${action}&amp;quot;]`) as HTMLElement);\n\n    if (trigger) {\n      trigger.click();\n      return true;\n    } else return false;\n  }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Where the &lt;strong&gt;&lt;em&gt;parent&lt;/em&gt;&lt;/strong&gt; argument is only needed if the &lt;strong&gt;&lt;em&gt;custom&lt;/em&gt;&lt;/strong&gt; argument is true. Otherwise, it won&amp;#39;t be used by the method.&lt;/p&gt;\n\n&lt;p&gt;So my goal is to be able to make this a valid call:&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;triggerInteraction({\u00a0action,\u00a0custom: true\u00a0});&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;But not this (&lt;strong&gt;&lt;em&gt;parent&lt;/em&gt;&lt;/strong&gt; should be required here, because &lt;strong&gt;&lt;em&gt;custom&lt;/em&gt;&lt;/strong&gt; is false and therefore will be needed in the method):&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;triggerInteraction({\u00a0action,\u00a0custom: false});&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;Is there any way to set this conditionally optional parameter? Or is there a better approach for this kind of solution?&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;Thanks!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i8wona", "is_robot_indexable": true, "report_reasons": null, "author": "alexismix6", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/i8wona/is_it_possible_to_make_one_function_argument/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/i8wona/is_it_possible_to_make_one_function_argument/", "subreddit_subscribers": 46109, "created_utc": 1597310251.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "", "author_fullname": "t2_316tq", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Teki - An unreasonably efficient route parser in TypeScript", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": 70, "top_awarded_type": null, "hide_score": false, "name": "t3_i8doxo", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.91, "author_flair_background_color": null, "subreddit_type": "public", "ups": 48, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": 140, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 48, "approved_by": null, "author_premium": false, "thumbnail": "https://b.thumbs.redditmedia.com/inHpPsbpcwkYc04FCgwP4gUEXrxPd4UdjOtYNps9dEg.jpg", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "link", "content_categories": null, "is_self": false, "mod_note": null, "created": 1597267531.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "github.com", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://github.com/philipnilsson/teki#teki", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/gNZPt_XiRW1dc9ScoZUSEXETziIQ3WPCr7JFaZEhjDk.jpg?auto=webp&amp;s=54f7d33f3d72d793f7ee6018e1f18d73fff91624", "width": 1280, "height": 640}, "resolutions": [{"url": "https://external-preview.redd.it/gNZPt_XiRW1dc9ScoZUSEXETziIQ3WPCr7JFaZEhjDk.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=471383cf360c4c1c10ed6ddb104607e74b03a910", "width": 108, "height": 54}, {"url": "https://external-preview.redd.it/gNZPt_XiRW1dc9ScoZUSEXETziIQ3WPCr7JFaZEhjDk.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=8386aff54e0162ed2a59654d526f0d1253897eda", "width": 216, "height": 108}, {"url": "https://external-preview.redd.it/gNZPt_XiRW1dc9ScoZUSEXETziIQ3WPCr7JFaZEhjDk.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=2e778b93fc076ed257ef0d88d38f6ea495160920", "width": 320, "height": 160}, {"url": "https://external-preview.redd.it/gNZPt_XiRW1dc9ScoZUSEXETziIQ3WPCr7JFaZEhjDk.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;s=a2300a576dfecbc95e6abfc014574567e96442d8", "width": 640, "height": 320}, {"url": "https://external-preview.redd.it/gNZPt_XiRW1dc9ScoZUSEXETziIQ3WPCr7JFaZEhjDk.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;s=4cd2bc9f9c7df044b67d1614391e309e65b82e3e", "width": 960, "height": 480}, {"url": "https://external-preview.redd.it/gNZPt_XiRW1dc9ScoZUSEXETziIQ3WPCr7JFaZEhjDk.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;s=c30c0af9a5938a13977acb31f1e3458f74a05202", "width": 1080, "height": 540}], "variants": {}, "id": "e4Y5XzUOdUZ9L3qhNAnwkGdXjDRxStWqTcPUeUwFiAo"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i8doxo", "is_robot_indexable": true, "report_reasons": null, "author": "ueberbobo", "discussion_type": null, "num_comments": 4, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/i8doxo/teki_an_unreasonably_efficient_route_parser_in/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://github.com/philipnilsson/teki#teki", "subreddit_subscribers": 46109, "created_utc": 1597238731.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "[https://github.com/IhsanMujdeci/node-ts](https://github.com/IhsanMujdeci/node-ts)\n\n&amp;#x200B;\n\nGet started with \\`npm start\\`\n\n&amp;#x200B;\n\n* Dev mode transpiling ts with nodemon like re-running.\n* Testing built in with jest.\n* Github actions on push and pr to master that build and test the application\n* Environment variable loading from file built in.\n* Aliases your project under \\`@/myApp\\`, you can change it in the tsconfig.json", "author_fullname": "t2_9di933x", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Typescript node starter, with testing, dev mode, environment variable loading and github actions", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_i84px0", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.57, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1597225016.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;&lt;a href=\"https://github.com/IhsanMujdeci/node-ts\"&gt;https://github.com/IhsanMujdeci/node-ts&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;Get started with `npm start`&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Dev mode transpiling ts with nodemon like re-running.&lt;/li&gt;\n&lt;li&gt;Testing built in with jest.&lt;/li&gt;\n&lt;li&gt;Github actions on push and pr to master that build and test the application&lt;/li&gt;\n&lt;li&gt;Environment variable loading from file built in.&lt;/li&gt;\n&lt;li&gt;Aliases your project under `@/myApp`, you can change it in the tsconfig.json&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/dWbOwRtm1d9EC_vKoxLhZEq3hDXTc5jwwauCkf3OL-4.jpg?auto=webp&amp;s=5bf6df2ae0dc95b821a537f513b1f88bce676688", "width": 420, "height": 420}, "resolutions": [{"url": "https://external-preview.redd.it/dWbOwRtm1d9EC_vKoxLhZEq3hDXTc5jwwauCkf3OL-4.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=a9ed4e6de8766013c5aea59e66a3e1653deee650", "width": 108, "height": 108}, {"url": "https://external-preview.redd.it/dWbOwRtm1d9EC_vKoxLhZEq3hDXTc5jwwauCkf3OL-4.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=d95d2642db513aa30de17e9885ad6e76f2f162ee", "width": 216, "height": 216}, {"url": "https://external-preview.redd.it/dWbOwRtm1d9EC_vKoxLhZEq3hDXTc5jwwauCkf3OL-4.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=33c9778002532a00c304e81fa934dcc211bae743", "width": 320, "height": 320}], "variants": {}, "id": "E97NyDFZCFn5cIZtQ6dls6-JOEwwU6WJ5UQ3yYPETaI"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i84px0", "is_robot_indexable": true, "report_reasons": null, "author": "LVCXD", "discussion_type": null, "num_comments": 4, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/i84px0/typescript_node_starter_with_testing_dev_mode/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/i84px0/typescript_node_starter_with_testing_dev_mode/", "subreddit_subscribers": 46109, "created_utc": 1597196216.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "I have an interface.\n\n    export interface ViolationDetails {\n      // \u2026snip\u2026\n      getMessage: (extra: Record&lt;string, any&gt;) =&gt; string;\n    }\n\nThen I implement it.\n\n    const myViolation: ViolationDetails = {\n      // \u2026snip\u2026\n      getMessage: (): string =&gt; 'Missing field';\n    }\n\nNo errors to be seen. But when I try to call it, I get a compiler error.\n\n    myViolation.getMessage();\n    // Expected 1 argument, but got 0.\n\nWhat gives? Why is there no type error on the implementation, but only on the call?", "author_fullname": "t2_cuzwz", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Type error on call but not on definition", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_i7si1q", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.84, "author_flair_background_color": null, "subreddit_type": "public", "ups": 8, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 8, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1597183819.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have an interface.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;export interface ViolationDetails {\n  // \u2026snip\u2026\n  getMessage: (extra: Record&amp;lt;string, any&amp;gt;) =&amp;gt; string;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Then I implement it.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;const myViolation: ViolationDetails = {\n  // \u2026snip\u2026\n  getMessage: (): string =&amp;gt; &amp;#39;Missing field&amp;#39;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;No errors to be seen. But when I try to call it, I get a compiler error.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;myViolation.getMessage();\n// Expected 1 argument, but got 0.\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;What gives? Why is there no type error on the implementation, but only on the call?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i7si1q", "is_robot_indexable": true, "report_reasons": null, "author": "henrebotha", "discussion_type": null, "num_comments": 9, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/i7si1q/type_error_on_call_but_not_on_definition/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/i7si1q/type_error_on_call_but_not_on_definition/", "subreddit_subscribers": 46109, "created_utc": 1597155019.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "i have cache completed with nodejs but with typescript this not overwrite. somebody suggest me \n\ncache.ts\n\n\n        import * as mongoose from 'mongoose';\n        import * as redis from 'redis';\n        import * as util from 'util';\n        import { RedisClient } from 'redis';\n\n      let redisClient: RedisClient;\n\n      export function startRedisConnection() {\n        redisClient = redis.createClient({\n          host: 'redis',\n          port: 6379,\n          retry_strategy: () =&gt; 1000\n        });\n\n        redisClient.hgetAsync = util.promisify(redisClient.hget);\n        redisClient.hsetAsync = util.promisify(redisClient.hset);\n\n        // Monkey patch mongoose exec method\n        const exec = mongoose.Query.prototype.exec;\n\n        mongoose.Query.prototype.cache = function(options: any = {}) {\n          this.useCache = true;\n          this.time = options.time || 60;\n          // Dynamic top-level hashKey\n          this.hashKey = JSON.stringify(options.hashKey || '');\n          console.log(this.hashKey);\n          return this;\n        };\n\n        mongoose.Query.prototype.exec = async function() {\n          // No cache\n          if (!this.useCache) {\n            return exec.apply(this, arguments);\n          }\n\n          // {...query, collection: name }\n          const key = JSON.stringify({ ...this.getQuery(), collection: this.mongooseCollection.name });\n          // Get cache\n          const cacheValue = await redisClient.hgetAsync(this.hashKey, key);\n          if (cacheValue) {\n            const value = JSON.parse(cacheValue);\n            // Mongoose exec expects us to return mongoose documents\n            console.log('response from redis');\n            return Array.isArray(value) ? value.map(item =&gt; new this.model(item)) : new this.model(value);\n          }\n\n          const result = await exec.apply(this, arguments);\n          // Set cache\n          // key: ...hashkey\n          // value:  { nestedKey: ...key, nestedValue: ...result }\n          if (result) {\n            redisClient.hsetAsync(this.hashKey, key, JSON.stringify(result));\n          }\n          console.log('Helo');\n          return result;\n        };\n      }\n\n      export function stopRedisConnection() {\n        redisClient.quit();\n      }\n\n      export function removeHashKeyFromCache(hashKey: any) {\n        redisClient.del(JSON.stringify(hashKey));\n      }", "author_fullname": "t2_37psd3nj", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How to make cache layer redis with mongoose ?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_i7qxaj", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.67, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 3, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": 1597150094.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1597177802.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;i have cache completed with nodejs but with typescript this not overwrite. somebody suggest me &lt;/p&gt;\n\n&lt;p&gt;cache.ts&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;    import * as mongoose from &amp;#39;mongoose&amp;#39;;\n    import * as redis from &amp;#39;redis&amp;#39;;\n    import * as util from &amp;#39;util&amp;#39;;\n    import { RedisClient } from &amp;#39;redis&amp;#39;;\n\n  let redisClient: RedisClient;\n\n  export function startRedisConnection() {\n    redisClient = redis.createClient({\n      host: &amp;#39;redis&amp;#39;,\n      port: 6379,\n      retry_strategy: () =&amp;gt; 1000\n    });\n\n    redisClient.hgetAsync = util.promisify(redisClient.hget);\n    redisClient.hsetAsync = util.promisify(redisClient.hset);\n\n    // Monkey patch mongoose exec method\n    const exec = mongoose.Query.prototype.exec;\n\n    mongoose.Query.prototype.cache = function(options: any = {}) {\n      this.useCache = true;\n      this.time = options.time || 60;\n      // Dynamic top-level hashKey\n      this.hashKey = JSON.stringify(options.hashKey || &amp;#39;&amp;#39;);\n      console.log(this.hashKey);\n      return this;\n    };\n\n    mongoose.Query.prototype.exec = async function() {\n      // No cache\n      if (!this.useCache) {\n        return exec.apply(this, arguments);\n      }\n\n      // {...query, collection: name }\n      const key = JSON.stringify({ ...this.getQuery(), collection: this.mongooseCollection.name });\n      // Get cache\n      const cacheValue = await redisClient.hgetAsync(this.hashKey, key);\n      if (cacheValue) {\n        const value = JSON.parse(cacheValue);\n        // Mongoose exec expects us to return mongoose documents\n        console.log(&amp;#39;response from redis&amp;#39;);\n        return Array.isArray(value) ? value.map(item =&amp;gt; new this.model(item)) : new this.model(value);\n      }\n\n      const result = await exec.apply(this, arguments);\n      // Set cache\n      // key: ...hashkey\n      // value:  { nestedKey: ...key, nestedValue: ...result }\n      if (result) {\n        redisClient.hsetAsync(this.hashKey, key, JSON.stringify(result));\n      }\n      console.log(&amp;#39;Helo&amp;#39;);\n      return result;\n    };\n  }\n\n  export function stopRedisConnection() {\n    redisClient.quit();\n  }\n\n  export function removeHashKeyFromCache(hashKey: any) {\n    redisClient.del(JSON.stringify(hashKey));\n  }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i7qxaj", "is_robot_indexable": true, "report_reasons": null, "author": "songhanpoo", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/i7qxaj/how_to_make_cache_layer_redis_with_mongoose/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/i7qxaj/how_to_make_cache_layer_redis_with_mongoose/", "subreddit_subscribers": 46109, "created_utc": 1597149002.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "    Type error: Type '{ children: Element; className: string; closeButton: true; }' is missing the following properties from type 'Pick&lt;ModalHeaderProps, \"style\" | \"title\" | \"slot\" | \"children\" | \"bsPrefix\" | \"className\" | \"color\" | \"id\" | \"lang\" | \"role\" | \"tabIndex\" | \"dangerouslySetInnerHTML\" |\n\n     ... 246 more ... | \"closeButton\"&gt;': translate, onAuxClick, onAuxClickCapture  TS2739\n\nhttps://imgur.com/a/XpLvrpo\n\nDo I need to actually pass in 246+ properties to this Modal.Header component (using bootstrap)? I am pretty bad so please treat me like a huge noob! What should I do here?", "author_fullname": "t2_w6om9k9", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Type error - Missing 200+ properties", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_i7evqe", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.94, "author_flair_background_color": null, "subreddit_type": "public", "ups": 14, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 14, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1597126175.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;pre&gt;&lt;code&gt;Type error: Type &amp;#39;{ children: Element; className: string; closeButton: true; }&amp;#39; is missing the following properties from type &amp;#39;Pick&amp;lt;ModalHeaderProps, &amp;quot;style&amp;quot; | &amp;quot;title&amp;quot; | &amp;quot;slot&amp;quot; | &amp;quot;children&amp;quot; | &amp;quot;bsPrefix&amp;quot; | &amp;quot;className&amp;quot; | &amp;quot;color&amp;quot; | &amp;quot;id&amp;quot; | &amp;quot;lang&amp;quot; | &amp;quot;role&amp;quot; | &amp;quot;tabIndex&amp;quot; | &amp;quot;dangerouslySetInnerHTML&amp;quot; |\n\n ... 246 more ... | &amp;quot;closeButton&amp;quot;&amp;gt;&amp;#39;: translate, onAuxClick, onAuxClickCapture  TS2739\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;a href=\"https://imgur.com/a/XpLvrpo\"&gt;https://imgur.com/a/XpLvrpo&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Do I need to actually pass in 246+ properties to this Modal.Header component (using bootstrap)? I am pretty bad so please treat me like a huge noob! What should I do here?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/jaxZbbdlnl67aRlHdOnXh8gHx4Xs3XwXiLPf_9dzX4c.jpg?auto=webp&amp;s=7f49aca10cd97d68c3544bad742a17223bd32526", "width": 1250, "height": 234}, "resolutions": [{"url": "https://external-preview.redd.it/jaxZbbdlnl67aRlHdOnXh8gHx4Xs3XwXiLPf_9dzX4c.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=e7bb0a097383c175358092b3e491c3a290621804", "width": 108, "height": 20}, {"url": "https://external-preview.redd.it/jaxZbbdlnl67aRlHdOnXh8gHx4Xs3XwXiLPf_9dzX4c.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=71f745013fb486417e47560000dde4d520c2eaa0", "width": 216, "height": 40}, {"url": "https://external-preview.redd.it/jaxZbbdlnl67aRlHdOnXh8gHx4Xs3XwXiLPf_9dzX4c.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=906bdf3f303f825bc4f6bfaaa29578a57061a0ce", "width": 320, "height": 59}, {"url": "https://external-preview.redd.it/jaxZbbdlnl67aRlHdOnXh8gHx4Xs3XwXiLPf_9dzX4c.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;s=5b755ed2fee75ee6d38884405ff8ea50e244af41", "width": 640, "height": 119}, {"url": "https://external-preview.redd.it/jaxZbbdlnl67aRlHdOnXh8gHx4Xs3XwXiLPf_9dzX4c.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;s=5c8f1ef62eddaf082b1e30189e30cb5d790e6cd2", "width": 960, "height": 179}, {"url": "https://external-preview.redd.it/jaxZbbdlnl67aRlHdOnXh8gHx4Xs3XwXiLPf_9dzX4c.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;s=69277a0afcf7b4830f5a345ee46c3ed8d3cd3371", "width": 1080, "height": 202}], "variants": {}, "id": "3NSUN2lktzPe_9rBgLfFgHdAJxW1boG67yYXsqpHtjg"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i7evqe", "is_robot_indexable": true, "report_reasons": null, "author": "SignificantGarbage", "discussion_type": null, "num_comments": 15, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/i7evqe/type_error_missing_200_properties/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/i7evqe/type_error_missing_200_properties/", "subreddit_subscribers": 46109, "created_utc": 1597097375.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_i7evqe", "before": null}}