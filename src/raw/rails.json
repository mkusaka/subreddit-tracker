{"kind": "Listing", "data": {"modhash": "", "dist": 11, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "In this thread you can showcase your personal pet project to other redditors.\n\nNeed help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!\n\nA suggested format to get you started:\n\n1. **Name of your project**\n2. **A short description**\n3. **Application stack**\n4. **Link to Live app**\n5. **Link to GitHub**\n6. **You experience level**\n7. **Other information or areas that you would like advice on**\n\n\u00a0\n\n^(Many thanks to Kritnc for getting the ball rolling.)", "author_fullname": "t2_6l4z3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Personal Projects - Show off your own project and/or ask for advice", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_i00rha", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.97, "author_flair_background_color": null, "subreddit_type": "public", "ups": 22, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 22, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1596058363.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;In this thread you can showcase your personal pet project to other redditors.&lt;/p&gt;\n\n&lt;p&gt;Need help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!&lt;/p&gt;\n\n&lt;p&gt;A suggested format to get you started:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;Name of your project&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;A short description&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Application stack&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to Live app&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to GitHub&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;You experience level&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Other information or areas that you would like advice on&lt;/strong&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;\u00a0&lt;/p&gt;\n\n&lt;p&gt;&lt;sup&gt;Many thanks to Kritnc for getting the ball rolling.&lt;/sup&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i00rha", "is_robot_indexable": true, "report_reasons": null, "author": "AutoModerator", "discussion_type": null, "num_comments": 4, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/i00rha/personal_projects_show_off_your_own_project_andor/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rails/comments/i00rha/personal_projects_show_off_your_own_project_andor/", "subreddit_subscribers": 45342, "created_utc": 1596029563.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hey people. I'm a backend developer working primarily with PHP7.x and TypeScript, with some experience with Go, but in all honesty, I always had a thing for Ruby.   \n\n\nI've been thinking about learning Ruby and then Rails properly and trying to land a job that would allow me to use them. The only thing that pulls me back is a question of whether or not new stuff is actually created with Ruby/Rails or its mostly legacy code at this point. I'm honestly tired of PHP (mostly community, the language is just fine) and TypeScript doesn't bring to much joy to work with (although it is a great language).   \n\n\nTo sum up my question, are there new Rails apps coming out and, with 5-6 years of experience would I have to look for a junior position, given that I've got experience with other languages and know a fair bit of system design, best practices and design patterns?", "author_fullname": "t2_11te8kma", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Moving to Rails in 2020", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_i2tg0x", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.96, "author_flair_background_color": null, "subreddit_type": "public", "ups": 17, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 17, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1596472547.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey people. I&amp;#39;m a backend developer working primarily with PHP7.x and TypeScript, with some experience with Go, but in all honesty, I always had a thing for Ruby.   &lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;ve been thinking about learning Ruby and then Rails properly and trying to land a job that would allow me to use them. The only thing that pulls me back is a question of whether or not new stuff is actually created with Ruby/Rails or its mostly legacy code at this point. I&amp;#39;m honestly tired of PHP (mostly community, the language is just fine) and TypeScript doesn&amp;#39;t bring to much joy to work with (although it is a great language).   &lt;/p&gt;\n\n&lt;p&gt;To sum up my question, are there new Rails apps coming out and, with 5-6 years of experience would I have to look for a junior position, given that I&amp;#39;ve got experience with other languages and know a fair bit of system design, best practices and design patterns?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i2tg0x", "is_robot_indexable": true, "report_reasons": null, "author": "the_liver", "discussion_type": null, "num_comments": 18, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/i2tg0x/moving_to_rails_in_2020/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/i2tg0x/moving_to_rails_in_2020/", "subreddit_subscribers": 45342, "created_utc": 1596443747.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hello, I have a table with synonyms linked to a word and another word (\"word\\_linked\") (which is the synonym of the first one).\n\nTable 1 : Word\n\nTable 2 : Synonym (word\\_id, word\\_linked)  \n\n\nHow can I create an association with both words?\n\n&amp;#x200B;\n\nFor now I have in my Synonym model :\n\n`belongs_to :word`\n\nBut I would also need something like this:\n\n`has_one :word, :through =&gt; :word_linked`\n\n&amp;#x200B;\n\nThe goal is to be able to load the word association when I do Synonym.find(1).word\\_linked  \n\n\nIs it possible to do that? Thanks.", "author_fullname": "t2_153ot6d3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Same association twice for one single model", "link_flair_richtext": [{"e": "text", "t": "Help"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_i2v2z0", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Help", "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1596481591.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hello, I have a table with synonyms linked to a word and another word (&amp;quot;word_linked&amp;quot;) (which is the synonym of the first one).&lt;/p&gt;\n\n&lt;p&gt;Table 1 : Word&lt;/p&gt;\n\n&lt;p&gt;Table 2 : Synonym (word_id, word_linked)  &lt;/p&gt;\n\n&lt;p&gt;How can I create an association with both words?&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;For now I have in my Synonym model :&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;belongs_to :word&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;But I would also need something like this:&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;has_one :word, :through =&amp;gt; :word_linked&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;The goal is to be able to load the word association when I do Synonym.find(1).word_linked  &lt;/p&gt;\n\n&lt;p&gt;Is it possible to do that? Thanks.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "eef0b990-adfb-11e4-8e15-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i2v2z0", "is_robot_indexable": true, "report_reasons": null, "author": "nicolrx", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/i2v2z0/same_association_twice_for_one_single_model/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/i2v2z0/same_association_twice_for_one_single_model/", "subreddit_subscribers": 45342, "created_utc": 1596452791.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I am building an app where a user simply uploads some files to a Rails app and I want add some kind of backup functionality built into the app.\n\nThe app should be able to auto-backup the database and the files, compress them into a `zip` file and then upload them to a custom or third party service.\n\nI am thinking that I will serialize the user's database records e.g. the `User` instance and his `posts` (where the files are being referenced to and uploaded) but I don't know what can I do with `ActiveStorage` files.\n\nShould I serialize the `active_storage_*` tables and backup the `/storage` directory as is ? Could restoring them into a new Rails installation and referencing the *same* user work?", "author_fullname": "t2_19yk1hqz", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Backing up and Restoring ActiveStorage files", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_i2ucgd", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1596449847.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1596477687.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I am building an app where a user simply uploads some files to a Rails app and I want add some kind of backup functionality built into the app.&lt;/p&gt;\n\n&lt;p&gt;The app should be able to auto-backup the database and the files, compress them into a &lt;code&gt;zip&lt;/code&gt; file and then upload them to a custom or third party service.&lt;/p&gt;\n\n&lt;p&gt;I am thinking that I will serialize the user&amp;#39;s database records e.g. the &lt;code&gt;User&lt;/code&gt; instance and his &lt;code&gt;posts&lt;/code&gt; (where the files are being referenced to and uploaded) but I don&amp;#39;t know what can I do with &lt;code&gt;ActiveStorage&lt;/code&gt; files.&lt;/p&gt;\n\n&lt;p&gt;Should I serialize the &lt;code&gt;active_storage_*&lt;/code&gt; tables and backup the &lt;code&gt;/storage&lt;/code&gt; directory as is ? Could restoring them into a new Rails installation and referencing the &lt;em&gt;same&lt;/em&gt; user work?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i2ucgd", "is_robot_indexable": true, "report_reasons": null, "author": "tonystarkco", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/i2ucgd/backing_up_and_restoring_activestorage_files/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/i2ucgd/backing_up_and_restoring_activestorage_files/", "subreddit_subscribers": 45342, "created_utc": 1596448887.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hosting my app on DO vps. Have rails native credentials stored. (Rails.application.credentials)\n\nThey working fine from `rails c` console but NGINX doesn't see them at all, logging `undefined method [] for NilClass` for them. Can you help me out guys?", "author_fullname": "t2_7hd3jqj0", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Credentials failure from NGINX", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_i2u8bb", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1596477031.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hosting my app on DO vps. Have rails native credentials stored. (Rails.application.credentials)&lt;/p&gt;\n\n&lt;p&gt;They working fine from &lt;code&gt;rails c&lt;/code&gt; console but NGINX doesn&amp;#39;t see them at all, logging &lt;code&gt;undefined method [] for NilClass&lt;/code&gt; for them. Can you help me out guys?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i2u8bb", "is_robot_indexable": true, "report_reasons": null, "author": "tee0zed", "discussion_type": null, "num_comments": 1, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/i2u8bb/credentials_failure_from_nginx/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/i2u8bb/credentials_failure_from_nginx/", "subreddit_subscribers": 45342, "created_utc": 1596448231.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I am modifying test cases in a test file that looks like this. \n\n    class TestClass &lt; ActionView\n      def setup # called before each test\n      end\n      def teardown # called after each test\n      end\n      def test_this\n     end\n    end\n\nI'm looking for a hook that will run after all the tests complete running. \n\nI am not sure where to check the documentation for the hooks available in this class. Any help would be great. It's kinda old code and I couldn't find anything on googling. \n\nPlease do not suggest gems to achieve this.", "author_fullname": "t2_pgq24c7", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Hooks in ActionView::TestCase", "link_flair_richtext": [{"e": "text", "t": "Question"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "question", "downs": 0, "top_awarded_type": null, "hide_score": true, "name": "t3_i2wgd8", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Question", "can_mod_post": false, "score": 1, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1596487812.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I am modifying test cases in a test file that looks like this. &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;class TestClass &amp;lt; ActionView\n  def setup # called before each test\n  end\n  def teardown # called after each test\n  end\n  def test_this\n end\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I&amp;#39;m looking for a hook that will run after all the tests complete running. &lt;/p&gt;\n\n&lt;p&gt;I am not sure where to check the documentation for the hooks available in this class. Any help would be great. It&amp;#39;s kinda old code and I couldn&amp;#39;t find anything on googling. &lt;/p&gt;\n\n&lt;p&gt;Please do not suggest gems to achieve this.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "fdfc6806-aea7-11e4-bf37-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i2wgd8", "is_robot_indexable": true, "report_reasons": null, "author": "bennyman32", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/i2wgd8/hooks_in_actionviewtestcase/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/i2wgd8/hooks_in_actionviewtestcase/", "subreddit_subscribers": 45342, "created_utc": 1596459012.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I have a single inline style tag in a Rails app, and I'm trying to whitelist it with a nonce.\n\nThe error: `Content Security Policy: The page\u2019s settings observed the loading of a resource at inline (\u201cstyle-src\u201d). A CSP report is being sent.`\n\nThe style gets injected by a helper when using the [invisible\\_captcha](https://github.com/markets/invisible_captcha) gem:\n\n`&lt;%= invisible_captcha nonce: true %&gt;`\n\nComparing the view and the header shows that the nonce \\*is\\* being added to both, but it's being added to `script-src` instead of `style-src`.\n\nView: `&lt;style media=\"screen\" nonce=\"5Cq/QyoJ5Co+LdarO1uvrg==\"&gt;`\n\nHeader: `Content-Security-Policy-Report-Only script-src 'self' https: 'nonce-5Cq/QyoJ5Co+LdarO1uvrg=='; style-src 'self' https:;`\n\nThis is my **content\\_security\\_policy.rb**:\n\n    Rails.application.config.content_security_policy do |config|\n     config.script_src  :self, :https    \n    end\n    \n    Rails.application.config.content_security_policy_nonce_generator = -&gt; request { SecureRandom.base64(16) }\n    Rails.application.config.content_security_policy_nonce_directives = %w(style-src script-src)\n\nWhy is it going to the wrong directive, and how can I make it go to `style-src`? The helper adds a random class name, so hashing the injected code is out of the question.", "author_fullname": "t2_76cp1k68", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "nonce for style-src added to script-src by gem - how to circumvent?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_i2oehp", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.86, "author_flair_background_color": null, "subreddit_type": "public", "ups": 5, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 5, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1596423201.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1596448301.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have a single inline style tag in a Rails app, and I&amp;#39;m trying to whitelist it with a nonce.&lt;/p&gt;\n\n&lt;p&gt;The error: &lt;code&gt;Content Security Policy: The page\u2019s settings observed the loading of a resource at inline (\u201cstyle-src\u201d). A CSP report is being sent.&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;The style gets injected by a helper when using the &lt;a href=\"https://github.com/markets/invisible_captcha\"&gt;invisible_captcha&lt;/a&gt; gem:&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;&amp;lt;%= invisible_captcha nonce: true %&amp;gt;&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;Comparing the view and the header shows that the nonce *is* being added to both, but it&amp;#39;s being added to &lt;code&gt;script-src&lt;/code&gt; instead of &lt;code&gt;style-src&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;View: &lt;code&gt;&amp;lt;style media=&amp;quot;screen&amp;quot; nonce=&amp;quot;5Cq/QyoJ5Co+LdarO1uvrg==&amp;quot;&amp;gt;&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;Header: &lt;code&gt;Content-Security-Policy-Report-Only script-src &amp;#39;self&amp;#39; https: &amp;#39;nonce-5Cq/QyoJ5Co+LdarO1uvrg==&amp;#39;; style-src &amp;#39;self&amp;#39; https:;&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;This is my &lt;strong&gt;content_security_policy.rb&lt;/strong&gt;:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;Rails.application.config.content_security_policy do |config|\n config.script_src  :self, :https    \nend\n\nRails.application.config.content_security_policy_nonce_generator = -&amp;gt; request { SecureRandom.base64(16) }\nRails.application.config.content_security_policy_nonce_directives = %w(style-src script-src)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Why is it going to the wrong directive, and how can I make it go to &lt;code&gt;style-src&lt;/code&gt;? The helper adds a random class name, so hashing the injected code is out of the question.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i2oehp", "is_robot_indexable": true, "report_reasons": null, "author": "Kni2L", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/i2oehp/nonce_for_stylesrc_added_to_scriptsrc_by_gem_how/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/i2oehp/nonce_for_stylesrc_added_to_scriptsrc_by_gem_how/", "subreddit_subscribers": 45342, "created_utc": 1596419501.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I would love to know if anyone has done this before and any specifics if you did. I was able create some Avery labels with the help of Prawn Label gem. But I would really like to print the labels by rotating the font 90% but could never get the alignment correct. Next I think I will try a raw zpl file to print to a zebra printer.", "author_fullname": "t2_14rvg3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Creating Barcode Inventory Labels", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_i2epfu", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 12, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 12, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1596413927.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I would love to know if anyone has done this before and any specifics if you did. I was able create some Avery labels with the help of Prawn Label gem. But I would really like to print the labels by rotating the font 90% but could never get the alignment correct. Next I think I will try a raw zpl file to print to a zebra printer.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i2epfu", "is_robot_indexable": true, "report_reasons": null, "author": "R2Carnage", "discussion_type": null, "num_comments": 15, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/i2epfu/creating_barcode_inventory_labels/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/i2epfu/creating_barcode_inventory_labels/", "subreddit_subscribers": 45342, "created_utc": 1596385127.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Earlier i was trying to $bundle update, when it gave an error message saying \"An error occured while trying to install puma (version) and Bundler cant continue. Make sure gem install puma -v (version) --source https//:rubygems.org succeeds before bundling\" And when i try to do also that, it gives another error.\n\nDoes anyone know how to fix this?", "author_fullname": "t2_4enfp5n6", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Need help with bundle", "link_flair_richtext": [{"e": "text", "t": "Help"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_i2iiyd", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.8, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Help", "can_mod_post": false, "score": 3, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1596426961.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Earlier i was trying to $bundle update, when it gave an error message saying &amp;quot;An error occured while trying to install puma (version) and Bundler cant continue. Make sure gem install puma -v (version) --source https//:rubygems.org succeeds before bundling&amp;quot; And when i try to do also that, it gives another error.&lt;/p&gt;\n\n&lt;p&gt;Does anyone know how to fix this?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "eef0b990-adfb-11e4-8e15-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i2iiyd", "is_robot_indexable": true, "report_reasons": null, "author": "asimplename1", "discussion_type": null, "num_comments": 4, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/i2iiyd/need_help_with_bundle/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/i2iiyd/need_help_with_bundle/", "subreddit_subscribers": 45342, "created_utc": 1596398161.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "\n\n[View Poll](https://www.reddit.com/poll/i2qo7k)", "author_fullname": "t2_2xsy4q3k", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Are you gonna stick to Mac after Apple Silicon?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_i2qo7k", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.4, "author_flair_background_color": null, "subreddit_type": "public", "ups": 0, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 0, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1596457959.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;&lt;a href=\"https://www.reddit.com/poll/i2qo7k\"&gt;View Poll&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i2qo7k", "is_robot_indexable": true, "report_reasons": null, "author": "full_carry", "discussion_type": null, "num_comments": 9, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "poll_data": {"user_selection": null, "options": [{"text": "Yes", "id": "2227380"}, {"text": "No", "id": "2227381"}], "voting_end_timestamp": 1597033959653, "total_vote_count": 103}, "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/i2qo7k/are_you_gonna_stick_to_mac_after_apple_silicon/", "parent_whitelist_status": "all_ads", "stickied": false, "mod_reports": [], "url": "https://www.reddit.com/r/rails/comments/i2qo7k/are_you_gonna_stick_to_mac_after_apple_silicon/", "subreddit_subscribers": 45342, "created_utc": 1596429159.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hi guys! I am a front-end. New on rails.\n\nI'm noticing that the previous back end developer added this in the head\n\n    &lt;% if Rails.env.production? %&gt;\n    \t&lt;style type=\"text/css\" media=\"all\"&gt;&lt;%= inline_asset('application.css') %&gt;&lt;/style&gt;\n    &lt;% else %&gt;\n    \t&lt;%= stylesheet_link_tag 'application', media: 'all' %&gt;\n    &lt;% end %&gt;\n\nWhy if `Rails.env.production?`? What is it?", "author_fullname": "t2_ujrp7", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Rails.env.production?", "link_flair_richtext": [{"e": "text", "t": "Learning"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "learning", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_i2faqf", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.63, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Learning", "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1596416014.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi guys! I am a front-end. New on rails.&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m noticing that the previous back end developer added this in the head&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;&amp;lt;% if Rails.env.production? %&amp;gt;\n    &amp;lt;style type=&amp;quot;text/css&amp;quot; media=&amp;quot;all&amp;quot;&amp;gt;&amp;lt;%= inline_asset(&amp;#39;application.css&amp;#39;) %&amp;gt;&amp;lt;/style&amp;gt;\n&amp;lt;% else %&amp;gt;\n    &amp;lt;%= stylesheet_link_tag &amp;#39;application&amp;#39;, media: &amp;#39;all&amp;#39; %&amp;gt;\n&amp;lt;% end %&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Why if &lt;code&gt;Rails.env.production?&lt;/code&gt;? What is it?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "c0045e6c-adff-11e4-9f08-22000b3012cc", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i2faqf", "is_robot_indexable": true, "report_reasons": null, "author": "Freank", "discussion_type": null, "num_comments": 3, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/i2faqf/railsenvproduction/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/i2faqf/railsenvproduction/", "subreddit_subscribers": 45342, "created_utc": 1596387214.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_i2faqf", "before": null}}