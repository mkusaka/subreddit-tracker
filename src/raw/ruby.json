{"kind": "Listing", "data": {"modhash": "", "dist": 10, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "ruby", "selftext": "I\u2019m using OmniAuth right now and things are working fine using the available strategies like \u2018omniauth-google-oauth2\u2019. \n\nI\u2019d like to write on generic strategy, where I can pass in the \u2018client_id\u2019, \u2018client_secret\u2019, a provider url, etc. It\u2019s my understanding that a generic strategy will only work if the provider is OpenId Connect compliant for standard naming, endpoints, etc. \n\nI have bit and pieces of it figured out, but struggling to put it all together.  There\u2019s a couple gems that look like generic OpenId Connect strategies, but I\u2019ve run into issues dynamically updating them in the initializer following a pattern like this [dynamic provider ](https://github.com/omniauth/omniauth/wiki/Dynamic-Providers)\n\n\nHas anyone implemented something similar?", "author_fullname": "t2_8kgflmc", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Dynamic OmniAuth strategy utilizing OpenId Connect?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/ruby", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_gw91oa", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 13, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Question", "can_mod_post": false, "score": 13, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1591269068.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.ruby", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I\u2019m using OmniAuth right now and things are working fine using the available strategies like \u2018omniauth-google-oauth2\u2019. &lt;/p&gt;\n\n&lt;p&gt;I\u2019d like to write on generic strategy, where I can pass in the \u2018client_id\u2019, \u2018client_secret\u2019, a provider url, etc. It\u2019s my understanding that a generic strategy will only work if the provider is OpenId Connect compliant for standard naming, endpoints, etc. &lt;/p&gt;\n\n&lt;p&gt;I have bit and pieces of it figured out, but struggling to put it all together.  There\u2019s a couple gems that look like generic OpenId Connect strategies, but I\u2019ve run into issues dynamically updating them in the initializer following a pattern like this &lt;a href=\"https://github.com/omniauth/omniauth/wiki/Dynamic-Providers\"&gt;dynamic provider &lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Has anyone implemented something similar?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/2RN_qEupKzBQTUgsDz0OeOT8-WjPknS4tjO6ApM2MM8.jpg?auto=webp&amp;s=9f9a7f6c33d8d7549a50f906814b9bbd6a6b4cf4", "width": 182, "height": 182}, "resolutions": [{"url": "https://external-preview.redd.it/2RN_qEupKzBQTUgsDz0OeOT8-WjPknS4tjO6ApM2MM8.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=36f9b6008f7d04da211ec872064442cd89bbd9d7", "width": 108, "height": 108}], "variants": {}, "id": "jTzu5wJsoI2Uev35gmEUyR_z1QWuV2DGTycUojDuxFg"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "d3392e70-873c-11e9-af37-0eea3fce36a6", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh21", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gw91oa", "is_robot_indexable": true, "report_reasons": null, "author": "spartans1311", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/ruby/comments/gw91oa/dynamic_omniauth_strategy_utilizing_openid_connect/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/ruby/comments/gw91oa/dynamic_omniauth_strategy_utilizing_openid_connect/", "subreddit_subscribers": 65557, "created_utc": 1591240268.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "ruby", "selftext": "Hey there,\n\nI've read and re-read this for typos and layout errors and am getting ready to send to the printers on Monday (8th). We'll ship anywhere for the price of the \u00a329 Alt::BrightonRuby \"ticket\" as well as access to the talks (15th June) and the ability to ask questions that I'll put to the speakers on a podcast (late June/early July).\n\nTickets and further information at https://alt.brightonruby.com\n\n[The cover](https://preview.redd.it/y19ghclw7p251.png?width=1586&amp;format=png&amp;auto=webp&amp;s=c9be747a6a499d76b7ffa862c0eb87da91b27ce2)\n\n[It's a real book.](https://preview.redd.it/6ooqvdsa8p251.jpg?width=3024&amp;format=pjpg&amp;auto=webp&amp;s=41cf241a1748acca77866d60ff9bb95387babde2)", "author_fullname": "t2_5gd2d", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Shipped print copies of Why's Poignant Guide this Monday as part of Alt::BrightonRuby", "link_flair_richtext": [], "subreddit_name_prefixed": "r/ruby", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": 100, "top_awarded_type": null, "hide_score": false, "media_metadata": {"y19ghclw7p251": {"status": "valid", "e": "Image", "m": "image/png", "p": [{"y": 77, "x": 108, "u": "https://preview.redd.it/y19ghclw7p251.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=1f79d32c9523f4d52732959ef2228f74f1565afb"}, {"y": 155, "x": 216, "u": "https://preview.redd.it/y19ghclw7p251.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=4b1951860aa331afc9ec4dc5277a269eed1feb10"}, {"y": 230, "x": 320, "u": "https://preview.redd.it/y19ghclw7p251.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=5a1b52777ff53ce4715067d7122a5d3578ab8f8f"}, {"y": 460, "x": 640, "u": "https://preview.redd.it/y19ghclw7p251.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=fa3f8cad1adc9fb77d427a7766106cdc0d0320b7"}, {"y": 690, "x": 960, "u": "https://preview.redd.it/y19ghclw7p251.png?width=960&amp;crop=smart&amp;auto=webp&amp;s=16a00a4a886567bcc238a111e04294f7760fd060"}, {"y": 776, "x": 1080, "u": "https://preview.redd.it/y19ghclw7p251.png?width=1080&amp;crop=smart&amp;auto=webp&amp;s=3a1c647b0dc0c6ce18e11ba48aa1498e40d91f57"}], "s": {"y": 1140, "x": 1586, "u": "https://preview.redd.it/y19ghclw7p251.png?width=1586&amp;format=png&amp;auto=webp&amp;s=c9be747a6a499d76b7ffa862c0eb87da91b27ce2"}, "id": "y19ghclw7p251"}, "6ooqvdsa8p251": {"status": "valid", "e": "Image", "m": "image/jpg", "p": [{"y": 144, "x": 108, "u": "https://preview.redd.it/6ooqvdsa8p251.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=488336369ccbfd6717db791495cfde0a56f16b21"}, {"y": 288, "x": 216, "u": "https://preview.redd.it/6ooqvdsa8p251.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=1e39b23aa3105286979b1afde47efb7bdf2c3c65"}, {"y": 426, "x": 320, "u": "https://preview.redd.it/6ooqvdsa8p251.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=c32d3674b501f49eaf96e8e1a0e7dd9fe8250180"}, {"y": 853, "x": 640, "u": "https://preview.redd.it/6ooqvdsa8p251.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;s=b88dbba620bc00ffc59cadd014eefb3331c89de1"}, {"y": 1280, "x": 960, "u": "https://preview.redd.it/6ooqvdsa8p251.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;s=fe51289c19158cfeb9596fc91104f113d5c837ef"}, {"y": 1440, "x": 1080, "u": "https://preview.redd.it/6ooqvdsa8p251.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;s=837c0a7ed601d8ca0a60f53e0ed5cdc7510e585e"}], "s": {"y": 4032, "x": 3024, "u": "https://preview.redd.it/6ooqvdsa8p251.jpg?width=3024&amp;format=pjpg&amp;auto=webp&amp;s=41cf241a1748acca77866d60ff9bb95387babde2"}, "id": "6ooqvdsa8p251"}}, "name": "t3_gvu5r1", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.9, "author_flair_background_color": null, "subreddit_type": "public", "ups": 44, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": 140, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 44, "approved_by": null, "author_premium": false, "thumbnail": "https://b.thumbs.redditmedia.com/-njwCcHxq2CLE0fxEyDAJLevyRvRRxGXJwZk_cL3B1U.jpg", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1591220549.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.ruby", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey there,&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;ve read and re-read this for typos and layout errors and am getting ready to send to the printers on Monday (8th). We&amp;#39;ll ship anywhere for the price of the \u00a329 Alt::BrightonRuby &amp;quot;ticket&amp;quot; as well as access to the talks (15th June) and the ability to ask questions that I&amp;#39;ll put to the speakers on a podcast (late June/early July).&lt;/p&gt;\n\n&lt;p&gt;Tickets and further information at &lt;a href=\"https://alt.brightonruby.com\"&gt;https://alt.brightonruby.com&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://preview.redd.it/y19ghclw7p251.png?width=1586&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=c9be747a6a499d76b7ffa862c0eb87da91b27ce2\"&gt;The cover&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://preview.redd.it/6ooqvdsa8p251.jpg?width=3024&amp;amp;format=pjpg&amp;amp;auto=webp&amp;amp;s=41cf241a1748acca77866d60ff9bb95387babde2\"&gt;It&amp;#39;s a real book.&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/LCRUsu07Z8u3gsijb5EjCVfJ1tCaE0X9lUiez0AyOrc.jpg?auto=webp&amp;s=b86205f292b3c85b9b831a2423c90f27f9cbdd8b", "width": 1200, "height": 675}, "resolutions": [{"url": "https://external-preview.redd.it/LCRUsu07Z8u3gsijb5EjCVfJ1tCaE0X9lUiez0AyOrc.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=6586ed20b7ac9b6b9809e19f723e98e66b4325f2", "width": 108, "height": 60}, {"url": "https://external-preview.redd.it/LCRUsu07Z8u3gsijb5EjCVfJ1tCaE0X9lUiez0AyOrc.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=57550a9dfeee65a23f9c448fc4808766936e874e", "width": 216, "height": 121}, {"url": "https://external-preview.redd.it/LCRUsu07Z8u3gsijb5EjCVfJ1tCaE0X9lUiez0AyOrc.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=7239437eed538f970f9e12983e6b44f07d8990f6", "width": 320, "height": 180}, {"url": "https://external-preview.redd.it/LCRUsu07Z8u3gsijb5EjCVfJ1tCaE0X9lUiez0AyOrc.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;s=01c382fdb4a47ea230785ce1e90e1568d5f5c816", "width": 640, "height": 360}, {"url": "https://external-preview.redd.it/LCRUsu07Z8u3gsijb5EjCVfJ1tCaE0X9lUiez0AyOrc.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;s=7f026eb0bb043ec2ea45ef6894a830cd76eace5a", "width": 960, "height": 540}, {"url": "https://external-preview.redd.it/LCRUsu07Z8u3gsijb5EjCVfJ1tCaE0X9lUiez0AyOrc.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;s=ff2dbf2671d6aaa65343e6c878de30cea28b0ebd", "width": 1080, "height": 607}], "variants": {}, "id": "0LyU2GdOvMSthY5-a9JuTi4QSbSDNBBZI5Tq2u1V3EE"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh21", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gvu5r1", "is_robot_indexable": true, "report_reasons": null, "author": "andycroll", "discussion_type": null, "num_comments": 10, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/ruby/comments/gvu5r1/shipped_print_copies_of_whys_poignant_guide_this/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/ruby/comments/gvu5r1/shipped_print_copies_of_whys_poignant_guide_this/", "subreddit_subscribers": 65557, "created_utc": 1591191749.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "ruby", "selftext": "Noob here. I\u2019ve always found reading another spoken language once you have a handle on the pronunciation helps to cement some of the nuances of the languages just by repetitive review of structures of the language, even if I don\u2019t understand what I\u2019m reading right away the brain seems to work out the semantics. \n\nSeems like that works with programming as well so I was just curious if anyone has any suggestions for a well-documented/organized small to medium size open-sourced Ruby projects on Github that a beginner would benefit from looking through to see the file structure, documentation, etc.? Thanks for any suggestions in advance.\n\nEdit:  Thanks for all the ideas. Much appreciated.", "author_fullname": "t2_2jo1hipa", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Learning from others...", "link_flair_richtext": [], "subreddit_name_prefixed": "r/ruby", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_gw3bgv", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.86, "author_flair_background_color": null, "subreddit_type": "public", "ups": 9, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Question", "can_mod_post": false, "score": 9, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": 1591267044.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1591249140.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.ruby", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Noob here. I\u2019ve always found reading another spoken language once you have a handle on the pronunciation helps to cement some of the nuances of the languages just by repetitive review of structures of the language, even if I don\u2019t understand what I\u2019m reading right away the brain seems to work out the semantics. &lt;/p&gt;\n\n&lt;p&gt;Seems like that works with programming as well so I was just curious if anyone has any suggestions for a well-documented/organized small to medium size open-sourced Ruby projects on Github that a beginner would benefit from looking through to see the file structure, documentation, etc.? Thanks for any suggestions in advance.&lt;/p&gt;\n\n&lt;p&gt;Edit:  Thanks for all the ideas. Much appreciated.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "d3392e70-873c-11e9-af37-0eea3fce36a6", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh21", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gw3bgv", "is_robot_indexable": true, "report_reasons": null, "author": "dqjqb", "discussion_type": null, "num_comments": 5, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/ruby/comments/gw3bgv/learning_from_others/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/ruby/comments/gw3bgv/learning_from_others/", "subreddit_subscribers": 65557, "created_utc": 1591220340.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "ruby", "selftext": "I 've been using Heroku to deploy my Rails apps but I always wanted to learn how it all works under the hood. Over the last couple of months, I decided to learn more about how to set up a server and deploy a Rails app to production. I've made this open-source project in order to consolidate my learning.\n\nAnsible Rails is an Ansible playbook for easily deploying Ruby on Rails applications.\n\n[https://github.com/EmailThis/ansible-rails](https://github.com/EmailThis/ansible-rails)\n\nIt includes roles for performing the following tasks -\n\n* Installation of common packages\n* Ruby (via rbenv)\n* Rails 6, Puma, Sidekiq\n* Redis\n* Nodejs/Webpack/yarn\n* Postgresql and another role that saves backups to S3\n* Install nginx, Certbot (for Letsencrypt SSL Certs)\n* Deploying using Ansistrano\n\nLet me know what you guys think about it \ud83d\ude4c\ud83c\udffb", "author_fullname": "t2_j301i", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Ansible Rails: Deploy Ruby on Rails apps easily", "link_flair_richtext": [], "subreddit_name_prefixed": "r/ruby", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_gvr7m9", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.9, "author_flair_background_color": null, "subreddit_type": "public", "ups": 26, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Show /r/ruby", "can_mod_post": false, "score": 26, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1591207615.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.ruby", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I &amp;#39;ve been using Heroku to deploy my Rails apps but I always wanted to learn how it all works under the hood. Over the last couple of months, I decided to learn more about how to set up a server and deploy a Rails app to production. I&amp;#39;ve made this open-source project in order to consolidate my learning.&lt;/p&gt;\n\n&lt;p&gt;Ansible Rails is an Ansible playbook for easily deploying Ruby on Rails applications.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://github.com/EmailThis/ansible-rails\"&gt;https://github.com/EmailThis/ansible-rails&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;It includes roles for performing the following tasks -&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Installation of common packages&lt;/li&gt;\n&lt;li&gt;Ruby (via rbenv)&lt;/li&gt;\n&lt;li&gt;Rails 6, Puma, Sidekiq&lt;/li&gt;\n&lt;li&gt;Redis&lt;/li&gt;\n&lt;li&gt;Nodejs/Webpack/yarn&lt;/li&gt;\n&lt;li&gt;Postgresql and another role that saves backups to S3&lt;/li&gt;\n&lt;li&gt;Install nginx, Certbot (for Letsencrypt SSL Certs)&lt;/li&gt;\n&lt;li&gt;Deploying using Ansistrano&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Let me know what you guys think about it \ud83d\ude4c\ud83c\udffb&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/itz_s7pfxdIkjg7XMDtqFCn0--vK3GRAe3K91GkyWPc.jpg?auto=webp&amp;s=6bdc5f60f64a748914d8568e72d40a9c4f669412", "width": 800, "height": 450}, "resolutions": [{"url": "https://external-preview.redd.it/itz_s7pfxdIkjg7XMDtqFCn0--vK3GRAe3K91GkyWPc.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=dbf4578558d3f88a4ef3549c2d886b712e6586de", "width": 108, "height": 60}, {"url": "https://external-preview.redd.it/itz_s7pfxdIkjg7XMDtqFCn0--vK3GRAe3K91GkyWPc.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=0f6c661a9a38949ccc0297497daa55dbd625913a", "width": 216, "height": 121}, {"url": "https://external-preview.redd.it/itz_s7pfxdIkjg7XMDtqFCn0--vK3GRAe3K91GkyWPc.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=8bddd47d74cde390d6e02b95ba5b72bf74acdce7", "width": 320, "height": 180}, {"url": "https://external-preview.redd.it/itz_s7pfxdIkjg7XMDtqFCn0--vK3GRAe3K91GkyWPc.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;s=09a797bf3ccb374ae04ac7d341de9c40bacb82b1", "width": 640, "height": 360}], "variants": {}, "id": "FHgkmYBeJ-pJIVVVn_RXf15-8eYQ_CEZ-MAOPC067as"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "d57de81a-873c-11e9-9a25-0e18d14df676", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh21", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gvr7m9", "is_robot_indexable": true, "report_reasons": null, "author": "_learner_", "discussion_type": null, "num_comments": 6, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/ruby/comments/gvr7m9/ansible_rails_deploy_ruby_on_rails_apps_easily/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/ruby/comments/gvr7m9/ansible_rails_deploy_ruby_on_rails_apps_easily/", "subreddit_subscribers": 65557, "created_utc": 1591178815.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "ruby", "selftext": "", "author_fullname": "t2_4kkktqr9", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Is there a GUI Toolkit for Ruby that is currently an active and simple project like \"Shoes\"? I find Shoes very intuitive, too bad it is no longer developed. Do you know anything like this? I have searched around but I find all the other more cumbersome toolkits ....", "link_flair_richtext": [], "subreddit_name_prefixed": "r/ruby", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_gvq1ww", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 23, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 23, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1591201847.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.ruby", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh21", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gvq1ww", "is_robot_indexable": true, "report_reasons": null, "author": "hajado80", "discussion_type": null, "num_comments": 8, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/ruby/comments/gvq1ww/is_there_a_gui_toolkit_for_ruby_that_is_currently/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/ruby/comments/gvq1ww/is_there_a_gui_toolkit_for_ruby_that_is_currently/", "subreddit_subscribers": 65557, "created_utc": 1591173047.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "ruby", "selftext": "", "author_fullname": "t2_ww9gn", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "New Ruby / Ruby on Rails daily digest in Telegram", "link_flair_richtext": [], "subreddit_name_prefixed": "r/ruby", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": 140, "top_awarded_type": null, "hide_score": false, "name": "t3_gvuh4q", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.83, "author_flair_background_color": null, "subreddit_type": "public", "ups": 4, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": 140, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 4, "approved_by": null, "author_premium": false, "thumbnail": "https://a.thumbs.redditmedia.com/_BUJF5i0OiifAm1ekE0IfzrlLkY2PHskBQI7px9qki8.jpg", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "link", "content_categories": null, "is_self": false, "mod_note": null, "created": 1591221699.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "t.me", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/kLNp227_JfXhSwRFocdDocc6vtCGOaUmTmo7EOJyNsI.jpg?auto=webp&amp;s=16eef23407f4d8f9a9a88eaac26945bb77b9f1e3", "width": 320, "height": 320}, "resolutions": [{"url": "https://external-preview.redd.it/kLNp227_JfXhSwRFocdDocc6vtCGOaUmTmo7EOJyNsI.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=07e7ac8fae4a6ce7598d9a4e6cc4f623c863baea", "width": 108, "height": 108}, {"url": "https://external-preview.redd.it/kLNp227_JfXhSwRFocdDocc6vtCGOaUmTmo7EOJyNsI.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=b579f3786bcb393d992014813ecc035696156fc5", "width": 216, "height": 216}, {"url": "https://external-preview.redd.it/kLNp227_JfXhSwRFocdDocc6vtCGOaUmTmo7EOJyNsI.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=85139b31f250f53b7bcd2a09cae6c63ee65090db", "width": 320, "height": 320}], "variants": {}, "id": "KsBx6TjCpVHXkaMsfseOnBsX79keTD1Z6IGgqZzGwqM"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh21", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gvuh4q", "is_robot_indexable": true, "report_reasons": null, "author": "nbulaj", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/ruby/comments/gvuh4q/new_ruby_ruby_on_rails_daily_digest_in_telegram/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://t.me/rubydoobydoo", "subreddit_subscribers": 65557, "created_utc": 1591192899.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "ruby", "selftext": "Tools and services that help to automatize development flow. Easy to install with increasing team effectiveness.\n\n[https://jtway.co/services-and-tools-we-use-for-development-2749af5ad08a](https://jtway.co/services-and-tools-we-use-for-development-2749af5ad08a)", "author_fullname": "t2_8ssqxy", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Services and tools we use for development", "link_flair_richtext": [], "subreddit_name_prefixed": "r/ruby", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_gvpwp9", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.71, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Blog post", "can_mod_post": false, "score": 3, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1591201141.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.ruby", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Tools and services that help to automatize development flow. Easy to install with increasing team effectiveness.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://jtway.co/services-and-tools-we-use-for-development-2749af5ad08a\"&gt;https://jtway.co/services-and-tools-we-use-for-development-2749af5ad08a&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "c8896134-873c-11e9-8edb-0e1f22813c3e", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh21", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gvpwp9", "is_robot_indexable": true, "report_reasons": null, "author": "jetthoughts", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/ruby/comments/gvpwp9/services_and_tools_we_use_for_development/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/ruby/comments/gvpwp9/services_and_tools_we_use_for_development/", "subreddit_subscribers": 65557, "created_utc": 1591172341.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "ruby", "selftext": "", "author_fullname": "t2_fnesn", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Understanding Programs Using Graphs", "link_flair_richtext": [], "subreddit_name_prefixed": "r/ruby", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": 140, "top_awarded_type": null, "hide_score": false, "name": "t3_gvbn0p", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.88, "author_flair_background_color": null, "subreddit_type": "public", "ups": 34, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": 140, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 34, "approved_by": null, "author_premium": false, "thumbnail": "https://b.thumbs.redditmedia.com/W1GjnJIwCOrYqeOlMlxZ9oZWnI2KLA0P24ozYuNUBKY.jpg", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "link", "content_categories": null, "is_self": false, "mod_note": null, "created": 1591147710.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "engineering.shopify.com", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/uO0h8M52LU66kYbgGLiCiVtEOPbu8bAqEmhK-q9lZpQ.jpg?auto=webp&amp;s=d158438bcb44e72c0233389188e10b2635d05619", "width": 556, "height": 700}, "resolutions": [{"url": "https://external-preview.redd.it/uO0h8M52LU66kYbgGLiCiVtEOPbu8bAqEmhK-q9lZpQ.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=d967325445c8e5bfb73130654e9ebc1c7167f733", "width": 108, "height": 135}, {"url": "https://external-preview.redd.it/uO0h8M52LU66kYbgGLiCiVtEOPbu8bAqEmhK-q9lZpQ.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=1523fc41d006b663ecc4232b4d673b1ee7f1dbb5", "width": 216, "height": 271}, {"url": "https://external-preview.redd.it/uO0h8M52LU66kYbgGLiCiVtEOPbu8bAqEmhK-q9lZpQ.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=739cb23fa1ea68efb38a43b5855dd6642579a902", "width": 320, "height": 402}], "variants": {}, "id": "MKRjRqU-a2dt-vF6WkFsEICDNEX-zBoyR7yDNMlwViQ"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh21", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gvbn0p", "is_robot_indexable": true, "report_reasons": null, "author": "chrisgseaton", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/ruby/comments/gvbn0p/understanding_programs_using_graphs/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://engineering.shopify.com/blogs/engineering/understanding-programs-using-graphs", "subreddit_subscribers": 65557, "created_utc": 1591118910.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "ruby", "selftext": "", "author_fullname": "t2_w9dt3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Designing helpful service objects. Part 1. Choosing the right design", "link_flair_richtext": [], "subreddit_name_prefixed": "r/ruby", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": 84, "top_awarded_type": null, "hide_score": false, "name": "t3_gvbrg2", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.84, "author_flair_background_color": null, "subreddit_type": "public", "ups": 31, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": 140, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 31, "approved_by": null, "author_premium": false, "thumbnail": "https://b.thumbs.redditmedia.com/sKVDv3rhl9Sn2QDWyjGjXrjfxr-twLdlF2gYbgWvO3U.jpg", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "link", "content_categories": null, "is_self": false, "mod_note": null, "created": 1591148081.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "morozov.is", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/LRORlynt7Yojmdy9Rl3FQN0rZ3fH174TGP5aRbTfrbk.jpg?auto=webp&amp;s=604711d7868241739672e6cc2c3a313b28f961a0", "width": 1000, "height": 600}, "resolutions": [{"url": "https://external-preview.redd.it/LRORlynt7Yojmdy9Rl3FQN0rZ3fH174TGP5aRbTfrbk.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=29bf8acdccf2b6cff62b9fa2124c6fc3af6ae651", "width": 108, "height": 64}, {"url": "https://external-preview.redd.it/LRORlynt7Yojmdy9Rl3FQN0rZ3fH174TGP5aRbTfrbk.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=ee85a837e7cc44ea5b183f1a3e0c93349b854ca0", "width": 216, "height": 129}, {"url": "https://external-preview.redd.it/LRORlynt7Yojmdy9Rl3FQN0rZ3fH174TGP5aRbTfrbk.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=c2ff030ca10c5d9615ca5d13ef2a2a32f95c6cb8", "width": 320, "height": 192}, {"url": "https://external-preview.redd.it/LRORlynt7Yojmdy9Rl3FQN0rZ3fH174TGP5aRbTfrbk.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;s=cb56cf9e9b0bf79877b8baf9f7b6a6ebf4a27396", "width": 640, "height": 384}, {"url": "https://external-preview.redd.it/LRORlynt7Yojmdy9Rl3FQN0rZ3fH174TGP5aRbTfrbk.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;s=676db3236792aec33840edcb65dc5f5386ee5429", "width": 960, "height": 576}], "variants": {}, "id": "UY0JwTEmW3J8PbBcJK4Wr2BPHwy8j87R9HxK2ybB4Z8"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh21", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gvbrg2", "is_robot_indexable": true, "report_reasons": null, "author": "Morozzzko", "discussion_type": null, "num_comments": 7, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/ruby/comments/gvbrg2/designing_helpful_service_objects_part_1_choosing/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.morozov.is/2020/06/01/helpful-service-objects-part-1-chosing-right-design.html", "subreddit_subscribers": 65557, "created_utc": 1591119281.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "ruby", "selftext": "## Prerequisite\n\n1. If using rails then use the gem `google-api-client`\n2. I am considering here that you already have the `access_token` of the user. I will write a different blog to explain how to get that.\n\n## 1) Do full initial synch of events\n\nIt has the following steps -\n\n* Fetch a new `access_token` if the token has expired.\n* Create the service authorization object which will be used for fetching the events.\n\nRef code for `service authorization`\n\n    def create_service_auth\n      #create service auth\n      @service = Google::Apis::CalendarV3::CalendarService.new\n      @service.authorization = token.google_secret.to_authorization\n      return unless token.expired?\n    \n      new_access_token = @service.authorization.refresh! #refresh access_token\n    end\n\n* Fetching all calendar events(past, present and future).\n   * The full sync is the original request for all the resources of the collection you want to synchronize.\n   * In the response to the list operation, you will find a field called nextSyncToken representing a sync token. You'll need to store the value of nextSyncToken. If the result set is too large and the response gets paginated, then the nextSyncToken field is present only on the very last page.\n   * Depending on what your use case is, it will be better to perform this job as a background task.\n   * [Events: list API](https://developers.google.com/calendar/v3/reference/events/list) is used for this. The gem provides an easier method called `list_events`\n\nRef code for `syncing events`\n\n      def get_events\n        @events_arr = []\n        @events_list = @service.list_events('primary', single_events: true, max_results: 500)\n        @sync_token = @events_list.next_sync_token\n        @page_token = @events_list.next_page_token\n        @events_arr &lt;&lt; @events_list.items\n        while @sync_token.blank?\n          @events_list = @service.list_events('primary', single_events: true, max_results: 500, page_token: @page_token)\n          @sync_token = @events_list.next_sync_token\n          @page_token = @events_list.next_page_token\n          @events_arr &lt;&lt; @events_list.items\n        end\n      end\n\n## 2) Create a webhook to receive push notifications\n\nAfter a full sync of events, the next step is to setup a Webhook so that google can inform us of the changes that we subscribe for. For every user that links their calendar to the app, we will create a subscription so that we can be informed whenever there is a change in their calendar.\n\nIt has the following steps -\n\n* Fetch a new `access_token` if the token has expired.\n* Create the service authorisation object which will be used for fetching the events, exactly same as shown above.\n* Set up a Channel - It creates a channel with google and specifies the callback URL or the web-hook URL.\n* Watch events - After the web-hook is set up, we need to specify what events we want to watch and also need to specify from which calendar.\n\n&amp;#8203;\n\n    def setup_channel\n      @channel = Google::Apis::CalendarV3::Channel.new(address: callback_url, id: channel_id, type: \"web_hook\")\n    end\n\n`callback_url` \\- It can't be localhost, it has to be a valid `https` url. For testing purposes you can use [ngrok](https://ngrok.com/). `channel_id` \\- This is a UUID - `SecureRandom.uuid`\n\n      def watch_events\n        time_min = DateTime.now.rfc3339\n        @webhook = @service.watch_event('primary', @channel, single_events: true, time_min: time_min)\n      end\n\n`primary` \\- refers to the `primary` calendar of the user. `single_events` \\- Setting it to true also gives all events belonging to 1 single recurring event.\n\nNow, whenever there will be any change in the primary calendar of the user google will hit the registered web-hook for the user.\n\nIn the request Google will pass `X-Goog-Resource-ID` and `X-Goog-Channel-ID`. We would have to hit the `list_events` API again to fetch the changed events data for that user.\n\nOnly difference will be that instead of passing the page token like we did earlier, we would pass the `sync_token`.\n\n      def get_events\n        @events_list = @service.list_events('primary', single_events: true, max_results: 2500, sync_token: sync_token)\n      end\n\n## 3) Saving X-Goog-Resource-ID &amp; X-Goog-Channel-ID\n\nWhen we created the web-hook google will return us with a `resource_id`, `resource_uri`, `id`(that we created). We need to save all this data so that we can get to know for which user the events have changed. Also the channel expires in around 1 week so we need to keep creating new web-hooks before it expires.\n\n## 3) Deleting the events with status cancelled\n\nThis is the flow that took me some time to understand. So what happens when a user changes the time of their event or has the user changed a single event or all the events in a recurring event. What google does is that\n\n* if the user changes a single event, then google keeps the `calendar_id` as same.\n* if the user changes a recurring event and selects `all` or `following events` as option then the `calendar_id` changes for all the events. Hence, in this case we need to delete the old events and add new events in our system. So, this is a check that you will have to add when saving the calendar events in your system.\n\nThat's it - It's quite messy if you are trying to figure it out from scratch and I hope this article will help you all.", "author_fullname": "t2_66mla47a", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Integrating with Google Calendar - The Right Way", "link_flair_richtext": [], "subreddit_name_prefixed": "r/ruby", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_gv5hdk", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.93, "author_flair_background_color": null, "subreddit_type": "public", "ups": 31, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Blog post", "can_mod_post": false, "score": 31, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": 1591096907.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1591125520.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.ruby", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;h2&gt;Prerequisite&lt;/h2&gt;\n\n&lt;ol&gt;\n&lt;li&gt;If using rails then use the gem &lt;code&gt;google-api-client&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;I am considering here that you already have the &lt;code&gt;access_token&lt;/code&gt; of the user. I will write a different blog to explain how to get that.&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;h2&gt;1) Do full initial synch of events&lt;/h2&gt;\n\n&lt;p&gt;It has the following steps -&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Fetch a new &lt;code&gt;access_token&lt;/code&gt; if the token has expired.&lt;/li&gt;\n&lt;li&gt;Create the service authorization object which will be used for fetching the events.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Ref code for &lt;code&gt;service authorization&lt;/code&gt;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;def create_service_auth\n  #create service auth\n  @service = Google::Apis::CalendarV3::CalendarService.new\n  @service.authorization = token.google_secret.to_authorization\n  return unless token.expired?\n\n  new_access_token = @service.authorization.refresh! #refresh access_token\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Fetching all calendar events(past, present and future).\n\n&lt;ul&gt;\n&lt;li&gt;The full sync is the original request for all the resources of the collection you want to synchronize.&lt;/li&gt;\n&lt;li&gt;In the response to the list operation, you will find a field called nextSyncToken representing a sync token. You&amp;#39;ll need to store the value of nextSyncToken. If the result set is too large and the response gets paginated, then the nextSyncToken field is present only on the very last page.&lt;/li&gt;\n&lt;li&gt;Depending on what your use case is, it will be better to perform this job as a background task.&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://developers.google.com/calendar/v3/reference/events/list\"&gt;Events: list API&lt;/a&gt; is used for this. The gem provides an easier method called &lt;code&gt;list_events&lt;/code&gt;&lt;/li&gt;\n&lt;/ul&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Ref code for &lt;code&gt;syncing events&lt;/code&gt;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;  def get_events\n    @events_arr = []\n    @events_list = @service.list_events(&amp;#39;primary&amp;#39;, single_events: true, max_results: 500)\n    @sync_token = @events_list.next_sync_token\n    @page_token = @events_list.next_page_token\n    @events_arr &amp;lt;&amp;lt; @events_list.items\n    while @sync_token.blank?\n      @events_list = @service.list_events(&amp;#39;primary&amp;#39;, single_events: true, max_results: 500, page_token: @page_token)\n      @sync_token = @events_list.next_sync_token\n      @page_token = @events_list.next_page_token\n      @events_arr &amp;lt;&amp;lt; @events_list.items\n    end\n  end\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h2&gt;2) Create a webhook to receive push notifications&lt;/h2&gt;\n\n&lt;p&gt;After a full sync of events, the next step is to setup a Webhook so that google can inform us of the changes that we subscribe for. For every user that links their calendar to the app, we will create a subscription so that we can be informed whenever there is a change in their calendar.&lt;/p&gt;\n\n&lt;p&gt;It has the following steps -&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Fetch a new &lt;code&gt;access_token&lt;/code&gt; if the token has expired.&lt;/li&gt;\n&lt;li&gt;Create the service authorisation object which will be used for fetching the events, exactly same as shown above.&lt;/li&gt;\n&lt;li&gt;Set up a Channel - It creates a channel with google and specifies the callback URL or the web-hook URL.&lt;/li&gt;\n&lt;li&gt;Watch events - After the web-hook is set up, we need to specify what events we want to watch and also need to specify from which calendar.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&amp;#8203;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;def setup_channel\n  @channel = Google::Apis::CalendarV3::Channel.new(address: callback_url, id: channel_id, type: &amp;quot;web_hook&amp;quot;)\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;code&gt;callback_url&lt;/code&gt; - It can&amp;#39;t be localhost, it has to be a valid &lt;code&gt;https&lt;/code&gt; url. For testing purposes you can use &lt;a href=\"https://ngrok.com/\"&gt;ngrok&lt;/a&gt;. &lt;code&gt;channel_id&lt;/code&gt; - This is a UUID - &lt;code&gt;SecureRandom.uuid&lt;/code&gt;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;  def watch_events\n    time_min = DateTime.now.rfc3339\n    @webhook = @service.watch_event(&amp;#39;primary&amp;#39;, @channel, single_events: true, time_min: time_min)\n  end\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;code&gt;primary&lt;/code&gt; - refers to the &lt;code&gt;primary&lt;/code&gt; calendar of the user. &lt;code&gt;single_events&lt;/code&gt; - Setting it to true also gives all events belonging to 1 single recurring event.&lt;/p&gt;\n\n&lt;p&gt;Now, whenever there will be any change in the primary calendar of the user google will hit the registered web-hook for the user.&lt;/p&gt;\n\n&lt;p&gt;In the request Google will pass &lt;code&gt;X-Goog-Resource-ID&lt;/code&gt; and &lt;code&gt;X-Goog-Channel-ID&lt;/code&gt;. We would have to hit the &lt;code&gt;list_events&lt;/code&gt; API again to fetch the changed events data for that user.&lt;/p&gt;\n\n&lt;p&gt;Only difference will be that instead of passing the page token like we did earlier, we would pass the &lt;code&gt;sync_token&lt;/code&gt;.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;  def get_events\n    @events_list = @service.list_events(&amp;#39;primary&amp;#39;, single_events: true, max_results: 2500, sync_token: sync_token)\n  end\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h2&gt;3) Saving X-Goog-Resource-ID &amp;amp; X-Goog-Channel-ID&lt;/h2&gt;\n\n&lt;p&gt;When we created the web-hook google will return us with a &lt;code&gt;resource_id&lt;/code&gt;, &lt;code&gt;resource_uri&lt;/code&gt;, &lt;code&gt;id&lt;/code&gt;(that we created). We need to save all this data so that we can get to know for which user the events have changed. Also the channel expires in around 1 week so we need to keep creating new web-hooks before it expires.&lt;/p&gt;\n\n&lt;h2&gt;3) Deleting the events with status cancelled&lt;/h2&gt;\n\n&lt;p&gt;This is the flow that took me some time to understand. So what happens when a user changes the time of their event or has the user changed a single event or all the events in a recurring event. What google does is that&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;if the user changes a single event, then google keeps the &lt;code&gt;calendar_id&lt;/code&gt; as same.&lt;/li&gt;\n&lt;li&gt;if the user changes a recurring event and selects &lt;code&gt;all&lt;/code&gt; or &lt;code&gt;following events&lt;/code&gt; as option then the &lt;code&gt;calendar_id&lt;/code&gt; changes for all the events. Hence, in this case we need to delete the old events and add new events in our system. So, this is a check that you will have to add when saving the calendar events in your system.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;That&amp;#39;s it - It&amp;#39;s quite messy if you are trying to figure it out from scratch and I hope this article will help you all.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/ygz_fclp_0WPUQBlhqXrdPh1Nd-kse3ARg-281Tuo58.jpg?auto=webp&amp;s=327e70ab8f939202417355e89115bcb6aacfd704", "width": 1200, "height": 630}, "resolutions": [{"url": "https://external-preview.redd.it/ygz_fclp_0WPUQBlhqXrdPh1Nd-kse3ARg-281Tuo58.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=4d800531def0068d8cc3e8bacd30ea6b6eb05a80", "width": 108, "height": 56}, {"url": "https://external-preview.redd.it/ygz_fclp_0WPUQBlhqXrdPh1Nd-kse3ARg-281Tuo58.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=178b71c441cd59609c3d604c27c6a87e1fb2a98d", "width": 216, "height": 113}, {"url": "https://external-preview.redd.it/ygz_fclp_0WPUQBlhqXrdPh1Nd-kse3ARg-281Tuo58.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=c58ebc0f776b8bffe3964f807f2e4c61b6250298", "width": 320, "height": 168}, {"url": "https://external-preview.redd.it/ygz_fclp_0WPUQBlhqXrdPh1Nd-kse3ARg-281Tuo58.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;s=fb354a0402d2b35c096d7d28450f47547d16c003", "width": 640, "height": 336}, {"url": "https://external-preview.redd.it/ygz_fclp_0WPUQBlhqXrdPh1Nd-kse3ARg-281Tuo58.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;s=0837541ec7890e363ada335e4587579ae6871534", "width": 960, "height": 504}, {"url": "https://external-preview.redd.it/ygz_fclp_0WPUQBlhqXrdPh1Nd-kse3ARg-281Tuo58.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;s=6a6e61f94d5a8d5f05625859410983455695ea7c", "width": 1080, "height": 567}], "variants": {}, "id": "BolT03JhjNp7AmOz5GnB329kjhm5G63ZCQszHrsJ4D0"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "c8896134-873c-11e9-8edb-0e1f22813c3e", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh21", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gv5hdk", "is_robot_indexable": true, "report_reasons": null, "author": "ydshmmt", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/ruby/comments/gv5hdk/integrating_with_google_calendar_the_right_way/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/ruby/comments/gv5hdk/integrating_with_google_calendar_the_right_way/", "subreddit_subscribers": 65557, "created_utc": 1591096720.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_gv5hdk", "before": null}}