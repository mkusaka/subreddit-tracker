{"kind": "Listing", "data": {"modhash": "", "dist": 12, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "Mystified about strings? Borrow checker have you in a headlock? Seek help here! There are no stupid questions, only docs that haven't been written yet.\n\nIf you have a [StackOverflow](http://stackoverflow.com/) account, consider asking it there instead! StackOverflow shows up much higher in search results, so having your question there also helps future Rust users (be sure to give it [the \"Rust\" tag](http://stackoverflow.com/questions/tagged/rust) for maximum visibility). Note that this site is very interested in question quality. I've been asked to read a RFC I authored once. If you want your code reviewed or review other's code, there's a [codereview stackexchange](https://codereview.stackexchange.com/questions/tagged/rust), too. If you need to test your code, maybe [the Rust playground](https://play.rust-lang.org) is for you.\n\nHere are some other venues where help may be found:\n\n[/r/learnrust](https://www.reddit.com/r/learnrust) is a subreddit to share your questions and epiphanies learning Rust programming.\n\nThe official Rust user forums: [https://users.rust-lang.org/](https://users.rust-lang.org/).\n\nThe official Rust Programming Language Discord: [https://discord.gg/rust-lang](https://discord.gg/rust-lang)\n\nThe unofficial Rust community Discord: [https://bit.ly/rust-community](https://bit.ly/rust-community)\n\nAlso check out [last week's thread](https://reddit.com/r/rust/comments/f8ney8/hey_rustaceans_got_an_easy_question_ask_here/) with many good questions and answers. And if you believe your question to be either very complex or worthy of larger dissemination, feel free to create a text post.\n\nAlso if you want to be mentored by experienced Rustaceans, tell us the area of expertise that you seek.", "author_fullname": "t2_1kxp4", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Hey Rustaceans! Got an easy question? Ask here (10/2020)!", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_fc7h20", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": "", "subreddit_type": "public", "ups": 9, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 9, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1583216488.0, "author_flair_css_class": "contrib", "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583156609.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Mystified about strings? Borrow checker have you in a headlock? Seek help here! There are no stupid questions, only docs that haven&amp;#39;t been written yet.&lt;/p&gt;\n\n&lt;p&gt;If you have a &lt;a href=\"http://stackoverflow.com/\"&gt;StackOverflow&lt;/a&gt; account, consider asking it there instead! StackOverflow shows up much higher in search results, so having your question there also helps future Rust users (be sure to give it &lt;a href=\"http://stackoverflow.com/questions/tagged/rust\"&gt;the &amp;quot;Rust&amp;quot; tag&lt;/a&gt; for maximum visibility). Note that this site is very interested in question quality. I&amp;#39;ve been asked to read a RFC I authored once. If you want your code reviewed or review other&amp;#39;s code, there&amp;#39;s a &lt;a href=\"https://codereview.stackexchange.com/questions/tagged/rust\"&gt;codereview stackexchange&lt;/a&gt;, too. If you need to test your code, maybe &lt;a href=\"https://play.rust-lang.org\"&gt;the Rust playground&lt;/a&gt; is for you.&lt;/p&gt;\n\n&lt;p&gt;Here are some other venues where help may be found:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://www.reddit.com/r/learnrust\"&gt;/r/learnrust&lt;/a&gt; is a subreddit to share your questions and epiphanies learning Rust programming.&lt;/p&gt;\n\n&lt;p&gt;The official Rust user forums: &lt;a href=\"https://users.rust-lang.org/\"&gt;https://users.rust-lang.org/&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;The official Rust Programming Language Discord: &lt;a href=\"https://discord.gg/rust-lang\"&gt;https://discord.gg/rust-lang&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;The unofficial Rust community Discord: &lt;a href=\"https://bit.ly/rust-community\"&gt;https://bit.ly/rust-community&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Also check out &lt;a href=\"https://reddit.com/r/rust/comments/f8ney8/hey_rustaceans_got_an_easy_question_ask_here/\"&gt;last week&amp;#39;s thread&lt;/a&gt; with many good questions and answers. And if you believe your question to be either very complex or worthy of larger dissemination, feel free to create a text post.&lt;/p&gt;\n\n&lt;p&gt;Also if you want to be mentored by experienced Rustaceans, tell us the area of expertise that you seek.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": "new", "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": "clippy \u00b7 twir \u00b7 rust \u00b7 mutagen \u00b7 flamer \u00b7 overflower \u00b7 bytecount", "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "fc7h20", "is_robot_indexable": true, "report_reasons": null, "author": "llogiq", "discussion_type": null, "num_comments": 21, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": "dark", "permalink": "/r/rust/comments/fc7h20/hey_rustaceans_got_an_easy_question_ask_here/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rust/comments/fc7h20/hey_rustaceans_got_an_easy_question_ask_here/", "subreddit_subscribers": 92474, "created_utc": 1583127809.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "New week, new Rust! What are you folks up to? Answer here or over at [rust-users](https://users.rust-lang.org/t/whats-everyone-working-on-this-week-10-2020/38939?u=llogiq)!", "author_fullname": "t2_1kxp4", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "What's everyone working on this week (10/2020)?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_fc7hn2", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": "", "subreddit_type": "public", "ups": 21, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 21, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": "contrib", "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583156696.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;New week, new Rust! What are you folks up to? Answer here or over at &lt;a href=\"https://users.rust-lang.org/t/whats-everyone-working-on-this-week-10-2020/38939?u=llogiq\"&gt;rust-users&lt;/a&gt;!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": "clippy \u00b7 twir \u00b7 rust \u00b7 mutagen \u00b7 flamer \u00b7 overflower \u00b7 bytecount", "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "fc7hn2", "is_robot_indexable": true, "report_reasons": null, "author": "llogiq", "discussion_type": null, "num_comments": 16, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": "dark", "permalink": "/r/rust/comments/fc7hn2/whats_everyone_working_on_this_week_102020/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rust/comments/fc7hn2/whats_everyone_working_on_this_week_102020/", "subreddit_subscribers": 92474, "created_utc": 1583127896.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "I was intrigued by the post [https://www.reddit.com/r/rust/comments/fbev13/the\\_cost\\_of\\_indirection/](https://www.reddit.com/r/rust/comments/fbev13/the_cost_of_indirection/) , where using a trait seemed to slow things down. After all, traits should ideally be zero-cost abstractions in rust, and the case described seemed very simple.\n\nAfter some analysis I've come to the conclusion that what is happening is that minor changes to the program file, compiler version etc, can cause the inner loop to be put at different places in memory, basically at random.\n\nAnd it turns out that if the inner loop spans two cache lines, it is not as fast. On my machine 1 billion iterations take 450 ms or 900 ms, depending on the memory layout.\n\nI've created a repo demonstrating this [https://github.com/avl/strange\\_performance\\_repro](https://github.com/avl/strange_performance_repro) .\n\nEdit 2: In a previous edit I claimed even a loop spanning two cache lines could be fast, sometimes. I think I was wrong - I had accidentally checked objdump for an .o-file instead of the executable, and drawn the wrong conclusions.\n\nEdit 3: D'oh! The title really should have been \"loops are faster if they don't span two cachelines\". Hopefully no one was confused by this bad title.", "author_fullname": "t2_4x0e612w", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Inner loops are faster if they don't span a cache line", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_fcjx43", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 212, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 212, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1583217459.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583215502.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I was intrigued by the post &lt;a href=\"https://www.reddit.com/r/rust/comments/fbev13/the_cost_of_indirection/\"&gt;https://www.reddit.com/r/rust/comments/fbev13/the_cost_of_indirection/&lt;/a&gt; , where using a trait seemed to slow things down. After all, traits should ideally be zero-cost abstractions in rust, and the case described seemed very simple.&lt;/p&gt;\n\n&lt;p&gt;After some analysis I&amp;#39;ve come to the conclusion that what is happening is that minor changes to the program file, compiler version etc, can cause the inner loop to be put at different places in memory, basically at random.&lt;/p&gt;\n\n&lt;p&gt;And it turns out that if the inner loop spans two cache lines, it is not as fast. On my machine 1 billion iterations take 450 ms or 900 ms, depending on the memory layout.&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;ve created a repo demonstrating this &lt;a href=\"https://github.com/avl/strange_performance_repro\"&gt;https://github.com/avl/strange_performance_repro&lt;/a&gt; .&lt;/p&gt;\n\n&lt;p&gt;Edit 2: In a previous edit I claimed even a loop spanning two cache lines could be fast, sometimes. I think I was wrong - I had accidentally checked objdump for an .o-file instead of the executable, and drawn the wrong conclusions.&lt;/p&gt;\n\n&lt;p&gt;Edit 3: D&amp;#39;oh! The title really should have been &amp;quot;loops are faster if they don&amp;#39;t span two cachelines&amp;quot;. Hopefully no one was confused by this bad title.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "fcjx43", "is_robot_indexable": true, "report_reasons": null, "author": "octo_anders", "discussion_type": null, "num_comments": 40, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/fcjx43/inner_loops_are_faster_if_they_dont_span_a_cache/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/fcjx43/inner_loops_are_faster_if_they_dont_span_a_cache/", "subreddit_subscribers": 92474, "created_utc": 1583186702.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "Hi Rust Community,  \nI created the following libraries while developing a cost sharing web application, and figured I could tidy them up and share them.\n\n+ `doublecount` - [crates.io](https://crates.io/crates/doublecount) | [github](https://github.com/kellpossible/doublecount) - A double entry accounting system/library for Rust.\n+ `commodity` - [crates.io](https://crates.io/crates/commodity) | [github](https://github.com/kellpossible/commodity) - A library for representing commodities/currencies, and exchange rates/conversions between them in Rust. Values are backed by the `rust_decimal` library.\n\nDoublecount is inspired by the [beancount](http://furius.ca/beancount/) plain text accounting system, but currently has a simpler model, and exists only as a library at the moment. I developed it to serve as a base for calculations in the work in progress [coster](https://github.com/kellpossible/coster) cost sharing web application (aiming for something similar to [splittypie](https://github.com/cowbell/splittypie) but implemented entirely in Rust). I'm hoping that doublecount can be generic enough to serve the needs of some others, would like to hear if anyone else has some ideas about how they would like to use it, and improve the API.", "author_fullname": "t2_5tom5tdq", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Commodity and Doublecount - libraries for representing currencies, and a double entry accounting system", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_fcrka3", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 18, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 18, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1583226128.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583252224.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi Rust Community,&lt;br/&gt;\nI created the following libraries while developing a cost sharing web application, and figured I could tidy them up and share them.&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;doublecount&lt;/code&gt; - &lt;a href=\"https://crates.io/crates/doublecount\"&gt;crates.io&lt;/a&gt; | &lt;a href=\"https://github.com/kellpossible/doublecount\"&gt;github&lt;/a&gt; - A double entry accounting system/library for Rust.&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;commodity&lt;/code&gt; - &lt;a href=\"https://crates.io/crates/commodity\"&gt;crates.io&lt;/a&gt; | &lt;a href=\"https://github.com/kellpossible/commodity\"&gt;github&lt;/a&gt; - A library for representing commodities/currencies, and exchange rates/conversions between them in Rust. Values are backed by the &lt;code&gt;rust_decimal&lt;/code&gt; library.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Doublecount is inspired by the &lt;a href=\"http://furius.ca/beancount/\"&gt;beancount&lt;/a&gt; plain text accounting system, but currently has a simpler model, and exists only as a library at the moment. I developed it to serve as a base for calculations in the work in progress &lt;a href=\"https://github.com/kellpossible/coster\"&gt;coster&lt;/a&gt; cost sharing web application (aiming for something similar to &lt;a href=\"https://github.com/cowbell/splittypie\"&gt;splittypie&lt;/a&gt; but implemented entirely in Rust). I&amp;#39;m hoping that doublecount can be generic enough to serve the needs of some others, would like to hear if anyone else has some ideas about how they would like to use it, and improve the API.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "fcrka3", "is_robot_indexable": true, "report_reasons": null, "author": "kellpossible3", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/fcrka3/commodity_and_doublecount_libraries_for/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/fcrka3/commodity_and_doublecount_libraries_for/", "subreddit_subscribers": 92474, "created_utc": 1583223424.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_cekbp", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "rust-analyzer Changelog #14", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_fcdlq6", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 214, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 214, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1583191452.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "rust-analyzer.github.io", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "fcdlq6", "is_robot_indexable": true, "report_reasons": null, "author": "nckl", "discussion_type": null, "num_comments": 23, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/fcdlq6/rustanalyzer_changelog_14/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://rust-analyzer.github.io/thisweek/2020/03/02/changelog-14.html", "subreddit_subscribers": 92474, "created_utc": 1583162652.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "I was struggling with my 40% keyboard not having numbers accessible directly and i3wm shortcuts. Fell into a rabbit hole and finished writing a CLI just to move my current window to the next workspace, creating it if it doesn't exist.\n\nFirst I was so happy to find someone has [already wrapped i3 ipc socket](https://github.com/tmerr/i3ipc-rs) into a crate.\n\nAnd then I wondered how I'll manage actually using my CLI. I see that cargo install just magically does the thing, and that it can work from git directly so that it'll be simple to use on another pc... That was a woah moment.\n\nI've been able to do all that in less than two hours. Rust has such a wonderful ecosystem, thank you all &lt;3\n\nEdit: I did not talked of StructOpt as it seemed to evident, but damn that's neat to use too!\n\nPS: if anyone is curious, the two command cli is here https://gitlab.com/MonsieurMan/i3-utils", "author_fullname": "t2_3bgjsinl", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "First CLI \"published\" amazed by simplicity", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_fckb4o", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 50, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 50, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1583189106.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583216997.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I was struggling with my 40% keyboard not having numbers accessible directly and i3wm shortcuts. Fell into a rabbit hole and finished writing a CLI just to move my current window to the next workspace, creating it if it doesn&amp;#39;t exist.&lt;/p&gt;\n\n&lt;p&gt;First I was so happy to find someone has &lt;a href=\"https://github.com/tmerr/i3ipc-rs\"&gt;already wrapped i3 ipc socket&lt;/a&gt; into a crate.&lt;/p&gt;\n\n&lt;p&gt;And then I wondered how I&amp;#39;ll manage actually using my CLI. I see that cargo install just magically does the thing, and that it can work from git directly so that it&amp;#39;ll be simple to use on another pc... That was a woah moment.&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;ve been able to do all that in less than two hours. Rust has such a wonderful ecosystem, thank you all &amp;lt;3&lt;/p&gt;\n\n&lt;p&gt;Edit: I did not talked of StructOpt as it seemed to evident, but damn that&amp;#39;s neat to use too!&lt;/p&gt;\n\n&lt;p&gt;PS: if anyone is curious, the two command cli is here &lt;a href=\"https://gitlab.com/MonsieurMan/i3-utils\"&gt;https://gitlab.com/MonsieurMan/i3-utils&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "fckb4o", "is_robot_indexable": true, "report_reasons": null, "author": "drmonsieurman", "discussion_type": null, "num_comments": 8, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/fckb4o/first_cli_published_amazed_by_simplicity/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/fckb4o/first_cli_published_amazed_by_simplicity/", "subreddit_subscribers": 92474, "created_utc": 1583188197.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "thread\\_pool.rs: [https://pastebin.com/wgxaJHq1](https://pastebin.com/wgxaJHq1)\n\nworker.rs: [https://pastebin.com/rGqGXpDf](https://pastebin.com/rGqGXpDf)\n\n(thread\\_pool\\_error.rs was omitted, its just an enum implementing Display, and Error)\n\nI currently get an error on line 39 of thread\\_pool.rs where Rust complains that `the parameter type \\`F\\` may not live long enough`.\n\nRust recommends that I add the constraint of `'static` to the type `F`, however I want be able to send closures that borrow non static references to my thread pool. Take this code for example in a `Server` which handles incoming connections.\n\n    //implement a way for the loop to end later\n    pub fn run(&amp;self) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt;{\n    \tlet listener = TcpListener::bind(format!(\"127.0.0.1:{}\", self.port))?;\n    \tlet thread_pool = ThreadPool::new(10)?;\n    \n    \tfor stream in listener.incoming(){\n    \t\tlet stream = stream.unwrap();\n    \t\tlet job = move ||{\n    \t\t\tself.handle_connection(stream);\n    \t\t};\n    \t\tthread_pool.execute(Box::new(job));\n    \t};\n    \n    \tOk(())\n    }\n\nAs you can see from the `Drop` trait being implemented the references need only to live as long or longer than the thread\\_pool struct, but I'm not sure how I can convey this information to Rust. What should I do?", "author_fullname": "t2_10sky8", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "how can i send a closure to another thread without a 'static life time", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_fcoozh", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 11, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 11, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583236021.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;thread_pool.rs: &lt;a href=\"https://pastebin.com/wgxaJHq1\"&gt;https://pastebin.com/wgxaJHq1&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;worker.rs: &lt;a href=\"https://pastebin.com/rGqGXpDf\"&gt;https://pastebin.com/rGqGXpDf&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;(thread_pool_error.rs was omitted, its just an enum implementing Display, and Error)&lt;/p&gt;\n\n&lt;p&gt;I currently get an error on line 39 of thread_pool.rs where Rust complains that &lt;code&gt;the parameter type \\&lt;/code&gt;F` may not live long enough`.&lt;/p&gt;\n\n&lt;p&gt;Rust recommends that I add the constraint of &lt;code&gt;&amp;#39;static&lt;/code&gt; to the type &lt;code&gt;F&lt;/code&gt;, however I want be able to send closures that borrow non static references to my thread pool. Take this code for example in a &lt;code&gt;Server&lt;/code&gt; which handles incoming connections.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;//implement a way for the loop to end later\npub fn run(&amp;amp;self) -&amp;gt; Result&amp;lt;(), Box&amp;lt;dyn Error&amp;gt;&amp;gt;{\n    let listener = TcpListener::bind(format!(&amp;quot;127.0.0.1:{}&amp;quot;, self.port))?;\n    let thread_pool = ThreadPool::new(10)?;\n\n    for stream in listener.incoming(){\n        let stream = stream.unwrap();\n        let job = move ||{\n            self.handle_connection(stream);\n        };\n        thread_pool.execute(Box::new(job));\n    };\n\n    Ok(())\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;As you can see from the &lt;code&gt;Drop&lt;/code&gt; trait being implemented the references need only to live as long or longer than the thread_pool struct, but I&amp;#39;m not sure how I can convey this information to Rust. What should I do?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "fcoozh", "is_robot_indexable": true, "report_reasons": null, "author": "zee220", "discussion_type": null, "num_comments": 12, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/fcoozh/how_can_i_send_a_closure_to_another_thread/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/fcoozh/how_can_i_send_a_closure_to_another_thread/", "subreddit_subscribers": 92474, "created_utc": 1583207221.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_22wcpskj", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "IntelliJ Rust Changelog #117", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_fcdql8", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 82, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 82, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1583191984.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "intellij-rust.github.io", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "fcdql8", "is_robot_indexable": true, "report_reasons": null, "author": "furious_warrior", "discussion_type": null, "num_comments": 6, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/fcdql8/intellij_rust_changelog_117/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://intellij-rust.github.io/2020/03/02/changelog-117.html", "subreddit_subscribers": 92474, "created_utc": 1583163184.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_rf6x7", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Writing an OS in Rust: Updates in February 2020", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_fcadax", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 184, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 184, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1583175093.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "os.phil-opp.com", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "fcadax", "is_robot_indexable": true, "report_reasons": null, "author": "phil-opp", "discussion_type": null, "num_comments": 15, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/fcadax/writing_an_os_in_rust_updates_in_february_2020/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://os.phil-opp.com/status-update/2020-03-02/", "subreddit_subscribers": 92474, "created_utc": 1583146293.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "One of my friend is a new Rust learner, he has some experience on other languages and began to learn Rust recently. He just raised this question to me but I can't decide a reason to it. Is this design absent by accident or on purpose? Why is it missing? Thank you all Redditors!", "author_fullname": "t2_1qoxf8lo", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Is there an IndexMut impl for HashMap collection struct in standard library?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_fcmt8l", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 6, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 6, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583227483.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;One of my friend is a new Rust learner, he has some experience on other languages and began to learn Rust recently. He just raised this question to me but I can&amp;#39;t decide a reason to it. Is this design absent by accident or on purpose? Why is it missing? Thank you all Redditors!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "fcmt8l", "is_robot_indexable": true, "report_reasons": null, "author": "luojia65", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/fcmt8l/is_there_an_indexmut_impl_for_hashmap_collection/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/fcmt8l/is_there_an_indexmut_impl_for_hashmap_collection/", "subreddit_subscribers": 92474, "created_utc": 1583198683.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "Making some nontrivial workarounds about not being able to safely create movable self referencing structs made me thinking: what is the actual problem with self referencing structs in Rust. I know that you can create some self referencing structs locally. But when you do it locally compiler forces all items inside to have the same lifetime but having lifetime means it is not movable as a whole. So if all fields have the same lifetime, why can't we just erase this lifetime, move the struct, and apply new lifetime when we are using it in new place?\n\nWell, looks like we can. Of course it is not that simple, but it is the general idea behind [gsrs](https://docs.rs/gsrs) - crate for creating generic movable self referencing structs(SRS). Basically after creation, when borrowing SRS to use it, it will apply lifetime of that borrow to all references inside. But to ensure safety it restricts ways you can interact with data.\n\nAPI is not rich yet. It is in more of PoC/MVP state currently. I am pretty sure that my idea/implementation is sound(it even passes miri, although there is not quite many tests yet) but it is my second dive into unsafe Rust. Although I have a decent low level background I still could have missed something subtle. I have a lot of ideas of how to improve it so I would really appreciate a soundness review(it is quite small, ~150 lines of actual code), so I can be fully confident in my approach before fully committing on it and recommending someone else to use it. \n\nAnd some close to real world example of what you can do - movable Unicode suffix array\n```rust\n    use gsrs::*;\n    struct TestRef&lt;'a&gt;(Vec&lt;&amp;'a str&gt;);\n    deref_with_lifetime!(TestRef);\n\n    let mut suffix_array = SRS::&lt;String, TestRef&gt;::create_with(\n        \"testtest \u3053\u3093\u306b\u3061\u306f\".to_owned(),\n        |owner| {\n            TestRef({\n                let mut a = owner.chars();\n                let mut vec = Vec::new();\n                vec.push(a.as_str());\n                while let Some(_) = a.next() {\n                    vec.push(a.as_str());\n                }\n                vec.sort();\n                vec\n            })\n       },\n    );\n    //move it wherever you like\n    let mut suffix_array = black_box(suffix_array);\n    fn contains(vec: &amp;[&amp;str], str: &amp;str) -&gt; bool {\n        vec.binary_search_by(|&amp;it| {\n            if it.starts_with(str) {\n                Ordering::Equal\n            } else {\n                it.cmp(str)\n            }\n        }).is_ok()\n    }\n    let a = suffix_array.with(|user, _| contains(&amp;user.0, \"ttes\"));\n    let c = suffix_array.with(|user, _| contains(&amp;user.0, \"\u3053\u3093\"));\n    let str = \"aa\".to_owned();\n    let b = suffix_array.with(move |user, _| contains(&amp;user.0, &amp;*str));\n    assert!(a &amp;&amp; c &amp;&amp; !b);\n```", "author_fullname": "t2_wqw5k5q", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "gsrs - PoC crate for creating generic movable self referencing structs on stable rust", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_fchwus", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 18, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 18, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583207949.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Making some nontrivial workarounds about not being able to safely create movable self referencing structs made me thinking: what is the actual problem with self referencing structs in Rust. I know that you can create some self referencing structs locally. But when you do it locally compiler forces all items inside to have the same lifetime but having lifetime means it is not movable as a whole. So if all fields have the same lifetime, why can&amp;#39;t we just erase this lifetime, move the struct, and apply new lifetime when we are using it in new place?&lt;/p&gt;\n\n&lt;p&gt;Well, looks like we can. Of course it is not that simple, but it is the general idea behind &lt;a href=\"https://docs.rs/gsrs\"&gt;gsrs&lt;/a&gt; - crate for creating generic movable self referencing structs(SRS). Basically after creation, when borrowing SRS to use it, it will apply lifetime of that borrow to all references inside. But to ensure safety it restricts ways you can interact with data.&lt;/p&gt;\n\n&lt;p&gt;API is not rich yet. It is in more of PoC/MVP state currently. I am pretty sure that my idea/implementation is sound(it even passes miri, although there is not quite many tests yet) but it is my second dive into unsafe Rust. Although I have a decent low level background I still could have missed something subtle. I have a lot of ideas of how to improve it so I would really appreciate a soundness review(it is quite small, ~150 lines of actual code), so I can be fully confident in my approach before fully committing on it and recommending someone else to use it. &lt;/p&gt;\n\n&lt;p&gt;And some close to real world example of what you can do - movable Unicode suffix array\n```rust\n    use gsrs::*;\n    struct TestRef&amp;lt;&amp;#39;a&amp;gt;(Vec&amp;lt;&amp;amp;&amp;#39;a str&amp;gt;);\n    deref_with_lifetime!(TestRef);&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;let mut suffix_array = SRS::&amp;lt;String, TestRef&amp;gt;::create_with(\n    &amp;quot;testtest \u3053\u3093\u306b\u3061\u306f&amp;quot;.to_owned(),\n    |owner| {\n        TestRef({\n            let mut a = owner.chars();\n            let mut vec = Vec::new();\n            vec.push(a.as_str());\n            while let Some(_) = a.next() {\n                vec.push(a.as_str());\n            }\n            vec.sort();\n            vec\n        })\n   },\n);\n//move it wherever you like\nlet mut suffix_array = black_box(suffix_array);\nfn contains(vec: &amp;amp;[&amp;amp;str], str: &amp;amp;str) -&amp;gt; bool {\n    vec.binary_search_by(|&amp;amp;it| {\n        if it.starts_with(str) {\n            Ordering::Equal\n        } else {\n            it.cmp(str)\n        }\n    }).is_ok()\n}\nlet a = suffix_array.with(|user, _| contains(&amp;amp;user.0, &amp;quot;ttes&amp;quot;));\nlet c = suffix_array.with(|user, _| contains(&amp;amp;user.0, &amp;quot;\u3053\u3093&amp;quot;));\nlet str = &amp;quot;aa&amp;quot;.to_owned();\nlet b = suffix_array.with(move |user, _| contains(&amp;amp;user.0, &amp;amp;*str));\nassert!(a &amp;amp;&amp;amp; c &amp;amp;&amp;amp; !b);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;```&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "fchwus", "is_robot_indexable": true, "report_reasons": null, "author": "iamjustK", "discussion_type": null, "num_comments": 5, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/fchwus/gsrs_poc_crate_for_creating_generic_movable_self/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/fchwus/gsrs_poc_crate_for_creating_generic_movable_self/", "subreddit_subscribers": 92474, "created_utc": 1583179149.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "Hi,\n\nSo I\u2019ve been asking lately, in several communities, why people seem to agree that IntelliJ is a good tool. And\u2026 I haven\u2019t seen anything convincing yet. Some context: I\u2019m a neovim+tmux user, I use the UNIX\u00a0philosophy on everything I do, and **my own quality criteria is that something must have a small scope and be excellent at what it pretends.** That has yielded a collection of tools I use on a daily basis, such as `nvim`, `fzf`, `git`, `fd`, `rg`, `nm`, `lldb`, `rr`, `tmux`, `i3wm`, etc.\n\nSo, I\u2019m asking people who are already feeling comfortable with IntelliJ: why do you think it\u2019s worth it? What makes it worth its price? This is a genuine question I\u2019ve been asking and all I got was \u201cIt works for me\u201d or \u201cI\u2019m faster with it.\u201d I could say \u201cI\u2019m faster\u201d too because I use EasyMotion, but if I were asked _why I\u2019m faster with EasyMotion_, I\u2019d explain that it integrates easily in neovim; allows me to jump everywhere in buffers with only two or three keystrokes, and then reduces muscle tiredness and stress; I\u2019m also moving more \u201csmoothly\u201d and more comfortably.\n\nCan someone tell me, in the same idea, about IntelliJ? Lots of people seem to like that tool, so I wanna know, especially because if I\u2019m missing something, I might learn new workflow / techniques to add to my own workflow.\n\nThanks in advance!", "author_fullname": "t2_qnok6", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "WHY do you think IntelliJ is a good development tool?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_fcshgy", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": "", "subreddit_type": "public", "ups": 0, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 0, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": "contrib", "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583258824.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi,&lt;/p&gt;\n\n&lt;p&gt;So I\u2019ve been asking lately, in several communities, why people seem to agree that IntelliJ is a good tool. And\u2026 I haven\u2019t seen anything convincing yet. Some context: I\u2019m a neovim+tmux user, I use the UNIX\u00a0philosophy on everything I do, and &lt;strong&gt;my own quality criteria is that something must have a small scope and be excellent at what it pretends.&lt;/strong&gt; That has yielded a collection of tools I use on a daily basis, such as &lt;code&gt;nvim&lt;/code&gt;, &lt;code&gt;fzf&lt;/code&gt;, &lt;code&gt;git&lt;/code&gt;, &lt;code&gt;fd&lt;/code&gt;, &lt;code&gt;rg&lt;/code&gt;, &lt;code&gt;nm&lt;/code&gt;, &lt;code&gt;lldb&lt;/code&gt;, &lt;code&gt;rr&lt;/code&gt;, &lt;code&gt;tmux&lt;/code&gt;, &lt;code&gt;i3wm&lt;/code&gt;, etc.&lt;/p&gt;\n\n&lt;p&gt;So, I\u2019m asking people who are already feeling comfortable with IntelliJ: why do you think it\u2019s worth it? What makes it worth its price? This is a genuine question I\u2019ve been asking and all I got was \u201cIt works for me\u201d or \u201cI\u2019m faster with it.\u201d I could say \u201cI\u2019m faster\u201d too because I use EasyMotion, but if I were asked &lt;em&gt;why I\u2019m faster with EasyMotion&lt;/em&gt;, I\u2019d explain that it integrates easily in neovim; allows me to jump everywhere in buffers with only two or three keystrokes, and then reduces muscle tiredness and stress; I\u2019m also moving more \u201csmoothly\u201d and more comfortably.&lt;/p&gt;\n\n&lt;p&gt;Can someone tell me, in the same idea, about IntelliJ? Lots of people seem to like that tool, so I wanna know, especially because if I\u2019m missing something, I might learn new workflow / techniques to add to my own workflow.&lt;/p&gt;\n\n&lt;p&gt;Thanks in advance!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": "luminance \u00b7  glsl \u00b7  spectra", "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "fcshgy", "is_robot_indexable": true, "report_reasons": null, "author": "phaazon_", "discussion_type": null, "num_comments": 15, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": "dark", "permalink": "/r/rust/comments/fcshgy/why_do_you_think_intellij_is_a_good_development/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/fcshgy/why_do_you_think_intellij_is_a_good_development/", "subreddit_subscribers": 92474, "created_utc": 1583230024.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_fcshgy", "before": null}}