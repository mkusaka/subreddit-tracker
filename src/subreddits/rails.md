# rails
## [1][Personal Projects - Show off your own project and/or ask for advice](https://www.reddit.com/r/rails/comments/igyvm1/personal_projects_show_off_your_own_project_andor/)
- url: https://www.reddit.com/r/rails/comments/igyvm1/personal_projects_show_off_your_own_project_andor/
---
In this thread you can showcase your personal pet project to other redditors.

Need help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!

A suggested format to get you started:

1. **Name of your project**
2. **A short description**
3. **Application stack**
4. **Link to Live app**
5. **Link to GitHub**
6. **You experience level**
7. **Other information or areas that you would like advice on**

 

^(Many thanks to Kritnc for getting the ball rolling.)
## [2][Personal Projects - Show off your own project and/or ask for advice](https://www.reddit.com/r/rails/comments/ipfxw8/personal_projects_show_off_your_own_project_andor/)
- url: https://www.reddit.com/r/rails/comments/ipfxw8/personal_projects_show_off_your_own_project_andor/
---
In this thread you can showcase your personal pet project to other redditors.

Need help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!

A suggested format to get you started:

1. **Name of your project**
2. **A short description**
3. **Application stack**
4. **Link to Live app**
5. **Link to GitHub**
6. **You experience level**
7. **Other information or areas that you would like advice on**

 

^(Many thanks to Kritnc for getting the ball rolling.)
## [3][Dockerizing and deploying rails on AWS](https://www.reddit.com/r/rails/comments/iq112b/dockerizing_and_deploying_rails_on_aws/)
- url: https://www.reddit.com/r/rails/comments/iq112b/dockerizing_and_deploying_rails_on_aws/
---
Hi, please excuse me if this is a simple question, but I am new to Docker and AWS, but not to rails.

I want to get my Docker skills better, and I want to get my AWS skills better!  I want to deploy my application using Docker on AWS. I dont know where to start.

I have a rails API only application (created using the API flag), which now has a Dockerfile and docker-compose.yml file. There are so many Docker tutorials and I understand how Docker works in its basic form - but here is what I don't understand:

1) if the database is created on a separate container, how does the application connect with it, and how do I deploy it on AWS? does it need a separate cluster? Does it need a separate Dockerfile? is docker-compose only used for development, but not for production? 

I don't expect anyone to give me a long explanation, but if you could point me in the right direction of some good learning materials, or give me a brief overview, or tell me I'm barking up the right/wrong tree, that would be great. 

&amp;#x200B;

Thanks so much
## [4][VS Code extensions for Ruby on Rails](https://www.reddit.com/r/rails/comments/ipjyp5/vs_code_extensions_for_ruby_on_rails/)
- url: https://www.reddit.com/r/rails/comments/ipjyp5/vs_code_extensions_for_ruby_on_rails/
---
Hi fellow devs,

As a developer who recently switched editor to VS Code it was surprisingly painful to me to find the right extensions for Ruby and ERB-files. So after some deep dipping, trial and error, I made a list of [15 useful extensions.](https://medium.com/better-programming/vs-code-extensions-for-ruby-on-rails-developers-917474e03e04?source=email-a42fe51332f1-1599665294777-layerCake.autoLayerCakeWriterNotification-------------------------907c5322_a2c3_4951_9f79_25e7d58979af&amp;sk=2b3afd818f039451ffc972f54c89e30c) It might help you too.
## [5][Inline PDF](https://www.reddit.com/r/rails/comments/iq35r6/inline_pdf/)
- url: https://www.reddit.com/r/rails/comments/iq35r6/inline_pdf/
---
Hey guys... I want to display a pdf (many pages) in a controller view. I want the user to be able to view the pdf without downloading it. The pdf is quite large (15MB) so I'm a little worried that this might affect the performance of the site. Would appreciate some insight on the best way to go about this. Thanks!
## [6][Searchable Rails logs with Kibana and Filebeat](https://www.reddit.com/r/rails/comments/ipyr25/searchable_rails_logs_with_kibana_and_filebeat/)
- url: https://www.reddit.com/r/rails/comments/ipyr25/searchable_rails_logs_with_kibana_and_filebeat/
---
Tired of handling logs in file and Need to search logs frequently?  Here is a good article walks you through the setup of Filebeat log shipper, which ships logs to Elasticsearch which can be utilised in Kibana for searching.  [Searchable logs with Filebeat and Elastic Stack](https://blog.joshsoftware.com/2020/09/09/searchable-logs-with-filebeat-and-elastic-stack/)
## [7][REST API routes for admin and public use](https://www.reddit.com/r/rails/comments/ipunkr/rest_api_routes_for_admin_and_public_use/)
- url: https://www.reddit.com/r/rails/comments/ipunkr/rest_api_routes_for_admin_and_public_use/
---
I have API endpoints in my app that currently only service client admin pages where they can see all their customer's data. Their customers see data that is rendered in erb templates that use a separate controller. Now I want to migrate everything to use API endpoints instead, but I'm not sure the best way to handle this from an API design perspective. I want to make sure that there is no way, not even by some dumb mistake, that someone will see data they shouldn't be able to.

Would it be better to make another set of API endpoints just for displaying data to their customers? Some of the functionality between controllers would overlap and create double the work, but I'm not sure how else to handle this.
## [8][Rails CMS](https://www.reddit.com/r/rails/comments/ipijt8/rails_cms/)
- url: https://www.reddit.com/r/rails/comments/ipijt8/rails_cms/
---
Hello there,

We are currently using ComfortableMexicanSofa as our CMS to manage static content and our main goal is to put that content creation on the hands of the marketing department. We are having a bad time as they say it's hard to create beautiful content on it and they always compare it with the experience of creating a page on WordPress.

Do you know of any CMS that could be more user friendly?
## [9][Doorkeeper + Devise not working anymore?](https://www.reddit.com/r/rails/comments/ipjo4z/doorkeeper_devise_not_working_anymore/)
- url: https://www.reddit.com/r/rails/comments/ipjo4z/doorkeeper_devise_not_working_anymore/
---
I've spent a lot of time trying to get [Doorkeeper](https://github.com/doorkeeper-gem/doorkeeper) working with Devise over the past few days, and I cannot seem to get it working. I've tried the following:

1) Using the doorkeeper getting started guide (which includes a process for working with devise: [https://doorkeeper.gitbook.io/guides/ruby-on-rails/getting-started](https://doorkeeper.gitbook.io/guides/ruby-on-rails/getting-started))

&amp;#x200B;

2) Trying to get the official doorkeeper-provider-app running: [https://github.com/doorkeeper-gem/doorkeeper-provider-app](https://github.com/doorkeeper-gem/doorkeeper-provider-app)

&amp;#x200B;

3) Going through the GoRails episodes: [https://gorails.com/episodes/api-authentication-with-oauth-provider](https://gorails.com/episodes/api-authentication-with-oauth-provider) &amp; [https://gorails.com/episodes/doorkeeper-omniauth-oauth-client](https://gorails.com/episodes/doorkeeper-omniauth-oauth-client)

&amp;#x200B;

I am running:

ruby '2.6.5'  
gem 'rails', '\~&gt; 6.0.3', '&gt;= [6.0.3.2](https://6.0.3.2)'

gem 'devise', '\~&gt; 4.7', '&gt;= 4.7.1'

&amp;#x200B;

The errors I seem to continue to experience are: 

1) When hitting my api endpoint at: [http://localhost:3000/api/v1/me.json](http://localhost:3000/api/v1/me.json) I see the following:

    Started GET "/api/v1/me.json" for 127.0.0.1 at 2020-09-09 10:05:06 -0400
    10:05:06 web.1     | Processing by Api::V1::UsersController#me as JSON
    10:05:06 web.1     | Filter chain halted as :doorkeeper_authorize! rendered or redirected
    10:05:06 web.1     | Completed 401 Unauthorized in 58ms (ActiveRecord: 0.0ms | Allocations: 7807)

2) If I comment out `before_action :doorkeeper_authorize!` it returns `null`

In the comments on GoRails, someone indicates that if they define the following method in the API controller, they can see the api results (which it works, but only if the before\_action :doorkeeper\_authorize! is commented out):

    def current_resource_owner
      @current_user ||= if doorkeeper_token
        User.find(doorkeeper_token.resource_owner_id)
      else
        warden.authenticate(scope: :user)
      end
    end

\--- 

There are a few other areas I am having difficulty with, but the above is the first issue - mainly being that null is reporting back from the API endpoint when using the devise strategy in the initializer/doorkeeper.rb file

    resource_owner_authenticator do 
      current_user || warden.authenticate!(:scope =&gt; :user)
    end
    
    admin_authenticator do |_routes|
      current_user || warden.authenticate!(scope: :user)
    end
## [10][Multi-step form structure](https://www.reddit.com/r/rails/comments/ipbf32/multistep_form_structure/)
- url: https://www.reddit.com/r/rails/comments/ipbf32/multistep_form_structure/
---
Hey Redditors,

I'm working on a community website where each member can have their own company page. The company page has the ability to have a regular "contact us form" but it's not very flexible. Many of our current users have asked for the ability to have a multi-step form and custom forms for their industry.

Let's say you are an electrician and you would like to get more information out of a potential customer before you call them. So you would like to add fields like "*What's the purpose for the new wiring?*" or "*What's the approximate square footage of the home?*".

**The functionality I'm looking to implement**

* Unique forms for a specific industry (electrician, roofers, plumbers) with text fields, number fields, radio buttons, checkboxes, and photo uploads
* The ability to make changes to the form on a specific company page
* Admin users should be able to create forms for each industry and modifying them
* "Clone" a premade form for an industry then have the ability to modifying it

&amp;#x200B;

&gt;***Porch, Thumbtack and many others have this kind of functionality***

[https:\/\/porch.com\/checkout\/start?appId=homePage&amp;companyTypeId=1071&amp;context=home-page&amp;conversionId=ae29f83c-5f5e-4c7f-b3e5-5707b2cf49c5&amp;pageName=HomePage&amp;postalCode=10001&amp;r=https&amp;#37;3A&amp;#37;2F&amp;#37;2Fporch.com&amp;#37;2F&amp;serviceTypeId=](https://preview.redd.it/3j80oavon2m51.png?width=2572&amp;format=png&amp;auto=webp&amp;s=02c4f116d802fbc05f02b528bfee405ae4a35eb5)

&amp;#x200B;

**What I'm asking the rails community is the following:**

* How would you structure this kind of functionality?
   * Database tables
   * Schema
   * Relationships
* Would you make API calls for each step of the multi-step form or just use localStorage until submission?
* What security aspects are easy to forget about?
* Are there any gems out there solving this?

&amp;#x200B;

Thanks, Daniel!
## [11][Distributed SQL database resources for Ruby on Rails devs](https://www.reddit.com/r/rails/comments/ipi4aq/distributed_sql_database_resources_for_ruby_on/)
- url: https://www.reddit.com/r/rails/comments/ipi4aq/distributed_sql_database_resources_for_ruby_on/
---
[https://www.cockroachlabs.com/developers/](https://www.cockroachlabs.com/developers/)
## [12][5 Star-Rating in Rails API](https://www.reddit.com/r/rails/comments/ipbq5c/5_starrating_in_rails_api/)
- url: https://www.reddit.com/r/rails/comments/ipbq5c/5_starrating_in_rails_api/
---
Hi guys!

I'm learning rails and my work is from the backend side and I'm going to make a restaurant rating system in which a user can rate a restaurant he checkin before. I'm getting user\_id &amp; rating e.g (4,5,3) from front-end now I don't know how to get the overall restaurant rating. I have an idea below

s = sum of rating on a particular restaurant  t = total no of rating on that restaurant   Restaurant overall rating = s/t 

&amp;#x200B;

Here I'm getting these values from my Rating model where I store restaurant\_ID, User\_id, user\_rating, Overall\_rating.

I don't know here, I'm going on the right path or not but I need guidness from seniors.
