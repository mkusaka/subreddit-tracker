{"kind": "Listing", "data": {"modhash": "", "dist": 11, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "In this thread you can showcase your personal pet project to other redditors.\n\nNeed help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!\n\nA suggested format to get you started:\n\n1. **Name of your project**\n2. **A short description**\n3. **Application stack**\n4. **Link to Live app**\n5. **Link to GitHub**\n6. **You experience level**\n7. **Other information or areas that you would like advice on**\n\n\u00a0\n\n^(Many thanks to Kritnc for getting the ball rolling.)", "author_fullname": "t2_6l4z3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Personal Projects - Show off your own project and/or ask for advice", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jfcv1r", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.95, "author_flair_background_color": null, "subreddit_type": "public", "ups": 16, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 16, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603315962.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;In this thread you can showcase your personal pet project to other redditors.&lt;/p&gt;\n\n&lt;p&gt;Need help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!&lt;/p&gt;\n\n&lt;p&gt;A suggested format to get you started:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;Name of your project&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;A short description&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Application stack&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to Live app&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to GitHub&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;You experience level&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Other information or areas that you would like advice on&lt;/strong&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;\u00a0&lt;/p&gt;\n\n&lt;p&gt;&lt;sup&gt;Many thanks to Kritnc for getting the ball rolling.&lt;/sup&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jfcv1r", "is_robot_indexable": true, "report_reasons": null, "author": "AutoModerator", "discussion_type": null, "num_comments": 3, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jfcv1r/personal_projects_show_off_your_own_project_andor/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rails/comments/jfcv1r/personal_projects_show_off_your_own_project_andor/", "subreddit_subscribers": 46463, "created_utc": 1603287162.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I'm working on a rails 6 application ( i generated a controller with his view (index/show/edit) ) \n\nbut on the show page i have to add a show some images so i'm going to use swiperJS  (like this exemple not mine btw) https://codepad.co/snippet/swiper-thumbs-gallery-with-two-way-control\n\nso i need to add the JS and CSS to the show page only \n\na did a:\n\n    yarn add swiper \n\nand to the javascript folder i added a new file called GallerieSwiper.js which contant my JS \n\nand in my show.html.erb page i added:\n\n    &lt;%= javascript_pack_tag 'GallerieSwiper' %&gt;\n\n\nthe issue is how to add the swiper.min.css to only the show view ? \n\ni can't added in the top of the page as it is a subview of the application.html.erb that contant the whole website structure", "author_fullname": "t2_6kh1x", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "adding CSS to a single view", "link_flair_richtext": [{"e": "text", "t": "Question"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "question", "downs": 0, "top_awarded_type": null, "hide_score": true, "name": "t3_jn9nfy", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Question", "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1604436392.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;m working on a rails 6 application ( i generated a controller with his view (index/show/edit) ) &lt;/p&gt;\n\n&lt;p&gt;but on the show page i have to add a show some images so i&amp;#39;m going to use swiperJS  (like this exemple not mine btw) &lt;a href=\"https://codepad.co/snippet/swiper-thumbs-gallery-with-two-way-control\"&gt;https://codepad.co/snippet/swiper-thumbs-gallery-with-two-way-control&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;so i need to add the JS and CSS to the show page only &lt;/p&gt;\n\n&lt;p&gt;a did a:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;yarn add swiper \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;and to the javascript folder i added a new file called GallerieSwiper.js which contant my JS &lt;/p&gt;\n\n&lt;p&gt;and in my show.html.erb page i added:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;&amp;lt;%= javascript_pack_tag &amp;#39;GallerieSwiper&amp;#39; %&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;the issue is how to add the swiper.min.css to only the show view ? &lt;/p&gt;\n\n&lt;p&gt;i can&amp;#39;t added in the top of the page as it is a subview of the application.html.erb that contant the whole website structure&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "fdfc6806-aea7-11e4-bf37-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jn9nfy", "is_robot_indexable": true, "report_reasons": null, "author": "slimkhan", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jn9nfy/adding_css_to_a_single_view/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jn9nfy/adding_css_to_a_single_view/", "subreddit_subscribers": 46463, "created_utc": 1604407592.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "What resources helped you become a better rails developer? Or projects?", "author_fullname": "t2_7wdh8h8t", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "The best Rails developer that no one ever was", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jmxfci", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 26, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 26, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1604355802.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1604383657.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;What resources helped you become a better rails developer? Or projects?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jmxfci", "is_robot_indexable": true, "report_reasons": null, "author": "Vicente_dev", "discussion_type": null, "num_comments": 24, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jmxfci/the_best_rails_developer_that_no_one_ever_was/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jmxfci/the_best_rails_developer_that_no_one_ever_was/", "subreddit_subscribers": 46463, "created_utc": 1604354857.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hi All,\n\nHope everyone is staying safe.\n\nI'm currently hiring for a Senior Ruby Engineer who has implemented Elasticsearch as an indexing solution. We\u2019re an AI startup with offices in London and Berlin who have grown to 55 people in the last 5 years. We\u2019re working on cutting edge AI technology, supported by a small team of machine learning experts and a collaborative product team that enables our clients to make data driven decisions using 100k+ customer feedback to improve their product.\n\nAs a Senior Ruby Engineer at Chattermill, you\u2019ll be working on greenfield products as well as interesting performance optimisation problems.\u00a0You will be involved in all steps of the project including design, architecture, implementation, automated tests development and monitoring the health of the systems in production. This role can be fully remote (within EU timezone) or be based in our London or Berlin office (when it's safe to open up again).\n\nThis opportunity would suit:\u00a0\n\n* Someone who values autonomy and would relish working on new challenges\n* Has a growth mindset and wants to work with likeminded people\n* Wants to work on complex scaling problems\n* Wants to work in a high impact role within a startup but at the same time has a good work/ life balance\n\nWhat we\u2019re after:\n\n* Someone with good knowledge of software design and architecture\u00a0\n* Proficient with PostgreSQL and has experience with large datasets.\n* Experience with Elasticsearch as an indexing solution\n* Someone who values working within a close knit team and is willing to help and support others\u00a0\n\nYou can apply via: [https://grnh.se/a87508f63us](https://grnh.se/a87508f63us) or contact me directly if you have any questions via [jason@chattermill.io](mailto:jason@chattermill.io).", "author_fullname": "t2_86tcyk5p", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Have you implemented Elasticsearch as an indexing solution?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": true, "name": "t3_jn94yh", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.33, "author_flair_background_color": null, "subreddit_type": "public", "ups": 0, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 0, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1604406437.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1604434030.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi All,&lt;/p&gt;\n\n&lt;p&gt;Hope everyone is staying safe.&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m currently hiring for a Senior Ruby Engineer who has implemented Elasticsearch as an indexing solution. We\u2019re an AI startup with offices in London and Berlin who have grown to 55 people in the last 5 years. We\u2019re working on cutting edge AI technology, supported by a small team of machine learning experts and a collaborative product team that enables our clients to make data driven decisions using 100k+ customer feedback to improve their product.&lt;/p&gt;\n\n&lt;p&gt;As a Senior Ruby Engineer at Chattermill, you\u2019ll be working on greenfield products as well as interesting performance optimisation problems.\u00a0You will be involved in all steps of the project including design, architecture, implementation, automated tests development and monitoring the health of the systems in production. This role can be fully remote (within EU timezone) or be based in our London or Berlin office (when it&amp;#39;s safe to open up again).&lt;/p&gt;\n\n&lt;p&gt;This opportunity would suit:\u00a0&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Someone who values autonomy and would relish working on new challenges&lt;/li&gt;\n&lt;li&gt;Has a growth mindset and wants to work with likeminded people&lt;/li&gt;\n&lt;li&gt;Wants to work on complex scaling problems&lt;/li&gt;\n&lt;li&gt;Wants to work in a high impact role within a startup but at the same time has a good work/ life balance&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;What we\u2019re after:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Someone with good knowledge of software design and architecture\u00a0&lt;/li&gt;\n&lt;li&gt;Proficient with PostgreSQL and has experience with large datasets.&lt;/li&gt;\n&lt;li&gt;Experience with Elasticsearch as an indexing solution&lt;/li&gt;\n&lt;li&gt;Someone who values working within a close knit team and is willing to help and support others\u00a0&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;You can apply via: &lt;a href=\"https://grnh.se/a87508f63us\"&gt;https://grnh.se/a87508f63us&lt;/a&gt; or contact me directly if you have any questions via [&lt;a href=\"mailto:jason@chattermill.io\"&gt;jason@chattermill.io&lt;/a&gt;](mailto:&lt;a href=\"mailto:jason@chattermill.io\"&gt;jason@chattermill.io&lt;/a&gt;).&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jn94yh", "is_robot_indexable": true, "report_reasons": null, "author": "jasontheruby", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jn94yh/have_you_implemented_elasticsearch_as_an_indexing/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jn94yh/have_you_implemented_elasticsearch_as_an_indexing/", "subreddit_subscribers": 46463, "created_utc": 1604405230.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hi guys, I'm using Active Model Serializer and I'm having trouble updating a user. I'm not sure what to do to solve this problem? \n\nI get this error message.   \n\n`app/controllers/registrations_controller.rb:19\n[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)` \n\nMy registrations_controller is:\n\n\t`def update\n\t\t@user = User.find(params[:id])\n\t\tif @user.assign_attributes(registration_params)\n\t\t\trender json: @user\n\t\telse\n\t\t\trender json: { status: :bad_request }\n\t\tend\t\n\tend`\t\n\n\nHere is my User Serializer:\n\n`\nclass UserSerializer &lt; ActiveModel::Serializer\n  include Rails.application.routes.url_helpers\n  attributes  :id, :first_name, :last_name, :email, :photo_url, :login_status\n  \n  attributes :photo_url\n  def photo_url\n    variant = object.photo.variant(resize: \"80x80\")\n    return rails_representation_url(variant, only_path: true)\n  end  \n\n  def login_status\n    {\n      status: :created,\n      logged_in: true\n    }\n  end   \nend`", "author_fullname": "t2_1iq1v1s9", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How to fix Rendered ActiveModel::Serializer::Null with Hash", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jn0wim", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.84, "author_flair_background_color": null, "subreddit_type": "public", "ups": 4, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 4, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1604395231.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi guys, I&amp;#39;m using Active Model Serializer and I&amp;#39;m having trouble updating a user. I&amp;#39;m not sure what to do to solve this problem? &lt;/p&gt;\n\n&lt;p&gt;I get this error message.   &lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;app/controllers/registrations_controller.rb:19\n[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)&lt;/code&gt; &lt;/p&gt;\n\n&lt;p&gt;My registrations_controller is:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;`def update\n    @user = User.find(params[:id])\n    if @user.assign_attributes(registration_params)\n        render json: @user\n    else\n        render json: { status: :bad_request }\n    end \nend`    \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Here is my User Serializer:&lt;/p&gt;\n\n&lt;p&gt;`\nclass UserSerializer &amp;lt; ActiveModel::Serializer\n  include Rails.application.routes.url_helpers\n  attributes  :id, :first_name, :last_name, :email, :photo_url, :login_status&lt;/p&gt;\n\n&lt;p&gt;attributes :photo_url\n  def photo_url\n    variant = object.photo.variant(resize: &amp;quot;80x80&amp;quot;)\n    return rails_representation_url(variant, only_path: true)\n  end  &lt;/p&gt;\n\n&lt;p&gt;def login_status\n    {\n      status: :created,\n      logged_in: true\n    }\n  end&lt;br/&gt;\nend`&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jn0wim", "is_robot_indexable": true, "report_reasons": null, "author": "informal_reflection4", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jn0wim/how_to_fix_rendered_activemodelserializernull/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jn0wim/how_to_fix_rendered_activemodelserializernull/", "subreddit_subscribers": 46463, "created_utc": 1604366431.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hi all,\n\nI am the creator of [https://github.com/chrisvel/wreeto\\_official](https://github.com/chrisvel/wreeto_official).\n\nThere's an issue pending for a couple of days, but I am unable to save.\n\n[https://github.com/chrisvel/wreeto\\_official/issues/47](https://github.com/chrisvel/wreeto_official/issues/47)\n\nHeads up:\n\n`AssetsNotPrecompiled` appeared after a `docker-compose pull` of latest image and doesn't seem to go away with `rake assets:clobber` and `rake assets:precompile`, even If the public assets folder is removed manually with `rm -rf`.\n\nDoes anyone have any idea that might help ?", "author_fullname": "t2_1eb6chze", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "AssetsNotPrecompiled not resolved with :clobber and :precompile", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jn6qja", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 1, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1604392947.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1604420748.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi all,&lt;/p&gt;\n\n&lt;p&gt;I am the creator of &lt;a href=\"https://github.com/chrisvel/wreeto_official\"&gt;https://github.com/chrisvel/wreeto_official&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;There&amp;#39;s an issue pending for a couple of days, but I am unable to save.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://github.com/chrisvel/wreeto_official/issues/47\"&gt;https://github.com/chrisvel/wreeto_official/issues/47&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Heads up:&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;AssetsNotPrecompiled&lt;/code&gt; appeared after a &lt;code&gt;docker-compose pull&lt;/code&gt; of latest image and doesn&amp;#39;t seem to go away with &lt;code&gt;rake assets:clobber&lt;/code&gt; and &lt;code&gt;rake assets:precompile&lt;/code&gt;, even If the public assets folder is removed manually with &lt;code&gt;rm -rf&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;Does anyone have any idea that might help ?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jn6qja", "is_robot_indexable": true, "report_reasons": null, "author": "cvicpp", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jn6qja/assetsnotprecompiled_not_resolved_with_clobber/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jn6qja/assetsnotprecompiled_not_resolved_with_clobber/", "subreddit_subscribers": 46463, "created_utc": 1604391948.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hey,\n\nI wrote a gem to manage sitemap, robots.txt, error pages, etc.\n\nThings to optimize SEO, you know \\^\\^ ...\n\nIt uses the \"sitemap\\_generator\" gem. \n\nI would like to have your opinions, comments and contributions on this. \n\nThe first goal is to easily and efficiently manage SEO on a Rails application. \n\nYou can find the source code here: [https://github.com/RonanLOUARN/seo\\_optimizer](https://github.com/RonanLOUARN/seo_optimizer)\n\nHave a great day!", "author_fullname": "t2_4iqcl6df", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Seo Optimizer gem", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jmmmnu", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.96, "author_flair_background_color": null, "subreddit_type": "public", "ups": 25, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 25, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1604349369.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey,&lt;/p&gt;\n\n&lt;p&gt;I wrote a gem to manage sitemap, robots.txt, error pages, etc.&lt;/p&gt;\n\n&lt;p&gt;Things to optimize SEO, you know ^^ ...&lt;/p&gt;\n\n&lt;p&gt;It uses the &amp;quot;sitemap_generator&amp;quot; gem. &lt;/p&gt;\n\n&lt;p&gt;I would like to have your opinions, comments and contributions on this. &lt;/p&gt;\n\n&lt;p&gt;The first goal is to easily and efficiently manage SEO on a Rails application. &lt;/p&gt;\n\n&lt;p&gt;You can find the source code here: &lt;a href=\"https://github.com/RonanLOUARN/seo_optimizer\"&gt;https://github.com/RonanLOUARN/seo_optimizer&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Have a great day!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jmmmnu", "is_robot_indexable": true, "report_reasons": null, "author": "ronanlouarn", "discussion_type": null, "num_comments": 0, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jmmmnu/seo_optimizer_gem/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jmmmnu/seo_optimizer_gem/", "subreddit_subscribers": 46463, "created_utc": 1604320569.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hey guys, having a really puzzling time with everyones favorite daterangepicker. I had it working completely fine, and then all of a sudden the jquery has gone haywire on me! Im hoping someone ehre has experience with this issue.\n\nIve started getting the \n\n    Uncaught TypeError: $(...).daterangepicker is not a function\n\nerror in my console, and the page breaks. I havent changed my application.js, gemfile, nor stylesheets since it was working, hoping to get some assistance here. From doing some research it seems that the function is being loaded before jquery is, but I am mystified as to why this is happening.\n\nHere are my files:\n\nStack Overflow Post: [https://stackoverflow.com/questions/64654020/uncaught-typeerror-daterangepicker-is-not-a-function-rails](https://stackoverflow.com/questions/64654020/uncaught-typeerror-daterangepicker-is-not-a-function-rails)", "author_fullname": "t2_8pcm0k9q", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "DateRangePciker and Jquery: Uncaught TypeError: $(\u2026).daterangepicker is not a function", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jmxpc2", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 3, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1604384516.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey guys, having a really puzzling time with everyones favorite daterangepicker. I had it working completely fine, and then all of a sudden the jquery has gone haywire on me! Im hoping someone ehre has experience with this issue.&lt;/p&gt;\n\n&lt;p&gt;Ive started getting the &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;Uncaught TypeError: $(...).daterangepicker is not a function\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;error in my console, and the page breaks. I havent changed my application.js, gemfile, nor stylesheets since it was working, hoping to get some assistance here. From doing some research it seems that the function is being loaded before jquery is, but I am mystified as to why this is happening.&lt;/p&gt;\n\n&lt;p&gt;Here are my files:&lt;/p&gt;\n\n&lt;p&gt;Stack Overflow Post: &lt;a href=\"https://stackoverflow.com/questions/64654020/uncaught-typeerror-daterangepicker-is-not-a-function-rails\"&gt;https://stackoverflow.com/questions/64654020/uncaught-typeerror-daterangepicker-is-not-a-function-rails&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jmxpc2", "is_robot_indexable": true, "report_reasons": null, "author": "ephemreal_loop", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jmxpc2/daterangepciker_and_jquery_uncaught_typeerror/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jmxpc2/daterangepciker_and_jquery_uncaught_typeerror/", "subreddit_subscribers": 46463, "created_utc": 1604355716.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I am deploying a new rails 6 app to a linux server. I have never seen that message before but haven't been able to figure out a way around it. I was thinking originally it was something to do with my credentials. I ran rails credentials:edit --environment production and it generated the files.\n\nHere is where I am getting confused. Is the string of characters I see in conig/credentials/production.yml.enc the secret key or is that just the contents of the file encrypted?\n\nDo I need a secret key base in that file?\n\nOn the linux server I have the /home/deploy/myapp/.rbenv-vars file with my DB info and the secret\\_key\\_base. I'm not sure I am putting the right value in this. What exactly goes there?", "author_fullname": "t2_b2i6s", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Incomplete response received from application", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jmunb9", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 3, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1604375154.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I am deploying a new rails 6 app to a linux server. I have never seen that message before but haven&amp;#39;t been able to figure out a way around it. I was thinking originally it was something to do with my credentials. I ran rails credentials:edit --environment production and it generated the files.&lt;/p&gt;\n\n&lt;p&gt;Here is where I am getting confused. Is the string of characters I see in conig/credentials/production.yml.enc the secret key or is that just the contents of the file encrypted?&lt;/p&gt;\n\n&lt;p&gt;Do I need a secret key base in that file?&lt;/p&gt;\n\n&lt;p&gt;On the linux server I have the /home/deploy/myapp/.rbenv-vars file with my DB info and the secret_key_base. I&amp;#39;m not sure I am putting the right value in this. What exactly goes there?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jmunb9", "is_robot_indexable": true, "report_reasons": null, "author": "spacerobotTR", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jmunb9/incomplete_response_received_from_application/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jmunb9/incomplete_response_received_from_application/", "subreddit_subscribers": 46463, "created_utc": 1604346354.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I have a User Model that has Organizations.  Each User will have two specific organizations (x and y) that are not to be modified in any way; Users can create more Organizations.  Would it be enough to just not show options for deletion/modification on the front-end or would I need to prevent deletion on the back-end?\nFor example, show deletion/modification buttons on the front-end for all Organizations except x and y organization.  Also on the back-end, make sure x and y can not be modified in any way in my Organization controller.", "author_fullname": "t2_fwz46", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Am I being too careful?", "link_flair_richtext": [{"e": "text", "t": "Help"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jmr89x", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 4, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Help", "can_mod_post": false, "score": 4, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1604364953.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have a User Model that has Organizations.  Each User will have two specific organizations (x and y) that are not to be modified in any way; Users can create more Organizations.  Would it be enough to just not show options for deletion/modification on the front-end or would I need to prevent deletion on the back-end?\nFor example, show deletion/modification buttons on the front-end for all Organizations except x and y organization.  Also on the back-end, make sure x and y can not be modified in any way in my Organization controller.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "eef0b990-adfb-11e4-8e15-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jmr89x", "is_robot_indexable": true, "report_reasons": null, "author": "ben53125", "discussion_type": null, "num_comments": 6, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jmr89x/am_i_being_too_careful/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jmr89x/am_i_being_too_careful/", "subreddit_subscribers": 46463, "created_utc": 1604336153.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I have a dockerized Rails app, and the nginx container with some custom config on runtime that I have setup. The setup works perfectly fine on my local machine.\n\n\nI fire up docker-compose and the nginx container pointing to the app network, everything works like a charm. I'm able to access the app at localhost instead of localhost:8000.\n\nHowever, I'm currently deploying this on AWS ECS and there's a loadbalancer with HTTPS involved here.\n\n\nThe app gets deployed and both containers are running fine, but urls that I hit are either returning a 301 Moved Permanently.\n\nHere's my default.conf\n\n\n    upstream PLACEHOLDER_BACKEND_NAME {\n    server PLACEHOLDER_BACKEND_NAME:PLACEHOLDER_BACKEND_PORT;\n    }\n    \n    server {\n    listen 80;\n    server_name www.PLACEHOLDER_VHOST;\n    return 301 https://$host$request_uri;\n    }\n    \n    server {\n    listen 80 default deferred;\n    server_name PLACEHOLDER_VHOST;\n    \n    root /PLACEHOLDER_BACKEND_NAME/public;\n    \n    # level due to Rail's asset pipeline.\n    location ~ ^/assets/ {\n    gzip_static on;\n    \n    expires max;\n    add_header Cache-Control public;\n    add_header Last-Modified \"\";\n    add_header ETag \"\";\n    }\n    \n    \n    \n    location ~ /\\. {\n    return 404;\n    access_log off;\n    log_not_found off;\n    }\n    \n    try_files $uri $uri/index.html $uri.html u/PLACEHOLDER_BACKEND_NAME;\n    \n    location = /favicon.ico {\n    try_files /favicon.ico = 204;\n    access_log off;\n    log_not_found off;\n    }\n    \n    \n    add_header Strict-Transport-Security \"max-age=31536000; includeSubDomains;\";\n    \n    \n    location u/PLACEHOLDER_BACKEND_NAME {\n    proxy_set_header X-Forwarded-Proto $scheme;\n    proxy_set_header Host $http_host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_redirect off;\n    \n    if ($http_x_forwarded_proto = \"http\") {\n    return 301 https://$host$request_uri;\n    }\n    proxy_pass http://PLACEHOLDER_BACKEND_NAME;\n    }\n    }\n\n&amp;#x200B;\n\nand here's my script that I'm running when the container starts :\n\n&amp;#x200B;\n\n    #!/usr/bin/env bash\n    \n    set -e\n    \n    PLACEHOLDER_BACKEND_NAME=\"my-api\"\n    PLACEHOLDER_BACKEND_PORT=\"8000\"\n    \n    \n    PLACEHOLDER_VHOST=\"$(curl http://169.254.169.254/latest/meta-data/public-hostname)\"\n    \n    \n    DEFAULT_CONFIG_PATH=\"/etc/nginx/conf.d/default.conf\"\n    \n    sed -i \"s/PLACEHOLDER_VHOST/${PLACEHOLDER_VHOST}/g\" \"${DEFAULT_CONFIG_PATH}\"\n    sed -i \"s/PLACEHOLDER_BACKEND_NAME/${PLACEHOLDER_BACKEND_NAME}/g\" \"${DEFAULT_CONFIG_PATH}\"\n    sed -i \"s/PLACEHOLDER_BACKEND_PORT/${PLACEHOLDER_BACKEND_PORT}/g\" \"${DEFAULT_CONFIG_PATH}\"\n    \n    # Execute the CMD from the Dockerfile and pass in all of its arguments.\n    exec \"$@\"\n\n&amp;#x200B;\n\nI even tried setting PLACEHOLDER\\_VHOST in the script to my ELB public DNS but to no avail. What could be the issue here?", "author_fullname": "t2_6fdh8v50", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Rails app working with nginx locally, but redirecting 301 when deployed to EC2", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jmlm7x", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.9, "author_flair_background_color": null, "subreddit_type": "public", "ups": 7, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 7, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1604344416.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have a dockerized Rails app, and the nginx container with some custom config on runtime that I have setup. The setup works perfectly fine on my local machine.&lt;/p&gt;\n\n&lt;p&gt;I fire up docker-compose and the nginx container pointing to the app network, everything works like a charm. I&amp;#39;m able to access the app at localhost instead of localhost:8000.&lt;/p&gt;\n\n&lt;p&gt;However, I&amp;#39;m currently deploying this on AWS ECS and there&amp;#39;s a loadbalancer with HTTPS involved here.&lt;/p&gt;\n\n&lt;p&gt;The app gets deployed and both containers are running fine, but urls that I hit are either returning a 301 Moved Permanently.&lt;/p&gt;\n\n&lt;p&gt;Here&amp;#39;s my default.conf&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;upstream PLACEHOLDER_BACKEND_NAME {\nserver PLACEHOLDER_BACKEND_NAME:PLACEHOLDER_BACKEND_PORT;\n}\n\nserver {\nlisten 80;\nserver_name www.PLACEHOLDER_VHOST;\nreturn 301 https://$host$request_uri;\n}\n\nserver {\nlisten 80 default deferred;\nserver_name PLACEHOLDER_VHOST;\n\nroot /PLACEHOLDER_BACKEND_NAME/public;\n\n# level due to Rail&amp;#39;s asset pipeline.\nlocation ~ ^/assets/ {\ngzip_static on;\n\nexpires max;\nadd_header Cache-Control public;\nadd_header Last-Modified &amp;quot;&amp;quot;;\nadd_header ETag &amp;quot;&amp;quot;;\n}\n\n\n\nlocation ~ /\\. {\nreturn 404;\naccess_log off;\nlog_not_found off;\n}\n\ntry_files $uri $uri/index.html $uri.html u/PLACEHOLDER_BACKEND_NAME;\n\nlocation = /favicon.ico {\ntry_files /favicon.ico = 204;\naccess_log off;\nlog_not_found off;\n}\n\n\nadd_header Strict-Transport-Security &amp;quot;max-age=31536000; includeSubDomains;&amp;quot;;\n\n\nlocation u/PLACEHOLDER_BACKEND_NAME {\nproxy_set_header X-Forwarded-Proto $scheme;\nproxy_set_header Host $http_host;\nproxy_set_header X-Real-IP $remote_addr;\nproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\nproxy_redirect off;\n\nif ($http_x_forwarded_proto = &amp;quot;http&amp;quot;) {\nreturn 301 https://$host$request_uri;\n}\nproxy_pass http://PLACEHOLDER_BACKEND_NAME;\n}\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;and here&amp;#39;s my script that I&amp;#39;m running when the container starts :&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;#!/usr/bin/env bash\n\nset -e\n\nPLACEHOLDER_BACKEND_NAME=&amp;quot;my-api&amp;quot;\nPLACEHOLDER_BACKEND_PORT=&amp;quot;8000&amp;quot;\n\n\nPLACEHOLDER_VHOST=&amp;quot;$(curl http://169.254.169.254/latest/meta-data/public-hostname)&amp;quot;\n\n\nDEFAULT_CONFIG_PATH=&amp;quot;/etc/nginx/conf.d/default.conf&amp;quot;\n\nsed -i &amp;quot;s/PLACEHOLDER_VHOST/${PLACEHOLDER_VHOST}/g&amp;quot; &amp;quot;${DEFAULT_CONFIG_PATH}&amp;quot;\nsed -i &amp;quot;s/PLACEHOLDER_BACKEND_NAME/${PLACEHOLDER_BACKEND_NAME}/g&amp;quot; &amp;quot;${DEFAULT_CONFIG_PATH}&amp;quot;\nsed -i &amp;quot;s/PLACEHOLDER_BACKEND_PORT/${PLACEHOLDER_BACKEND_PORT}/g&amp;quot; &amp;quot;${DEFAULT_CONFIG_PATH}&amp;quot;\n\n# Execute the CMD from the Dockerfile and pass in all of its arguments.\nexec &amp;quot;$@&amp;quot;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;I even tried setting PLACEHOLDER_VHOST in the script to my ELB public DNS but to no avail. What could be the issue here?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jmlm7x", "is_robot_indexable": true, "report_reasons": null, "author": "InternalLuck", "discussion_type": null, "num_comments": 5, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jmlm7x/rails_app_working_with_nginx_locally_but/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jmlm7x/rails_app_working_with_nginx_locally_but/", "subreddit_subscribers": 46463, "created_utc": 1604315616.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_jmlm7x", "before": null}}