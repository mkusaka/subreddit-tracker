# rust
## [1][Hey Rustaceans! Got an easy question? Ask here (3/2020)!](https://www.reddit.com/r/rust/comments/eo6pjy/hey_rustaceans_got_an_easy_question_ask_here_32020/)
- url: https://www.reddit.com/r/rust/comments/eo6pjy/hey_rustaceans_got_an_easy_question_ask_here_32020/
---
Mystified about strings? Borrow checker have you in a headlock? Seek help here! There are no stupid questions, only docs that haven't been written yet.

If you have a [StackOverflow](http://stackoverflow.com/) account, consider asking it there instead! StackOverflow shows up much higher in search results, so having your question there also helps future Rust users (be sure to give it [the "Rust" tag](http://stackoverflow.com/questions/tagged/rust) for maximum visibility). Note that this site is very interested in question quality. I've been asked to read a RFC I authored once. If you want your code reviewed or review other's code, there's a [codereview stackexchange](https://codereview.stackexchange.com/questions/tagged/rust), too. If you need to test your code, maybe [the Rust playground](https://play.rust-lang.org) is for you.

Here are some other venues where help may be found:

[/r/learnrust](https://www.reddit.com/r/learnrust) is a subreddit to share your questions and epiphanies learning Rust programming.

The official Rust user forums: [https://users.rust-lang.org/](https://users.rust-lang.org/).

The official Rust Programming Language Discord: [https://discord.gg/rust-lang](https://discord.gg/rust-lang)

The unofficial Rust community Discord: [https://bit.ly/rust-community](https://bit.ly/rust-community)

The Rust-related IRC channels on irc.mozilla.org (click the links to open a web-based IRC client):

 - [#rust](https://chat.mibbit.com/?server=irc.mozilla.org%3A%2B6697&amp;amp;channel=%23rust) (general questions)
 - [#rust-beginners](https://chat.mibbit.com/?server=irc.mozilla.org%3A%2B6697&amp;amp;channel=%23rust-beginners) (beginner questions)
 - [#cargo](https://chat.mibbit.com/?server=irc.mozilla.org%3A%2B6697&amp;amp;channel=%23cargo) (the package manager)
 - [#rust-gamedev](https://chat.mibbit.com/?server=irc.mozilla.org%3A%2B6697&amp;amp;channel=%23rust-gamedev) (graphics and video games, and see also [/r/rust_gamedev](https://www.reddit.com/r/rust_gamedev))
 - [#rust-osdev](https://chat.mibbit.com/?server=irc.mozilla.org%3A%2B6697&amp;amp;channel=%23rust-osdev) (operating systems and embedded systems)
 - [#rust-webdev](https://chat.mibbit.com/?server=irc.mozilla.org%3A%2B6697&amp;amp;channel=%23rust-webdev) (web development)
 - [#rust-networking](https://chat.mibbit.com/?server=irc.mozilla.org%3A%2B6697&amp;amp;channel=%23rust-networking) (computer networking, and see also [/r/rust_networking](https://www.reddit.com/r/rust_networking))

Also check out [last week's thread](https://reddit.com/r/rust/comments/ekpqp7/hey_rustaceans_got_an_easy_question_ask_here/) with many good questions and answers. And if you believe your question to be either very complex or worthy of larger dissemination, feel free to create a text post.

Also if you want to be mentored by experienced Rustaceans, tell us the area of expertise that you seek.
## [2][What's everyone working on this week (3/2020)?](https://www.reddit.com/r/rust/comments/eo6qjo/whats_everyone_working_on_this_week_32020/)
- url: https://www.reddit.com/r/rust/comments/eo6qjo/whats_everyone_working_on_this_week_32020/
---
New week, new Rust! What are you folks up to? Answer here or over at [rust-users](https://users.rust-lang.org/t/whats-everyone-working-on-this-week-3-2020/36867?u=llogiq)!
## [3][Response from bjorn3 on "Cranelift backend for Rust"](https://www.reddit.com/r/rust/comments/eojzjr/response_from_bjorn3_on_cranelift_backend_for_rust/)
- url: https://github.com/bjorn3/rustc_codegen_cranelift/issues/863
---

## [4][The ASM Working Group has submitted their first draft of the RFC for stable inline assembly](https://www.reddit.com/r/rust/comments/eo9pks/the_asm_working_group_has_submitted_their_first/)
- url: https://github.com/rust-lang/rfcs/pull/2850
---

## [5][Can you recommend me a good rust crate for encoding mp3 from raw audio buffer?](https://www.reddit.com/r/rust/comments/eoje0v/can_you_recommend_me_a_good_rust_crate_for/)
- url: https://www.reddit.com/r/rust/comments/eoje0v/can_you_recommend_me_a_good_rust_crate_for/
---
I could only find decoding libraries. The final plan is to use it in the browser via WebAssembly and record from the microphone and get an mp3 from that.

Thanks in advance!
## [6][rust-analyzer changelog #7 (with binary releases!)](https://www.reddit.com/r/rust/comments/eo5bs2/rustanalyzer_changelog_7_with_binary_releases/)
- url: https://rust-analyzer.github.io/thisweek/2020/01/13/changelog-7.html
---

## [7][Animation in Rust?](https://www.reddit.com/r/rust/comments/eofqhy/animation_in_rust/)
- url: https://www.reddit.com/r/rust/comments/eofqhy/animation_in_rust/
---
Recently a friend of mine advised me to learn Rust, and I did. It was the best thing ever, C++ with smarter compiler. However, I'm currently working on a project and I want to create animation videos like [3b1b](https://www.youtube.com/channel/UCYO_jab_esuFRV4b17AJtAw). He uses a python library and he is the creator of it, it's called [manim](https://github.com/3b1b/manim). And I don't really like python. So the question here: is there is any library could do that or something close, and if it's not, any ideas how could I implement something like that in Rust (Yeah, I would build it from scratch rather than using python)?  


I hope it's the right subreddit, thanks in advance.
## [8][What's New in Rust 1.40 [Rustacean Station Podcast]](https://www.reddit.com/r/rust/comments/eodj5d/whats_new_in_rust_140_rustacean_station_podcast/)
- url: https://rustacean-station.org/episode/010-rust-1.40.0/
---

## [9][Oxygengine gets JavaScript scripting interface to allow faster prototyping of games](https://www.reddit.com/r/rust/comments/eojr9d/oxygengine_gets_javascript_scripting_interface_to/)
- url: https://i.redd.it/ohi0mtxu4qa41.png
---

## [10][Mercurial's Journey to and Reflections on Python 3](https://www.reddit.com/r/rust/comments/eof2nx/mercurials_journey_to_and_reflections_on_python_3/)
- url: https://gregoryszorc.com/blog/2020/01/13/mercurial%27s-journey-to-and-reflections-on-python-3/
---

## [11][The Rust Programming Language on typeracer](https://www.reddit.com/r/rust/comments/eo5uxk/the_rust_programming_language_on_typeracer/)
- url: https://i.redd.it/oa1v60eshka41.png
---

## [12][Futures &amp; Pinning 101](https://www.reddit.com/r/rust/comments/eo7u4o/futures_pinning_101/)
- url: https://www.reddit.com/r/rust/comments/eo7u4o/futures_pinning_101/
---
A list of best practices from tomaka.

I thought it would be useful to people outside of Parity, too.  
He allowed me to post it here and share all the info with you.

---

For people who are not super confident within Futures and pinning (which includes me), here's a 101 guide:

- As a reminder, the way it works is: you create a `Future`, move it around if you want, then you pin it, then you start polling it. If a `Future` implements `Unpin` then you can pin it, poll it, unpin it, move it, pin it again, poll it, unpin it, move it, and so on. If a `Future` does not implement `Unpin`, then you need to pin it once and keep it pinned forever.

- It almost never makes sense to use `Box&lt;dyn Future&gt;` rather than `Pin&lt;Box&lt;dyn Future&gt;&gt;`. Use `Box::pin(fut)` rather than `Box::new(fut)`.

- Returning `-&gt; impl Future + Unpin` from a function is okay-ish, but means that for instance that you can't use `async`/`await` within the function unless you put `Box::pin` around your `async` block (which is an overhead). I think it's preferable for the caller (rather than the callee) to decide how the returned `Future` should be pinned. By enforcing that `Future` implement `Unpin`, I can totally imagine situations where we end up boxing a future multiple times because of misunderstandings.

- If you're writing a struct that wraps around a `Future` (e.g. similar to the combinators that are in the `futures` crate), you can use the `pin-utils` crate to safely turn a `Pin&lt;&amp;mut MyStruct&gt;` into a `Pin&lt;&amp;mut FutureThatIsInsideMyStruct&gt;`. Don't try too hard though. Worst case scenario, just put a `Pin&lt;Box&lt;&gt;&gt;` around the culprit.

- On that topic: pinning a `Future` doesn't mean you have to turn it into a `Pin&lt;Box&lt;dyn Future&gt;&gt;`. It can also be `Pin&lt;Box&lt;F&gt;&gt;` if you know what `F` is.

- You can pin a `Future` to the stack using `futures::pin_mut!`. I've found that particularly useful in the context of `future::select` within `async` blocks. This function requires its parameters to be `Unpin`, and that can be solved by passing pinned versions of your futures.

- Everything above is applicable to `Stream` and `Sink`. For `AsyncRead`/`AsyncWrite` it is a bit more debatable. Since you generally want to pass around references to `AsyncRead`/`AsyncWrite`-implementing objects so that functions can read/write a bit and then return, it makes sense to me to require `+ Unpin` on them. I'm very uncertain about this point.

- If you write `struct Foo&lt;T&gt;`, the compiler automatically generates `impl&lt;T: Unpin&gt; Unpin for Foo&lt;T&gt;`. This means that you sometimes need to manually add `impl&lt;T&gt; Unpin for Foo&lt;T&gt; {}`. As long as you're not using `unsafe` code, it's never wrong to write this. (this problem is similar to when you're deriving `Clone` on a struct that contains an `Arc&lt;T&gt;`, and the compiler enforces `T: Clone` for no reason).
