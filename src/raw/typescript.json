{"kind": "Listing", "data": {"modhash": "", "dist": 11, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "The monthly thread for people to post openings at their companies.\n\n* Please state the job location and include the keywords REMOTE, INTERNS and/or VISA when the corresponding sort of candidate is welcome. When remote work is not an option, include ONSITE.\n\n* Please only post if you personally are part of the hiring company\u2014no recruiting firms or job boards **Please report recruiters or job boards**. \n\n* Only one post per company. \n\n* If it isn't a household name, explain what your company does. Sell it.\n\n* Please add the company email that applications should be sent to, or the companies application web form/job posting (needless to say this should be on the company website, not a third party site).\n\n\nCommenters: please don't reply to job posts to complain about something. It's off topic here.\n\nReaders: please only email if you are personally interested in the job. \n\nPosting top level comments that aren't job postings, [that's a paddlin](https://i.imgur.com/FxMKfnY.jpg)\n\n[Previous Hiring Threads](https://www.reddit.com/r/typescript/search?sort=new&amp;restrict_sr=on&amp;q=flair%3AMonthly%2BHiring%2BThread)", "author_fullname": "t2_6l4z3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Who's hiring Typescript developers - November", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": "monthly-hiring", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_jlsywo", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.97, "author_flair_background_color": null, "subreddit_type": "public", "ups": 37, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Monthly Hiring Thread", "can_mod_post": false, "score": 37, "approved_by": null, "author_premium": true, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1604217975.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;The monthly thread for people to post openings at their companies.&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;Please state the job location and include the keywords REMOTE, INTERNS and/or VISA when the corresponding sort of candidate is welcome. When remote work is not an option, include ONSITE.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Please only post if you personally are part of the hiring company\u2014no recruiting firms or job boards &lt;strong&gt;Please report recruiters or job boards&lt;/strong&gt;. &lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Only one post per company. &lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;If it isn&amp;#39;t a household name, explain what your company does. Sell it.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Please add the company email that applications should be sent to, or the companies application web form/job posting (needless to say this should be on the company website, not a third party site).&lt;/p&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Commenters: please don&amp;#39;t reply to job posts to complain about something. It&amp;#39;s off topic here.&lt;/p&gt;\n\n&lt;p&gt;Readers: please only email if you are personally interested in the job. &lt;/p&gt;\n\n&lt;p&gt;Posting top level comments that aren&amp;#39;t job postings, &lt;a href=\"https://i.imgur.com/FxMKfnY.jpg\"&gt;that&amp;#39;s a paddlin&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://www.reddit.com/r/typescript/search?sort=new&amp;amp;restrict_sr=on&amp;amp;q=flair%3AMonthly%2BHiring%2BThread\"&gt;Previous Hiring Threads&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/VyGnlbKCiZgJWJ1wbp_MHOxxVM8sKYuGRykp5LnDnGo.jpg?auto=webp&amp;s=e7ed7da8371b4e16c167355386ca2a5744ead415", "width": 500, "height": 361}, "resolutions": [{"url": "https://external-preview.redd.it/VyGnlbKCiZgJWJ1wbp_MHOxxVM8sKYuGRykp5LnDnGo.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=66a18e0a3c52817ab852fa4b7c250a55c579d165", "width": 108, "height": 77}, {"url": "https://external-preview.redd.it/VyGnlbKCiZgJWJ1wbp_MHOxxVM8sKYuGRykp5LnDnGo.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=2025ba1460e8c8c9834f11cb40ba4e3832a2d3e9", "width": 216, "height": 155}, {"url": "https://external-preview.redd.it/VyGnlbKCiZgJWJ1wbp_MHOxxVM8sKYuGRykp5LnDnGo.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=3329109c390c2bd989b508c72a7ebf0d2bad3697", "width": 320, "height": 231}], "variants": {}, "id": "L_ccfLuUd62HPSmub7C2gCgZ5motXBmWQ__1MAuL6is"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jlsywo", "is_robot_indexable": true, "report_reasons": null, "author": "AutoModerator", "discussion_type": null, "num_comments": 25, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": true, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/jlsywo/whos_hiring_typescript_developers_november/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/typescript/comments/jlsywo/whos_hiring_typescript_developers_november/", "subreddit_subscribers": 52440, "created_utc": 1604189175.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "A service that is supposed to deliver a list of data somewhat lazily crunches an important field into an array of results. I'm writing a utility script to more properly create multiple rows with one property per row, for that particular field.\n\nFor little scripts like this do you guys feel content to use ts-node to skip the compile step or do you prefer compiling for everything? I lean towards ts-node being fine but wanted to ask.", "author_fullname": "t2_3ob6osi0", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Any reason not to use ts-node for local utility scripts?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_ju90sy", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.91, "author_flair_background_color": null, "subreddit_type": "public", "ups": 22, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 22, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1605415688.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;A service that is supposed to deliver a list of data somewhat lazily crunches an important field into an array of results. I&amp;#39;m writing a utility script to more properly create multiple rows with one property per row, for that particular field.&lt;/p&gt;\n\n&lt;p&gt;For little scripts like this do you guys feel content to use ts-node to skip the compile step or do you prefer compiling for everything? I lean towards ts-node being fine but wanted to ask.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "ju90sy", "is_robot_indexable": true, "report_reasons": null, "author": "embar5", "discussion_type": null, "num_comments": 23, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/ju90sy/any_reason_not_to_use_tsnode_for_local_utility/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/ju90sy/any_reason_not_to_use_tsnode_for_local_utility/", "subreddit_subscribers": 52440, "created_utc": 1605386888.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "This is a very contrived example so please bear with me:\n\nI have a function `foo`. It takes an object of this type as its parameters \n```ts\ninterface Foo {\n  bar: number,\n  baz: number,\n  enabled?: boolean,\n}\n```\nWhen `enabled` is not provided by the user or when it is false, `foo` would return an object of type `Result`\n```ts\ninterface Result {\n  result: number\n}\n```\nso it just adds these two numbers as in\n```ts\n\nfunction foo({bar, baz}: Foo): Result {\n  return {\n    result: bar + baz\n  }\n}\n\n```\n\nHere is the question: When `enabled` is provide in the params and it is set to `true`, I want the function returns another type of result, where it has another field `isEqual`, which indicates if `bar` and `baz` is equal. so like \n```ts\ninterface AnotherResult {\n   result : number,\n   isEqual: boolean\n}\n``` \n\nHere is how we can use this function\n```ts\nconst {result} = foo({baz: 1, bar: 2})\n\n// or\n\nconst {result, isEqual} = foo({baz: 1, bar: 2, enabled: true})\n```\n\nIdeally when the user include `enabled: true` in the params to `foo`, they can destructure  `isEqual` from the return value of `foo` and when they don't provide `enabled` or set `enabled: false`, they **cannot** destructure  `isEqual` from the return value of `foo`.\n\nBelow is my attempt. It doesn't fulfill the use case and I couldn't think of a way to dynamically determine the return value's type based on the params. I wonder if that is even possible with TypeScript\n\n```ts\nnterface Foo {\n  bar: number,\n  baz: number,\n  enabled?: boolean,\n}\n\ninterface Result {\n  result: number\n}\n\ninterface IsEqual {\n  isEqual: boolean\n}\n\ntype ResultWithIsEqualEnabled = Result &amp; IsEqual\n\n\nfunction foo({bar, baz, enabled = false}: Foo): ResultWithIsEqualEnabled {\n  return {\n    result: bar + baz\n  }\n}\n\n```", "author_fullname": "t2_5aug94f9", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Is there a way to type a function so that it returns different types of results dynamically according to it params?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_juegyk", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.75, "author_flair_background_color": null, "subreddit_type": "public", "ups": 4, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 4, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1605436579.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;This is a very contrived example so please bear with me:&lt;/p&gt;\n\n&lt;p&gt;I have a function &lt;code&gt;foo&lt;/code&gt;. It takes an object of this type as its parameters \n&lt;code&gt;ts\ninterface Foo {\n  bar: number,\n  baz: number,\n  enabled?: boolean,\n}\n&lt;/code&gt;\nWhen &lt;code&gt;enabled&lt;/code&gt; is not provided by the user or when it is false, &lt;code&gt;foo&lt;/code&gt; would return an object of type &lt;code&gt;Result&lt;/code&gt;\n&lt;code&gt;ts\ninterface Result {\n  result: number\n}\n&lt;/code&gt;\nso it just adds these two numbers as in\n```ts&lt;/p&gt;\n\n&lt;p&gt;function foo({bar, baz}: Foo): Result {\n  return {\n    result: bar + baz\n  }\n}&lt;/p&gt;\n\n&lt;p&gt;```&lt;/p&gt;\n\n&lt;p&gt;Here is the question: When &lt;code&gt;enabled&lt;/code&gt; is provide in the params and it is set to &lt;code&gt;true&lt;/code&gt;, I want the function returns another type of result, where it has another field &lt;code&gt;isEqual&lt;/code&gt;, which indicates if &lt;code&gt;bar&lt;/code&gt; and &lt;code&gt;baz&lt;/code&gt; is equal. so like \n&lt;code&gt;ts\ninterface AnotherResult {\n   result : number,\n   isEqual: boolean\n}\n&lt;/code&gt; &lt;/p&gt;\n\n&lt;p&gt;Here is how we can use this function\n```ts\nconst {result} = foo({baz: 1, bar: 2})&lt;/p&gt;\n\n&lt;p&gt;// or&lt;/p&gt;\n\n&lt;p&gt;const {result, isEqual} = foo({baz: 1, bar: 2, enabled: true})\n```&lt;/p&gt;\n\n&lt;p&gt;Ideally when the user include &lt;code&gt;enabled: true&lt;/code&gt; in the params to &lt;code&gt;foo&lt;/code&gt;, they can destructure  &lt;code&gt;isEqual&lt;/code&gt; from the return value of &lt;code&gt;foo&lt;/code&gt; and when they don&amp;#39;t provide &lt;code&gt;enabled&lt;/code&gt; or set &lt;code&gt;enabled: false&lt;/code&gt;, they &lt;strong&gt;cannot&lt;/strong&gt; destructure  &lt;code&gt;isEqual&lt;/code&gt; from the return value of &lt;code&gt;foo&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;Below is my attempt. It doesn&amp;#39;t fulfill the use case and I couldn&amp;#39;t think of a way to dynamically determine the return value&amp;#39;s type based on the params. I wonder if that is even possible with TypeScript&lt;/p&gt;\n\n&lt;p&gt;```ts\nnterface Foo {\n  bar: number,\n  baz: number,\n  enabled?: boolean,\n}&lt;/p&gt;\n\n&lt;p&gt;interface Result {\n  result: number\n}&lt;/p&gt;\n\n&lt;p&gt;interface IsEqual {\n  isEqual: boolean\n}&lt;/p&gt;\n\n&lt;p&gt;type ResultWithIsEqualEnabled = Result &amp;amp; IsEqual&lt;/p&gt;\n\n&lt;p&gt;function foo({bar, baz, enabled = false}: Foo): ResultWithIsEqualEnabled {\n  return {\n    result: bar + baz\n  }\n}&lt;/p&gt;\n\n&lt;p&gt;```&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "juegyk", "is_robot_indexable": true, "report_reasons": null, "author": "zhenghao17", "discussion_type": null, "num_comments": 4, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/juegyk/is_there_a_way_to_type_a_function_so_that_it/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/juegyk/is_there_a_way_to_type_a_function_so_that_it/", "subreddit_subscribers": 52440, "created_utc": 1605407779.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "Right now I'm doing this and it feels redundant. The import is from a .js file.\n\n    import { theme } from '../path/to/themes/index.js';\n    \n    const Theme: Record&lt;string, any&gt; = theme;\n    \n    const App = () =&gt; {\n        const themeName = useSelector(state =&gt; state.Theme.themeName)\n    \n        console.log(Theme[themeName].color.red);\n    \n        return null;\n    }\n\nif I don't declare `Theme` with `Record&lt;string, any&gt;`, it will give me an error\n\n    Element implicitly has an 'any' type because expression of type 'string' can't be used to index type\n\nIt's not a big deal, but was wondering that extra declaration is mandatory.", "author_fullname": "t2_otc9e", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Is there a way to type imports?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_juhwkv", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.64, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 3, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1605452732.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Right now I&amp;#39;m doing this and it feels redundant. The import is from a .js file.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;import { theme } from &amp;#39;../path/to/themes/index.js&amp;#39;;\n\nconst Theme: Record&amp;lt;string, any&amp;gt; = theme;\n\nconst App = () =&amp;gt; {\n    const themeName = useSelector(state =&amp;gt; state.Theme.themeName)\n\n    console.log(Theme[themeName].color.red);\n\n    return null;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;if I don&amp;#39;t declare &lt;code&gt;Theme&lt;/code&gt; with &lt;code&gt;Record&amp;lt;string, any&amp;gt;&lt;/code&gt;, it will give me an error&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;Element implicitly has an &amp;#39;any&amp;#39; type because expression of type &amp;#39;string&amp;#39; can&amp;#39;t be used to index type\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It&amp;#39;s not a big deal, but was wondering that extra declaration is mandatory.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "juhwkv", "is_robot_indexable": true, "report_reasons": null, "author": "eggtart_prince", "discussion_type": null, "num_comments": 5, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/juhwkv/is_there_a_way_to_type_imports/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/juhwkv/is_there_a_way_to_type_imports/", "subreddit_subscribers": 52440, "created_utc": 1605423932.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "Hi, I'm about to start a project for a service that I'd like to optimise for heavy traffic and database queries, while still running in NodeJS (TypeScript + Fastify) as it is high performance and easier to find contributors.\n\nI usually work on serverless environments so DynamoDB and Athena are my choices when it comes to persistent data. However, for this project I will need Postgresql as the project should not depend on AWS.\n\nI am looking at sql builders or other libraries helping with sql. My preference would be to write statements myself but I don't want to write raw sqls because of sql injections.\n\nI've looked into TypeORM, Klex and Sequelize.  I have to say I'm not impressed by any of them. The first is too magic, the second and the third are somewhat lacking in TypeScript support.\n\nWhat do you use for sql in your backend projects?\n\nCheers!", "author_fullname": "t2_5x8039yp", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Database connector", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_juc9o9", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.86, "author_flair_background_color": null, "subreddit_type": "public", "ups": 5, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 5, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1605427756.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi, I&amp;#39;m about to start a project for a service that I&amp;#39;d like to optimise for heavy traffic and database queries, while still running in NodeJS (TypeScript + Fastify) as it is high performance and easier to find contributors.&lt;/p&gt;\n\n&lt;p&gt;I usually work on serverless environments so DynamoDB and Athena are my choices when it comes to persistent data. However, for this project I will need Postgresql as the project should not depend on AWS.&lt;/p&gt;\n\n&lt;p&gt;I am looking at sql builders or other libraries helping with sql. My preference would be to write statements myself but I don&amp;#39;t want to write raw sqls because of sql injections.&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;ve looked into TypeORM, Klex and Sequelize.  I have to say I&amp;#39;m not impressed by any of them. The first is too magic, the second and the third are somewhat lacking in TypeScript support.&lt;/p&gt;\n\n&lt;p&gt;What do you use for sql in your backend projects?&lt;/p&gt;\n\n&lt;p&gt;Cheers!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "juc9o9", "is_robot_indexable": true, "report_reasons": null, "author": "dipasqualew", "discussion_type": null, "num_comments": 10, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/juc9o9/database_connector/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/juc9o9/database_connector/", "subreddit_subscribers": 52440, "created_utc": 1605398956.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "", "author_fullname": "t2_o32kd", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Why do I get \"Object is possibly 'undefined'\"?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": 75, "top_awarded_type": null, "hide_score": false, "name": "t3_jtznnp", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.9, "author_flair_background_color": null, "subreddit_type": "public", "ups": 42, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": 140, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": true, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 42, "approved_by": null, "author_premium": false, "thumbnail": "spoiler", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "image", "content_categories": null, "is_self": false, "mod_note": null, "created": 1605376397.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "i.redd.it", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://i.redd.it/40hy3jwyg6z51.png", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://preview.redd.it/40hy3jwyg6z51.png?auto=webp&amp;s=664faa9aa7dc512f9827686a7c0700ccbefe4561", "width": 681, "height": 368}, "resolutions": [{"url": "https://preview.redd.it/40hy3jwyg6z51.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=8881d03219f4b584042c32d35344782466f7e69e", "width": 108, "height": 58}, {"url": "https://preview.redd.it/40hy3jwyg6z51.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=1954588527dcaed844fb2cbf2f0bac7a9ca33abb", "width": 216, "height": 116}, {"url": "https://preview.redd.it/40hy3jwyg6z51.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=fac4b4b406068620f8760f45edf9c608d383f67d", "width": 320, "height": 172}, {"url": "https://preview.redd.it/40hy3jwyg6z51.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=933fe9fd940135e935e420953a59fb2efbd531f6", "width": 640, "height": 345}], "variants": {"obfuscated": {"source": {"url": "https://preview.redd.it/40hy3jwyg6z51.png?blur=40&amp;format=pjpg&amp;auto=webp&amp;s=2e1170146f3d28db2d3007d842619705302e029a", "width": 681, "height": 368}, "resolutions": [{"url": "https://preview.redd.it/40hy3jwyg6z51.png?width=108&amp;crop=smart&amp;blur=10&amp;format=pjpg&amp;auto=webp&amp;s=f4c0c8610b53f6cfeef33d104cadd7b1a056e2e9", "width": 108, "height": 58}, {"url": "https://preview.redd.it/40hy3jwyg6z51.png?width=216&amp;crop=smart&amp;blur=21&amp;format=pjpg&amp;auto=webp&amp;s=09e8809a452116e1cf9e7236095efca4745a1c4b", "width": 216, "height": 116}, {"url": "https://preview.redd.it/40hy3jwyg6z51.png?width=320&amp;crop=smart&amp;blur=32&amp;format=pjpg&amp;auto=webp&amp;s=556ccf0ab48b51f13bd41343d4104c6b7cc85ada", "width": 320, "height": 172}, {"url": "https://preview.redd.it/40hy3jwyg6z51.png?width=640&amp;crop=smart&amp;blur=40&amp;format=pjpg&amp;auto=webp&amp;s=a793cc4a1eaff5f50b0092200c16dd19720c8768", "width": 640, "height": 345}]}}, "id": "k-GScN5754-SRzBUqubOQS4yFva_OBnpiVr8AzvToq4"}], "enabled": true}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": true, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jtznnp", "is_robot_indexable": true, "report_reasons": null, "author": "jogai-san", "discussion_type": null, "num_comments": 48, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/jtznnp/why_do_i_get_object_is_possibly_undefined/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://i.redd.it/40hy3jwyg6z51.png", "subreddit_subscribers": 52440, "created_utc": 1605347597.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "Which one is better? Mapping each individually, checking for undefined on optional properties and parsing it like:\n\nConst user : User { ... }\n\n\n\nor just do this:\n\n\nConst user = JSON.parse(req.body.user) as User\n\n\n0r am I doing this entirely wrong lol", "author_fullname": "t2_4mq1lce0", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Parsing JSON to typescript interface?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_ju5zlr", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.75, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1605405099.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Which one is better? Mapping each individually, checking for undefined on optional properties and parsing it like:&lt;/p&gt;\n\n&lt;p&gt;Const user : User { ... }&lt;/p&gt;\n\n&lt;p&gt;or just do this:&lt;/p&gt;\n\n&lt;p&gt;Const user = JSON.parse(req.body.user) as User&lt;/p&gt;\n\n&lt;p&gt;0r am I doing this entirely wrong lol&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "ju5zlr", "is_robot_indexable": true, "report_reasons": null, "author": "humm1010", "discussion_type": null, "num_comments": 10, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/ju5zlr/parsing_json_to_typescript_interface/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/ju5zlr/parsing_json_to_typescript_interface/", "subreddit_subscribers": 52440, "created_utc": 1605376299.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "&amp;#x200B;\n\nhttps://preview.redd.it/qkatakpqy7z51.png?width=832&amp;format=png&amp;auto=webp&amp;s=ae59555d1985b09c3405790e4bfd4c0891db1772\n\nthe object data only have two fields but typescript report this error is \"data\\[k\\]\" never?", "author_fullname": "t2_8vz3h92j", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Why do I got \"Type 'string | number' is not assignable to type 'never'. Type 'string' is not assignable to type 'never'. \" it's make me misleading", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": 52, "top_awarded_type": null, "hide_score": false, "media_metadata": {"qkatakpqy7z51": {"status": "valid", "e": "Image", "m": "image/png", "p": [{"y": 40, "x": 108, "u": "https://preview.redd.it/qkatakpqy7z51.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=d02a51a5111902684467d6199ab21bea545aaef3"}, {"y": 81, "x": 216, "u": "https://preview.redd.it/qkatakpqy7z51.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=99844f976b7c3c98b426e4563499b60314d05bdc"}, {"y": 120, "x": 320, "u": "https://preview.redd.it/qkatakpqy7z51.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=de205429f4a217509713da026e4eaac4891e8f80"}, {"y": 240, "x": 640, "u": "https://preview.redd.it/qkatakpqy7z51.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=e0ea8582a046fdbd66002f3fa35a25b5d1f04241"}], "s": {"y": 312, "x": 832, "u": "https://preview.redd.it/qkatakpqy7z51.png?width=832&amp;format=png&amp;auto=webp&amp;s=ae59555d1985b09c3405790e4bfd4c0891db1772"}, "id": "qkatakpqy7z51"}}, "name": "t3_ju34f0", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.75, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": 140, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "https://b.thumbs.redditmedia.com/eW_XwaVEnWR5pwhzXj9MapWOAyZBKrUFqiJCi2oMh4c.jpg", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1605394556.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://preview.redd.it/qkatakpqy7z51.png?width=832&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=ae59555d1985b09c3405790e4bfd4c0891db1772\"&gt;https://preview.redd.it/qkatakpqy7z51.png?width=832&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=ae59555d1985b09c3405790e4bfd4c0891db1772&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;the object data only have two fields but typescript report this error is &amp;quot;data[k]&amp;quot; never?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "ju34f0", "is_robot_indexable": true, "report_reasons": null, "author": "makmav", "discussion_type": null, "num_comments": 8, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/ju34f0/why_do_i_got_type_string_number_is_not_assignable/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/ju34f0/why_do_i_got_type_string_number_is_not_assignable/", "subreddit_subscribers": 52440, "created_utc": 1605365756.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "Guys. I have a tricky TS question. I tried to distill it as much as possible...\n \nI have an object of this type\n```ts\ninterface Obj {\n  key1: SubType1;\n  key2: SubType2;\n}\n```\nWhere `SubType1` and `SubType2` are all given. \n```ts\ntype Name = \"LOL\" | \"HAHA\";\ntype Statu = \"Active\" | \"Inactive\";\ninterface SubType1 {\n  key: {\n    name: Name;\n  };\n}\ninterface SubType2 {\n  status: Statu;\n}\n```\n\nI implemented a function which takes the object and other object called `transformObject` as its argument. The transform object has a recursive generic type so it knows the structure of the object provided. The point of this function is to conveniently traverse the object with `transformObject` and change a specific field of that object while conforming to the original type.\n\nHere is the implementation\n```ts\ntype MappedTransform&lt;T&gt; = {\n  [K in keyof T]?: MappedTransform&lt;T[K]&gt; | ((params: T[K]) =&gt; T[K]);\n};\n\nfunction foo&lt;T&gt;(obj: T, transformObject: MappedTransform&lt;T&gt;) {\n  // I omit the implementation details for this function to make the question simple\n}\n\nfoo(obj, {\n  key1: {\n    key: {\n      name: \"HAHA\" // \ud83d\udc48\ud83c\udffb here the value that `name` field can change to can only be \n    // either `HAHA` or `LOL` because `MappedTransform` enforces that it has to be of the original type\n    }\n  }\n});\n\n```\n\nMy question is, if I want to use another type e.g. `Name` , `Status`  to lock where `transformObject` can reach, in other words, ideally if I do this\n```ts\nfoo&lt;Obj, Name&gt;(obj, transformObject);\n```\nthe `transformObject` can only be at the level of `Name` type, not on any other types e.g. `Status`.\n\nso this should give me error because `status` is not of type `Name`, its type is `Status`\n```ts\nfoo&lt;Obj, Name&gt;(obj, {\n  key2: {\n    status: 'Inactive' // \ud83d\udea8 this should give me error since it is not of the type `Name` provided in the generic\n  }\n});\n```\n\nhttps://codesandbox.io/s/ts-recursive-function-tmo11?file=/src/index.ts\n\nThis is a live demo you can play with", "author_fullname": "t2_5aug94f9", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Is it possible to recursively traverse the type of an object and match it against another type", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_jttj2s", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.75, "author_flair_background_color": null, "subreddit_type": "public", "ups": 6, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 6, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1605347839.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Guys. I have a tricky TS question. I tried to distill it as much as possible...&lt;/p&gt;\n\n&lt;p&gt;I have an object of this type\n&lt;code&gt;ts\ninterface Obj {\n  key1: SubType1;\n  key2: SubType2;\n}\n&lt;/code&gt;\nWhere &lt;code&gt;SubType1&lt;/code&gt; and &lt;code&gt;SubType2&lt;/code&gt; are all given. \n&lt;code&gt;ts\ntype Name = &amp;quot;LOL&amp;quot; | &amp;quot;HAHA&amp;quot;;\ntype Statu = &amp;quot;Active&amp;quot; | &amp;quot;Inactive&amp;quot;;\ninterface SubType1 {\n  key: {\n    name: Name;\n  };\n}\ninterface SubType2 {\n  status: Statu;\n}\n&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;I implemented a function which takes the object and other object called &lt;code&gt;transformObject&lt;/code&gt; as its argument. The transform object has a recursive generic type so it knows the structure of the object provided. The point of this function is to conveniently traverse the object with &lt;code&gt;transformObject&lt;/code&gt; and change a specific field of that object while conforming to the original type.&lt;/p&gt;\n\n&lt;p&gt;Here is the implementation\n```ts\ntype MappedTransform&amp;lt;T&amp;gt; = {\n  [K in keyof T]?: MappedTransform&amp;lt;T[K]&amp;gt; | ((params: T[K]) =&amp;gt; T[K]);\n};&lt;/p&gt;\n\n&lt;p&gt;function foo&amp;lt;T&amp;gt;(obj: T, transformObject: MappedTransform&amp;lt;T&amp;gt;) {\n  // I omit the implementation details for this function to make the question simple\n}&lt;/p&gt;\n\n&lt;p&gt;foo(obj, {\n  key1: {\n    key: {\n      name: &amp;quot;HAHA&amp;quot; // \ud83d\udc48\ud83c\udffb here the value that &lt;code&gt;name&lt;/code&gt; field can change to can only be \n    // either &lt;code&gt;HAHA&lt;/code&gt; or &lt;code&gt;LOL&lt;/code&gt; because &lt;code&gt;MappedTransform&lt;/code&gt; enforces that it has to be of the original type\n    }\n  }\n});&lt;/p&gt;\n\n&lt;p&gt;```&lt;/p&gt;\n\n&lt;p&gt;My question is, if I want to use another type e.g. &lt;code&gt;Name&lt;/code&gt; , &lt;code&gt;Status&lt;/code&gt;  to lock where &lt;code&gt;transformObject&lt;/code&gt; can reach, in other words, ideally if I do this\n&lt;code&gt;ts\nfoo&amp;lt;Obj, Name&amp;gt;(obj, transformObject);\n&lt;/code&gt;\nthe &lt;code&gt;transformObject&lt;/code&gt; can only be at the level of &lt;code&gt;Name&lt;/code&gt; type, not on any other types e.g. &lt;code&gt;Status&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;so this should give me error because &lt;code&gt;status&lt;/code&gt; is not of type &lt;code&gt;Name&lt;/code&gt;, its type is &lt;code&gt;Status&lt;/code&gt;\n&lt;code&gt;ts\nfoo&amp;lt;Obj, Name&amp;gt;(obj, {\n  key2: {\n    status: &amp;#39;Inactive&amp;#39; // \ud83d\udea8 this should give me error since it is not of the type `Name` provided in the generic\n  }\n});\n&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://codesandbox.io/s/ts-recursive-function-tmo11?file=/src/index.ts\"&gt;https://codesandbox.io/s/ts-recursive-function-tmo11?file=/src/index.ts&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;This is a live demo you can play with&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/v32SxbpRSTMSpuRs5TF8ediXc6iTkWrHpvdksuowpJo.jpg?auto=webp&amp;s=76a7707d4ad1e3de83d9ef41bdc26b5a6857d0b1", "width": 1200, "height": 630}, "resolutions": [{"url": "https://external-preview.redd.it/v32SxbpRSTMSpuRs5TF8ediXc6iTkWrHpvdksuowpJo.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=958067b3b610d5f22c6250b86f9774326615b9cb", "width": 108, "height": 56}, {"url": "https://external-preview.redd.it/v32SxbpRSTMSpuRs5TF8ediXc6iTkWrHpvdksuowpJo.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=e59db980a1f1bc6c83bda6c8e7d219f4015222e4", "width": 216, "height": 113}, {"url": "https://external-preview.redd.it/v32SxbpRSTMSpuRs5TF8ediXc6iTkWrHpvdksuowpJo.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=353407f1df96dea9f0ab3f77328160bde530d872", "width": 320, "height": 168}, {"url": "https://external-preview.redd.it/v32SxbpRSTMSpuRs5TF8ediXc6iTkWrHpvdksuowpJo.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;s=7e0ba3a6c3d3c991fd9cc9a1e4274d29d1cb4089", "width": 640, "height": 336}, {"url": "https://external-preview.redd.it/v32SxbpRSTMSpuRs5TF8ediXc6iTkWrHpvdksuowpJo.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;s=c1fc2cc7f4874fa10571b47be33086f8b29ac626", "width": 960, "height": 504}, {"url": "https://external-preview.redd.it/v32SxbpRSTMSpuRs5TF8ediXc6iTkWrHpvdksuowpJo.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;s=d3e5b30ae7f9da5cae0f959f349b1ef5f44d93ca", "width": 1080, "height": 567}], "variants": {}, "id": "F6LRs5mapxixoBNP8awQhZKDT_dP5JHvIgad8kge8Fg"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jttj2s", "is_robot_indexable": true, "report_reasons": null, "author": "zhenghao17", "discussion_type": null, "num_comments": 8, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/jttj2s/is_it_possible_to_recursively_traverse_the_type/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/jttj2s/is_it_possible_to_recursively_traverse_the_type/", "subreddit_subscribers": 52440, "created_utc": 1605319039.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "I have a data object that contains certain keys but it can also contain random keys, for the keys I know about I want to return their type, for not known keys I want to return `unknown`.\n\nLike this:  \n\n\n    interface IData {\n        a: string[];\n        b: boolean;\n    }\n    \n    function lookup&lt;K extends string&gt;(key: K): K extends keyof IData ? IData[K] : unknown {\n        //do lookup\n    }\n    \n    let a = lookup(\"a\"); //infers string[]\n    let b = lookup(\"b\"); //infers boolean\n    let c = lookup(\"c\"); //infers unknown\n\nIf the argument for the `lookup` function matches a key from `IData` it will set the return type accordingly, else it will return `unknown`.\n\nThis works, however I don't get any autocomplete in the IDE for the known keys in `IData`. But for improved DX I would like to while still being able to enter any string as an argument, is there a way to do this currently?", "author_fullname": "t2_m1fiv", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Dev Experience: Is it possible to create a type that accepts any string but also provides autocompletion for specific strings?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_jtg7kt", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.92, "author_flair_background_color": null, "subreddit_type": "public", "ups": 20, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 20, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1605299771.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have a data object that contains certain keys but it can also contain random keys, for the keys I know about I want to return their type, for not known keys I want to return &lt;code&gt;unknown&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;Like this:  &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;interface IData {\n    a: string[];\n    b: boolean;\n}\n\nfunction lookup&amp;lt;K extends string&amp;gt;(key: K): K extends keyof IData ? IData[K] : unknown {\n    //do lookup\n}\n\nlet a = lookup(&amp;quot;a&amp;quot;); //infers string[]\nlet b = lookup(&amp;quot;b&amp;quot;); //infers boolean\nlet c = lookup(&amp;quot;c&amp;quot;); //infers unknown\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;If the argument for the &lt;code&gt;lookup&lt;/code&gt; function matches a key from &lt;code&gt;IData&lt;/code&gt; it will set the return type accordingly, else it will return &lt;code&gt;unknown&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;This works, however I don&amp;#39;t get any autocomplete in the IDE for the known keys in &lt;code&gt;IData&lt;/code&gt;. But for improved DX I would like to while still being able to enter any string as an argument, is there a way to do this currently?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jtg7kt", "is_robot_indexable": true, "report_reasons": null, "author": "wisepresident", "discussion_type": null, "num_comments": 12, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/jtg7kt/dev_experience_is_it_possible_to_create_a_type/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/jtg7kt/dev_experience_is_it_possible_to_create_a_type/", "subreddit_subscribers": 52440, "created_utc": 1605270971.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "`function AFunction&lt;T, L&gt;(`  \n `arg: L,`  \n `callback: (x: T) =&gt; void,`  \n  `{`  \n `mapArg = () =&gt; {`  \n `return {} as T;`  \n`}`  \n  `}: { mapArg: (x: L) =&gt; T }`  \n`) {`  \n `callback(mapArg(arg));`  \n`}`  \n`AFunction(`  \n `45,`  \n `incorrectlyTypedArg =&gt; {`  \n `type Incorrect = typeof incorrectlyTypedArg;`  \n  `},`  \n  `{`  \n `mapArg(y) {`  \n `return \\`${y}\\`;`  \n`}`  \n  `}`  \n`);`  \n\n\n[Typescript Playground Link](https://www.typescriptlang.org/play?#code/GYVwdgxgLglg9mABAQQGLmvMAeAKgGkQBkA+ACgChFEBDAJwHMAuY-KxCGgGy4CMaIAaxZkAHi1wBKRAF4SiAG5wYAEzbUA3u2oBbGgAdkjWYjLS5iLdWuI6AUygg6SDQF9aAZ0S4A3NsSu7K4sGoh6howi4sTm8rgBFNJWHNx8AoJk4UYMZPQMkpJ+gRRoGLAIlNQALACs6ogwkHB09tBcAJ647fp2Ktmy8snUUN12iACSTS120F09JiM9cMANU61QHXO92X42APR7E2szUFsNXsuI4IJgcADuSIt2QfVDYQbZZO1J-tT2js5EAADAAkGnariBu2sgWogUKFCAA) I'm pretty new to typescript and I can't figure out how to type this function. The first parameter is some argument that can optionally be transformed by the third parameter \\`mapArg\\` otherwise it just is an empty object. This intermediate value is then passed into callback as it's only parameter.", "author_fullname": "t2_173qoe", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How to type function arguments when return type is not known ahead of time", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_jtotih", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 3, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1605331346.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;&lt;code&gt;function AFunction&amp;lt;T, L&amp;gt;(&lt;/code&gt;&lt;br/&gt;\n &lt;code&gt;arg: L,&lt;/code&gt;&lt;br/&gt;\n &lt;code&gt;callback: (x: T) =&amp;gt; void,&lt;/code&gt;&lt;br/&gt;\n  &lt;code&gt;{&lt;/code&gt;&lt;br/&gt;\n &lt;code&gt;mapArg = () =&amp;gt; {&lt;/code&gt;&lt;br/&gt;\n &lt;code&gt;return {} as T;&lt;/code&gt;&lt;br/&gt;\n&lt;code&gt;}&lt;/code&gt;&lt;br/&gt;\n  &lt;code&gt;}: { mapArg: (x: L) =&amp;gt; T }&lt;/code&gt;&lt;br/&gt;\n&lt;code&gt;) {&lt;/code&gt;&lt;br/&gt;\n &lt;code&gt;callback(mapArg(arg));&lt;/code&gt;&lt;br/&gt;\n&lt;code&gt;}&lt;/code&gt;&lt;br/&gt;\n&lt;code&gt;AFunction(&lt;/code&gt;&lt;br/&gt;\n &lt;code&gt;45,&lt;/code&gt;&lt;br/&gt;\n &lt;code&gt;incorrectlyTypedArg =&amp;gt; {&lt;/code&gt;&lt;br/&gt;\n &lt;code&gt;type Incorrect = typeof incorrectlyTypedArg;&lt;/code&gt;&lt;br/&gt;\n  &lt;code&gt;},&lt;/code&gt;&lt;br/&gt;\n  &lt;code&gt;{&lt;/code&gt;&lt;br/&gt;\n &lt;code&gt;mapArg(y) {&lt;/code&gt;&lt;br/&gt;\n &lt;code&gt;return \\&lt;/code&gt;${y}`;&lt;code&gt;\n&lt;/code&gt;}&lt;code&gt;\n&lt;/code&gt;}&lt;code&gt;\n&lt;/code&gt;);`  &lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://www.typescriptlang.org/play?#code/GYVwdgxgLglg9mABAQQGLmvMAeAKgGkQBkA+ACgChFEBDAJwHMAuY-KxCGgGy4CMaIAaxZkAHi1wBKRAF4SiAG5wYAEzbUA3u2oBbGgAdkjWYjLS5iLdWuI6AUygg6SDQF9aAZ0S4A3NsSu7K4sGoh6howi4sTm8rgBFNJWHNx8AoJk4UYMZPQMkpJ+gRRoGLAIlNQALACs6ogwkHB09tBcAJ647fp2Ktmy8snUUN12iACSTS120F09JiM9cMANU61QHXO92X42APR7E2szUFsNXsuI4IJgcADuSIt2QfVDYQbZZO1J-tT2js5EAADAAkGnariBu2sgWogUKFCAA\"&gt;Typescript Playground Link&lt;/a&gt; I&amp;#39;m pretty new to typescript and I can&amp;#39;t figure out how to type this function. The first parameter is some argument that can optionally be transformed by the third parameter `mapArg` otherwise it just is an empty object. This intermediate value is then passed into callback as it&amp;#39;s only parameter.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jtotih", "is_robot_indexable": true, "report_reasons": null, "author": "nickthesick0111", "discussion_type": null, "num_comments": 7, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/jtotih/how_to_type_function_arguments_when_return_type/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/jtotih/how_to_type_function_arguments_when_return_type/", "subreddit_subscribers": 52440, "created_utc": 1605302546.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_jtotih", "before": null}}