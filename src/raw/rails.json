{"kind": "Listing", "data": {"modhash": "", "dist": 12, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Please use this thread to discuss **cool** but relatively **unknown** gems you've found.\n\nYou **should not** post popular gems such as [those listed in wiki](https://www.reddit.com/r/rails/wiki/index#wiki_popular_gems) that are already well known.\n\nPlease include a **description** and a **link** to the gem's homepage in your comment.", "author_fullname": "t2_6l4z3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Gimme Gems Thursdays - Found an awesome new gem? Post it here!", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_ezrfed", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 16, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 16, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1581019609.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Please use this thread to discuss &lt;strong&gt;cool&lt;/strong&gt; but relatively &lt;strong&gt;unknown&lt;/strong&gt; gems you&amp;#39;ve found.&lt;/p&gt;\n\n&lt;p&gt;You &lt;strong&gt;should not&lt;/strong&gt; post popular gems such as &lt;a href=\"https://www.reddit.com/r/rails/wiki/index#wiki_popular_gems\"&gt;those listed in wiki&lt;/a&gt; that are already well known.&lt;/p&gt;\n\n&lt;p&gt;Please include a &lt;strong&gt;description&lt;/strong&gt; and a &lt;strong&gt;link&lt;/strong&gt; to the gem&amp;#39;s homepage in your comment.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "ezrfed", "is_robot_indexable": true, "report_reasons": null, "author": "AutoModerator", "discussion_type": null, "num_comments": 2, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/ezrfed/gimme_gems_thursdays_found_an_awesome_new_gem/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rails/comments/ezrfed/gimme_gems_thursdays_found_an_awesome_new_gem/", "subreddit_subscribers": 42432, "created_utc": 1580990809.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "In this thread you can showcase your personal pet project to other redditors.\n\nNeed help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!\n\nA suggested format to get you started:\n\n1. **Name of your project**\n2. **A short description**\n3. **Application stack**\n4. **Link to Live app**\n5. **Link to GitHub**\n6. **You experience level**\n7. **Other information or areas that you would like advice on**\n\n\u00a0\n\n^(Many thanks to Kritnc for getting the ball rolling.)", "author_fullname": "t2_6l4z3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Personal Projects - Show off your own project and/or ask for advice", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_f2r9mk", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 12, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 12, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1581543169.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;In this thread you can showcase your personal pet project to other redditors.&lt;/p&gt;\n\n&lt;p&gt;Need help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!&lt;/p&gt;\n\n&lt;p&gt;A suggested format to get you started:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;Name of your project&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;A short description&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Application stack&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to Live app&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to GitHub&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;You experience level&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Other information or areas that you would like advice on&lt;/strong&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;\u00a0&lt;/p&gt;\n\n&lt;p&gt;&lt;sup&gt;Many thanks to Kritnc for getting the ball rolling.&lt;/sup&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f2r9mk", "is_robot_indexable": true, "report_reasons": null, "author": "AutoModerator", "discussion_type": null, "num_comments": 3, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/f2r9mk/personal_projects_show_off_your_own_project_andor/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rails/comments/f2r9mk/personal_projects_show_off_your_own_project_andor/", "subreddit_subscribers": 42432, "created_utc": 1581514369.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hi everyone,  \n\n\nI have a a model `coffee_shops` which `has_many` \"`review_photos`\".  \n\n\nI want to display the `review_photo` with a gradient, using the following CSS:  \n\n\n    background: linear-gradient(rgba(0,0,0,0.2),rgba(0,0,0,0.8)), url('www.mydynamicurl.com') center / cover;\n\nNow, I can't send the image URL to the CSS as far as I'm aware. So I assume I have to do this in HTML. I have done this like so:  \n\n\n    &lt;section class=\"hero is-medium is-bold\" style=\"background: linear-gradient(rgba(0,0,0,0.2),rgba(0,0,0,0.8)), url('http://my-url-prefix/&lt;%= @coffee_shop.review_photos.first[:photo] %&gt;') center / cover;\"&gt;\n\nThis works visually, but there's 2 problems.  \n\n\n1) This seems kind of ugly and hacky.  \n2) I might want to use this gradient on other pages. Putting it in the HTML like this means that I have to copy it each time, and if I make a change to the gradient then I have to find all instances of it and change it on each.  \n\n\nWhat's the best way of doing this, (bearing in mind that the image has to be assigned in CSS and can't be a HTML &lt;img&gt; element.  \n\n\nThanks.", "author_fullname": "t2_xktv3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How can I clean up this code adding a CSS background: url() dynamically from model?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_f6rmwn", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 4, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 4, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1582226182.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi everyone,  &lt;/p&gt;\n\n&lt;p&gt;I have a a model &lt;code&gt;coffee_shops&lt;/code&gt; which &lt;code&gt;has_many&lt;/code&gt; &amp;quot;&lt;code&gt;review_photos&lt;/code&gt;&amp;quot;.  &lt;/p&gt;\n\n&lt;p&gt;I want to display the &lt;code&gt;review_photo&lt;/code&gt; with a gradient, using the following CSS:  &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;background: linear-gradient(rgba(0,0,0,0.2),rgba(0,0,0,0.8)), url(&amp;#39;www.mydynamicurl.com&amp;#39;) center / cover;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Now, I can&amp;#39;t send the image URL to the CSS as far as I&amp;#39;m aware. So I assume I have to do this in HTML. I have done this like so:  &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;&amp;lt;section class=&amp;quot;hero is-medium is-bold&amp;quot; style=&amp;quot;background: linear-gradient(rgba(0,0,0,0.2),rgba(0,0,0,0.8)), url(&amp;#39;http://my-url-prefix/&amp;lt;%= @coffee_shop.review_photos.first[:photo] %&amp;gt;&amp;#39;) center / cover;&amp;quot;&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This works visually, but there&amp;#39;s 2 problems.  &lt;/p&gt;\n\n&lt;p&gt;1) This seems kind of ugly and hacky.&lt;br/&gt;\n2) I might want to use this gradient on other pages. Putting it in the HTML like this means that I have to copy it each time, and if I make a change to the gradient then I have to find all instances of it and change it on each.  &lt;/p&gt;\n\n&lt;p&gt;What&amp;#39;s the best way of doing this, (bearing in mind that the image has to be assigned in CSS and can&amp;#39;t be a HTML &amp;lt;img&amp;gt; element.  &lt;/p&gt;\n\n&lt;p&gt;Thanks.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f6rmwn", "is_robot_indexable": true, "report_reasons": null, "author": "spinsilo", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/f6rmwn/how_can_i_clean_up_this_code_adding_a_css/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/f6rmwn/how_can_i_clean_up_this_code_adding_a_css/", "subreddit_subscribers": 42432, "created_utc": 1582197382.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "It's something everyone agrees is absolutely crucial to maintain relevancy as a programmer, constant learning and self development.\n\nWhat are some of the things you do to stay up to date on trends and constantly learn and develop some skills? What are some things you're working on in that regard? What are things that have helped you in the past?\n\nThis is something I've struggled with especially recently. It's easy to settle into a comfortable rhythm at work and go months without adding any new meaningful knowledge or skills.", "author_fullname": "t2_nlpbb", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "What do you do to stay sharp?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_f6l733", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 13, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 13, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1582190886.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;It&amp;#39;s something everyone agrees is absolutely crucial to maintain relevancy as a programmer, constant learning and self development.&lt;/p&gt;\n\n&lt;p&gt;What are some of the things you do to stay up to date on trends and constantly learn and develop some skills? What are some things you&amp;#39;re working on in that regard? What are things that have helped you in the past?&lt;/p&gt;\n\n&lt;p&gt;This is something I&amp;#39;ve struggled with especially recently. It&amp;#39;s easy to settle into a comfortable rhythm at work and go months without adding any new meaningful knowledge or skills.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f6l733", "is_robot_indexable": true, "report_reasons": null, "author": "matthewdodds", "discussion_type": null, "num_comments": 5, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/f6l733/what_do_you_do_to_stay_sharp/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/f6l733/what_do_you_do_to_stay_sharp/", "subreddit_subscribers": 42432, "created_utc": 1582162086.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "[Active Storage](https://github.com/rails/rails/tree/master/activestorage)   is a framework in Ruby that makes it a breeze to upload files and   reference them in the cloud (or a local disk). It\u2019s built into [Ruby On Rails 6](https://weblog.rubyonrails.org/2019/8/15/Rails-6-0-final-release/), but it\u2019s also got a [JavaScript library](https://github.com/rails/rails/tree/master/activestorage/app/javascript/activestorage). In fact, that\u2019s what I like most about Rails. It\u2019s got your back. It delivers *complete* packages out of the box. Packages that work well *together*. Client to server \u2014 it\u2019s got everything you need! And it\u2019s got beautiful code. Making it a pleasure to work with.\n\nIn this post, you will **see how Active Storage really works from the inside**.   We will track the main flow of the program, and see how it processes a   file uploaded by the user through the browser with JavaScript. And  then,  how the file is uploaded to a local disk with Ruby. *Let\u2019s get started.*\n\n[Continue reading on Medium...](https://medium.com/rubyinside/active-storage-file-upload-behind-the-scenes-59a660c43781)", "author_fullname": "t2_xl5anm6", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Active Storage File Upload Behind The Scenes", "link_flair_richtext": [{"e": "text", "t": "Tutorial"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "tutorial", "downs": 0, "hide_score": true, "name": "t3_f6t0fs", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Tutorial", "can_mod_post": false, "score": 1, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1582233831.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;&lt;a href=\"https://github.com/rails/rails/tree/master/activestorage\"&gt;Active Storage&lt;/a&gt;   is a framework in Ruby that makes it a breeze to upload files and   reference them in the cloud (or a local disk). It\u2019s built into &lt;a href=\"https://weblog.rubyonrails.org/2019/8/15/Rails-6-0-final-release/\"&gt;Ruby On Rails 6&lt;/a&gt;, but it\u2019s also got a &lt;a href=\"https://github.com/rails/rails/tree/master/activestorage/app/javascript/activestorage\"&gt;JavaScript library&lt;/a&gt;. In fact, that\u2019s what I like most about Rails. It\u2019s got your back. It delivers &lt;em&gt;complete&lt;/em&gt; packages out of the box. Packages that work well &lt;em&gt;together&lt;/em&gt;. Client to server \u2014 it\u2019s got everything you need! And it\u2019s got beautiful code. Making it a pleasure to work with.&lt;/p&gt;\n\n&lt;p&gt;In this post, you will &lt;strong&gt;see how Active Storage really works from the inside&lt;/strong&gt;.   We will track the main flow of the program, and see how it processes a   file uploaded by the user through the browser with JavaScript. And  then,  how the file is uploaded to a local disk with Ruby. &lt;em&gt;Let\u2019s get started.&lt;/em&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://medium.com/rubyinside/active-storage-file-upload-behind-the-scenes-59a660c43781\"&gt;Continue reading on Medium...&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "2a348462-af75-11e4-abe9-22000b3d0989", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f6t0fs", "is_robot_indexable": true, "report_reasons": null, "author": "liroyl", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/f6t0fs/active_storage_file_upload_behind_the_scenes/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/f6t0fs/active_storage_file_upload_behind_the_scenes/", "subreddit_subscribers": 42432, "created_utc": 1582205031.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I want to build an invite system where each registered user has a unique invite link. And when their friends use that link to sign up they both get benefits. You should also be able to send the link through social media or email.\n\nAn example of what I mean is airbnb's invite system:\n\nhttps://preview.redd.it/13i9orrbo1i41.png?width=3354&amp;format=png&amp;auto=webp&amp;s=f9b4d59c39a1219548dfb8223fa5f277a485a439\n\nI have tried using devise invitable but it seems to work differently. It seems to register an user with an email first and then signs them up if they accept the invite. This does not allow for social media sharing.\n\nSo, how do I go about building such an invite system and how do I integrate it with devise?", "author_fullname": "t2_4myg1lkg", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Invite Links with Devise", "link_flair_richtext": [{"e": "text", "t": "Help"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "hide_score": false, "media_metadata": {"13i9orrbo1i41": {"status": "valid", "e": "Image", "m": "image/png", "p": [{"y": 54, "x": 108, "u": "https://external-preview.redd.it/13i9orrbo1i41.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=f0499192820e28d423a7f016caf2cb60916d25ba"}, {"y": 108, "x": 216, "u": "https://external-preview.redd.it/13i9orrbo1i41.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=d4a9384a9cd561a9e5b258104208a81a2343462a"}, {"y": 161, "x": 320, "u": "https://external-preview.redd.it/13i9orrbo1i41.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=386c5092f5952e0aeb3f3c0a7e0e00db5d60b1a5"}, {"y": 322, "x": 640, "u": "https://external-preview.redd.it/13i9orrbo1i41.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=8109637f901c84d46fdc2e3876376b4549f34540"}, {"y": 484, "x": 960, "u": "https://external-preview.redd.it/13i9orrbo1i41.png?width=960&amp;crop=smart&amp;auto=webp&amp;s=569e3f26561d777cfe8ce3dc8bf293fc60697f07"}, {"y": 544, "x": 1080, "u": "https://external-preview.redd.it/13i9orrbo1i41.png?width=1080&amp;crop=smart&amp;auto=webp&amp;s=8686d5b9e3c7277b8f6376051e4e3b5eb700fece"}], "s": {"y": 1692, "x": 3354, "u": "https://preview.redd.it/13i9orrbo1i41.png?width=3354&amp;format=png&amp;auto=webp&amp;s=f9b4d59c39a1219548dfb8223fa5f277a485a439"}, "id": "13i9orrbo1i41"}}, "name": "t3_f6qfrq", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Help", "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1582218380.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I want to build an invite system where each registered user has a unique invite link. And when their friends use that link to sign up they both get benefits. You should also be able to send the link through social media or email.&lt;/p&gt;\n\n&lt;p&gt;An example of what I mean is airbnb&amp;#39;s invite system:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://preview.redd.it/13i9orrbo1i41.png?width=3354&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=f9b4d59c39a1219548dfb8223fa5f277a485a439\"&gt;https://preview.redd.it/13i9orrbo1i41.png?width=3354&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=f9b4d59c39a1219548dfb8223fa5f277a485a439&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;I have tried using devise invitable but it seems to work differently. It seems to register an user with an email first and then signs them up if they accept the invite. This does not allow for social media sharing.&lt;/p&gt;\n\n&lt;p&gt;So, how do I go about building such an invite system and how do I integrate it with devise?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "eef0b990-adfb-11e4-8e15-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f6qfrq", "is_robot_indexable": true, "report_reasons": null, "author": "newbierails02", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/f6qfrq/invite_links_with_devise/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/f6qfrq/invite_links_with_devise/", "subreddit_subscribers": 42432, "created_utc": 1582189580.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hey How are you all guys?? I hope you all doing fine.. I have a question.. I have a hard time deciding which language to study.. I just wanna get into software development.. I really like ruby and its framework rails.. But the problem is there are not enough jobs in rails.. So my question is Shoud I..  \n1) start rails and go with my interest  \n2) start with something else.. lets say laravel or react.. because there are tons of jobs in both of these..  \n\n\nSo I want advice from you people.. can I pursue my career in freelancing in rails world.. what are the prerequisite.. I mean how much your skill is must to start freelancing and get success.. because if there are not enough jobs in my area .. freelancing is the way to go..", "author_fullname": "t2_2mg7zd3f", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Should I start rails or something else?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_f6q582", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1582216254.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey How are you all guys?? I hope you all doing fine.. I have a question.. I have a hard time deciding which language to study.. I just wanna get into software development.. I really like ruby and its framework rails.. But the problem is there are not enough jobs in rails.. So my question is Shoud I..&lt;br/&gt;\n1) start rails and go with my interest&lt;br/&gt;\n2) start with something else.. lets say laravel or react.. because there are tons of jobs in both of these..  &lt;/p&gt;\n\n&lt;p&gt;So I want advice from you people.. can I pursue my career in freelancing in rails world.. what are the prerequisite.. I mean how much your skill is must to start freelancing and get success.. because if there are not enough jobs in my area .. freelancing is the way to go..&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f6q582", "is_robot_indexable": true, "report_reasons": null, "author": "Traditional_Volume", "discussion_type": null, "num_comments": 8, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/f6q582/should_i_start_rails_or_something_else/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/f6q582/should_i_start_rails_or_something_else/", "subreddit_subscribers": 42432, "created_utc": 1582187454.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I am looking into making API only Rails app and I wanted to make a post here to ask you guys whether you know any good gems that would make my life easier for developing API only Rails apps. Maybe something for authentication, responses, etc. Thanks!", "author_fullname": "t2_34ogdibh", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "What Ruby gems would you recommend for Rails API development", "link_flair_richtext": [{"e": "text", "t": "Question"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "question", "downs": 0, "hide_score": false, "name": "t3_f6di8l", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 25, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Question", "can_mod_post": false, "score": 25, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1582160023.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I am looking into making API only Rails app and I wanted to make a post here to ask you guys whether you know any good gems that would make my life easier for developing API only Rails apps. Maybe something for authentication, responses, etc. Thanks!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "fdfc6806-aea7-11e4-bf37-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f6di8l", "is_robot_indexable": true, "report_reasons": null, "author": "crodev", "discussion_type": null, "num_comments": 38, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/f6di8l/what_ruby_gems_would_you_recommend_for_rails_api/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/f6di8l/what_ruby_gems_would_you_recommend_for_rails_api/", "subreddit_subscribers": 42432, "created_utc": 1582131223.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Check out my recent [post](https://railsguides.net/foreign-key-for-custom-table-name/) describes how to specify a belongs to association in Rails migration with a foreign key to custom table name. Spoiler: as the result it has improved Rails docs!", "author_fullname": "t2_d7ta3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Rails migration for belongs_to with custom table name", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_f6hunj", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 6, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 6, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1582177089.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Check out my recent &lt;a href=\"https://railsguides.net/foreign-key-for-custom-table-name/\"&gt;post&lt;/a&gt; describes how to specify a belongs to association in Rails migration with a foreign key to custom table name. Spoiler: as the result it has improved Rails docs!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f6hunj", "is_robot_indexable": true, "report_reasons": null, "author": "ka8725", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/f6hunj/rails_migration_for_belongs_to_with_custom_table/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/f6hunj/rails_migration_for_belongs_to_with_custom_table/", "subreddit_subscribers": 42432, "created_utc": 1582148289.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "There\u2019s  a better, more user-friendly-driven approach to writing pagination for  your application. The idea is simple: Load more records every time the user is asking to see more.\n\n[Continue reading on Medium...](https://medium.com/@liroy/geared-pagination-in-rails-behind-the-scenes-61d9e227540e)", "author_fullname": "t2_xl5anm6", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "I wrote a post about how geared pagination works behind-the-scenes \u2014&gt;", "link_flair_richtext": [{"e": "text", "t": "Tutorial"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "tutorial", "downs": 0, "hide_score": false, "name": "t3_f6jhza", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Tutorial", "can_mod_post": false, "score": 3, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1582201790.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1582183587.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;There\u2019s  a better, more user-friendly-driven approach to writing pagination for  your application. The idea is simple: Load more records every time the user is asking to see more.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://medium.com/@liroy/geared-pagination-in-rails-behind-the-scenes-61d9e227540e\"&gt;Continue reading on Medium...&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "2a348462-af75-11e4-abe9-22000b3d0989", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f6jhza", "is_robot_indexable": true, "report_reasons": null, "author": "liroyl", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/f6jhza/i_wrote_a_post_about_how_geared_pagination_works/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/f6jhza/i_wrote_a_post_about_how_geared_pagination_works/", "subreddit_subscribers": 42432, "created_utc": 1582154787.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "", "author_fullname": "t2_29m4iyby", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Ruby 2.7 removes taint checking mechanism", "link_flair_richtext": [{"e": "text", "t": "News"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "news", "downs": 0, "hide_score": false, "name": "t3_f67vxa", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 27, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "News", "can_mod_post": false, "score": 27, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1582129772.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "blog.saeloun.com", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "00dbc6ca-af75-11e4-858e-22000b39cdc3", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f67vxa", "is_robot_indexable": true, "report_reasons": null, "author": "prateekkish", "discussion_type": null, "num_comments": 7, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/f67vxa/ruby_27_removes_taint_checking_mechanism/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://blog.saeloun.com/2020/02/18/ruby-2-7-access-and-setting-of-safe-warned-will-become-global-variable", "subreddit_subscribers": 42432, "created_utc": 1582100972.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hi guys, I have the following model and I looking to optimize it...\n\n    # some_model.rb\n    \n    belongs_to :some_association\n    \n    validates :some_association_id, presence: true\n    \n    validate :check_status_1\n    validate :check_status_2\n    \n    \n    def check_status_1\n      if self.some_association_id.present?\n        begin\n          some_association = Some::Association.find(self.some_association_id)\n          # check status_1... else raise error validation\n        \n          rescue ActiveRecord::RecordNotFound =&gt; e\n            # case treated by model validation - so nothing goes here\n          end  \n        end\n      end\n    end\n    \n    \n    def check_status_2\n      if self.some_association_id.present?\n        begin\n          some_association = Some::Association.find(self.some_association_id)\n          # check status_2... else raise error validation\n        \n          rescue ActiveRecord::RecordNotFound =&gt; e\n            # case treated by model validation - so nothing goes here\n          end  \n        end\n      end\n    end\n\nBecause I see a lot of hits on database for the same query (Some::Association.find(...)  and belongs\\_to validation), and I not sure if Rails reuse them from the memory, I was thinking if it would be possible to reduce this hits on db.\n\nAny tip to improvement is well accepted.\n\nMy suggestion to solve the 2 queries Some::Association.find(...) problem is: an instance variable, something like this:\n\n    def check_status_1/2\n      if @some_association.present? &amp;&amp; self.some_association_id.present?\n        begin\n          @some_association = Some::Association.find(self.some_association_id)\n          ...\n        end\n      end\n    end\n\nAnother way to solve the query problem would be put them together in one method (check\\_status for status\\_1 &amp; status\\_2), but that would make hard to test each situation.\n\nAbout belongs\\_to validation hitting the database for the same query that check\\_status does, I'm not sure how to solve it in a pleasant way.", "author_fullname": "t2_teraqqc", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "[Help] Optimize model validations", "link_flair_richtext": [{"e": "text", "t": "Help"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "hide_score": false, "name": "t3_f6bf1b", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 5, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Help", "can_mod_post": false, "score": 5, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1582123460.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1582151478.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi guys, I have the following model and I looking to optimize it...&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;# some_model.rb\n\nbelongs_to :some_association\n\nvalidates :some_association_id, presence: true\n\nvalidate :check_status_1\nvalidate :check_status_2\n\n\ndef check_status_1\n  if self.some_association_id.present?\n    begin\n      some_association = Some::Association.find(self.some_association_id)\n      # check status_1... else raise error validation\n\n      rescue ActiveRecord::RecordNotFound =&amp;gt; e\n        # case treated by model validation - so nothing goes here\n      end  \n    end\n  end\nend\n\n\ndef check_status_2\n  if self.some_association_id.present?\n    begin\n      some_association = Some::Association.find(self.some_association_id)\n      # check status_2... else raise error validation\n\n      rescue ActiveRecord::RecordNotFound =&amp;gt; e\n        # case treated by model validation - so nothing goes here\n      end  \n    end\n  end\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Because I see a lot of hits on database for the same query (Some::Association.find(...)  and belongs_to validation), and I not sure if Rails reuse them from the memory, I was thinking if it would be possible to reduce this hits on db.&lt;/p&gt;\n\n&lt;p&gt;Any tip to improvement is well accepted.&lt;/p&gt;\n\n&lt;p&gt;My suggestion to solve the 2 queries Some::Association.find(...) problem is: an instance variable, something like this:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;def check_status_1/2\n  if @some_association.present? &amp;amp;&amp;amp; self.some_association_id.present?\n    begin\n      @some_association = Some::Association.find(self.some_association_id)\n      ...\n    end\n  end\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Another way to solve the query problem would be put them together in one method (check_status for status_1 &amp;amp; status_2), but that would make hard to test each situation.&lt;/p&gt;\n\n&lt;p&gt;About belongs_to validation hitting the database for the same query that check_status does, I&amp;#39;m not sure how to solve it in a pleasant way.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f6bf1b", "is_robot_indexable": true, "report_reasons": null, "author": "weedisallIlike", "discussion_type": null, "num_comments": 6, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/f6bf1b/help_optimize_model_validations/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/f6bf1b/help_optimize_model_validations/", "subreddit_subscribers": 42432, "created_utc": 1582122678.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_f6bf1b", "before": null}}