{"kind": "Listing", "data": {"modhash": "", "dist": 11, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "The monthly thread for people to post openings at their companies.\n\n* Please state the job location and include the keywords REMOTE, INTERNS and/or VISA when the corresponding sort of candidate is welcome. When remote work is not an option, include ONSITE.\n\n* Please only post if you personally are part of the hiring company\u2014no recruiting firms or job boards **Please report recruiters or job boards**. \n\n* Only one post per company. \n\n* If it isn't a household name, explain what your company does. Sell it.\n\n* Please add the company email that applications should be sent to, or the companies application web form/job posting (needless to say this should be on the company website, not a third party site).\n\n\nCommenters: please don't reply to job posts to complain about something. It's off topic here.\n\nReaders: please only email if you are personally interested in the job. \n\nPosting top level comments that aren't job postings, [that's a paddlin](https://i.imgur.com/FxMKfnY.jpg)\n\n[Previous Hiring Threads](https://www.reddit.com/r/typescript/search?sort=new&amp;restrict_sr=on&amp;q=flair%3AMonthly%2BHiring%2BThread)", "author_fullname": "t2_6l4z3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Who's hiring Typescript developers - July", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": "monthly-hiring", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_hizg5z", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.9, "author_flair_background_color": null, "subreddit_type": "public", "ups": 38, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Monthly Hiring Thread", "can_mod_post": false, "score": 38, "approved_by": null, "author_premium": true, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1593590733.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;The monthly thread for people to post openings at their companies.&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;Please state the job location and include the keywords REMOTE, INTERNS and/or VISA when the corresponding sort of candidate is welcome. When remote work is not an option, include ONSITE.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Please only post if you personally are part of the hiring company\u2014no recruiting firms or job boards &lt;strong&gt;Please report recruiters or job boards&lt;/strong&gt;. &lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Only one post per company. &lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;If it isn&amp;#39;t a household name, explain what your company does. Sell it.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Please add the company email that applications should be sent to, or the companies application web form/job posting (needless to say this should be on the company website, not a third party site).&lt;/p&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Commenters: please don&amp;#39;t reply to job posts to complain about something. It&amp;#39;s off topic here.&lt;/p&gt;\n\n&lt;p&gt;Readers: please only email if you are personally interested in the job. &lt;/p&gt;\n\n&lt;p&gt;Posting top level comments that aren&amp;#39;t job postings, &lt;a href=\"https://i.imgur.com/FxMKfnY.jpg\"&gt;that&amp;#39;s a paddlin&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://www.reddit.com/r/typescript/search?sort=new&amp;amp;restrict_sr=on&amp;amp;q=flair%3AMonthly%2BHiring%2BThread\"&gt;Previous Hiring Threads&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/VyGnlbKCiZgJWJ1wbp_MHOxxVM8sKYuGRykp5LnDnGo.jpg?auto=webp&amp;s=e7ed7da8371b4e16c167355386ca2a5744ead415", "width": 500, "height": 361}, "resolutions": [{"url": "https://external-preview.redd.it/VyGnlbKCiZgJWJ1wbp_MHOxxVM8sKYuGRykp5LnDnGo.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=66a18e0a3c52817ab852fa4b7c250a55c579d165", "width": 108, "height": 77}, {"url": "https://external-preview.redd.it/VyGnlbKCiZgJWJ1wbp_MHOxxVM8sKYuGRykp5LnDnGo.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=2025ba1460e8c8c9834f11cb40ba4e3832a2d3e9", "width": 216, "height": 155}, {"url": "https://external-preview.redd.it/VyGnlbKCiZgJWJ1wbp_MHOxxVM8sKYuGRykp5LnDnGo.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=3329109c390c2bd989b508c72a7ebf0d2bad3697", "width": 320, "height": 231}], "variants": {}, "id": "L_ccfLuUd62HPSmub7C2gCgZ5motXBmWQ__1MAuL6is"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hizg5z", "is_robot_indexable": true, "report_reasons": null, "author": "AutoModerator", "discussion_type": null, "num_comments": 7, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": true, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/hizg5z/whos_hiring_typescript_developers_july/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/typescript/comments/hizg5z/whos_hiring_typescript_developers_july/", "subreddit_subscribers": 44768, "created_utc": 1593561933.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "I want to get a better understanding of how to test these kinds of functions in Typescript using mocha. In the StackOverflow post below I've outlined a basic small Typescript file, which I want to test and increase code coverage. Right now I'm not sure why the breakdown of the testing is the way that it is (50% Stmts | 100% Branch | 0% Funcs | 50% Lines) and how I would be able to get everything to 100%.\n\n[https://stackoverflow.com/questions/63065938/how-to-increase-code-coverage-for-mocha-testing-on-basic-typescript-example](https://stackoverflow.com/questions/63065938/how-to-increase-code-coverage-for-mocha-testing-on-basic-typescript-example)\n\nAny advice would greatly be appreciated!", "author_fullname": "t2_2ysan3or", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How to increase code coverage for mocha testing on basic Typescript example", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_hwtsd3", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.84, "author_flair_background_color": null, "subreddit_type": "public", "ups": 9, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 9, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1595587684.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I want to get a better understanding of how to test these kinds of functions in Typescript using mocha. In the StackOverflow post below I&amp;#39;ve outlined a basic small Typescript file, which I want to test and increase code coverage. Right now I&amp;#39;m not sure why the breakdown of the testing is the way that it is (50% Stmts | 100% Branch | 0% Funcs | 50% Lines) and how I would be able to get everything to 100%.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://stackoverflow.com/questions/63065938/how-to-increase-code-coverage-for-mocha-testing-on-basic-typescript-example\"&gt;https://stackoverflow.com/questions/63065938/how-to-increase-code-coverage-for-mocha-testing-on-basic-typescript-example&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Any advice would greatly be appreciated!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/QgPvRTknlY3rMNDqH1k4I37XGiq9tZF_FsygC_Xht4o.jpg?auto=webp&amp;s=8cd5e918e2bde6ca72d4445d6fc007f203689799", "width": 316, "height": 316}, "resolutions": [{"url": "https://external-preview.redd.it/QgPvRTknlY3rMNDqH1k4I37XGiq9tZF_FsygC_Xht4o.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=b1c8a90e5690a7186afdb269ad05279551994d09", "width": 108, "height": 108}, {"url": "https://external-preview.redd.it/QgPvRTknlY3rMNDqH1k4I37XGiq9tZF_FsygC_Xht4o.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=533bd055cdae7998d1b8f9cd9d7dedabc1715bda", "width": 216, "height": 216}], "variants": {}, "id": "nfayPavSUB5ngYv6-19UHNBThsXfcLIDQl4HkEe3Cv0"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hwtsd3", "is_robot_indexable": true, "report_reasons": null, "author": "e_n_v", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/hwtsd3/how_to_increase_code_coverage_for_mocha_testing/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/hwtsd3/how_to_increase_code_coverage_for_mocha_testing/", "subreddit_subscribers": 44768, "created_utc": 1595558884.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "Part of the reason many people are now paying attention to Deno is not only its ambitious goal to compete with Node.js, but also its built-in TypeScript support. Do you want to know what it's like to develop a REST API application with Deno. My friend [recounted](https://tsh.io/blog/deno-rest-api/) his experience with that. Thought you might find it interesting.", "author_fullname": "t2_3t7eeglp", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Rest API app built with Deno and TypeScript", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_hwzjdu", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.5, "author_flair_background_color": null, "subreddit_type": "public", "ups": 0, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 0, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1595616120.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Part of the reason many people are now paying attention to Deno is not only its ambitious goal to compete with Node.js, but also its built-in TypeScript support. Do you want to know what it&amp;#39;s like to develop a REST API application with Deno. My friend &lt;a href=\"https://tsh.io/blog/deno-rest-api/\"&gt;recounted&lt;/a&gt; his experience with that. Thought you might find it interesting.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/r1hbnjmkTi4g6WmmB_3opdQPiHPLKkXAldz2jfaMQQM.jpg?auto=webp&amp;s=c9f3ce19541adf76a34b6873e454e17912a303a8", "width": 1620, "height": 1080}, "resolutions": [{"url": "https://external-preview.redd.it/r1hbnjmkTi4g6WmmB_3opdQPiHPLKkXAldz2jfaMQQM.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=12fd8a979f35d90bfb2569b08c0f5b65c13cf867", "width": 108, "height": 72}, {"url": "https://external-preview.redd.it/r1hbnjmkTi4g6WmmB_3opdQPiHPLKkXAldz2jfaMQQM.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=0a4a54e38e2c3d322bc0946408d82b5157e2ca35", "width": 216, "height": 144}, {"url": "https://external-preview.redd.it/r1hbnjmkTi4g6WmmB_3opdQPiHPLKkXAldz2jfaMQQM.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=b5f6dc1ae2b5b9ca119ae79a7e980c8012756f66", "width": 320, "height": 213}, {"url": "https://external-preview.redd.it/r1hbnjmkTi4g6WmmB_3opdQPiHPLKkXAldz2jfaMQQM.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;s=8dc06893111ce787aa532ceb2aab0e6dec6eb311", "width": 640, "height": 426}, {"url": "https://external-preview.redd.it/r1hbnjmkTi4g6WmmB_3opdQPiHPLKkXAldz2jfaMQQM.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;s=f54701baf3560f3bbf2f9db6fa558f79ddb2cd13", "width": 960, "height": 640}, {"url": "https://external-preview.redd.it/r1hbnjmkTi4g6WmmB_3opdQPiHPLKkXAldz2jfaMQQM.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;s=cd351d22c437554be35a2ecc8d56d394821ea47c", "width": 1080, "height": 720}], "variants": {}, "id": "0gQUeatv25qOtIUAyOccUmkPxNIkkLPICJSf3TdZUFI"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hwzjdu", "is_robot_indexable": true, "report_reasons": null, "author": "placek3000", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/hwzjdu/rest_api_app_built_with_deno_and_typescript/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/hwzjdu/rest_api_app_built_with_deno_and_typescript/", "subreddit_subscribers": 44768, "created_utc": 1595587320.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "I am trying to convert https://github.com/camwiegert/typical/blob/master/typical.js into TypeScript.\n\nIn Vanilla JS, it looks like:\n\n# typical.js\n\n```js\nexport async function type(node, ...args) {\n    for (const arg of args) {\n        switch (typeof arg) {\n            case 'string':\n                await edit(node, arg);\n                break;\n            case 'number':\n                await wait(arg);\n                break;\n            case 'function':\n                await arg(node, ...args);\n                break;\n            default:\n                await arg;\n        }\n    }\n}\n\nasync function edit(node, text) {\n    const overlap = getOverlap(node.textContent, text);\n    await perform(node, [...deleter(node.textContent, overlap), ...writer(text, overlap)]);\n}\n\nasync function wait(ms) {\n    await new Promise(resolve =&gt; setTimeout(resolve, ms));\n}\n\nasync function perform(node, edits, speed = 60) {\n    for (const op of editor(edits)) {\n        op(node);\n        await wait(speed + speed * (Math.random() - 0.5));\n    }\n}\n\nexport function* editor(edits) {\n    for (const edit of edits) {\n        yield (node) =&gt; requestAnimationFrame(() =&gt; node.textContent = edit);\n    }\n}\n\nexport function* writer([...text], startIndex = 0, endIndex = text.length) {\n    while (startIndex &lt; endIndex) {\n        yield text.slice(0, ++startIndex).join('');\n    }\n}\n\nexport function* deleter([...text], startIndex = 0, endIndex = text.length) {\n    while (endIndex &gt; startIndex) {\n        yield text.slice(0, --endIndex).join('');\n    }\n}\n\nexport function getOverlap(start, [...end]) {\n    return [...start, NaN].findIndex((char, i) =&gt; end[i] !== char);\n}\n```\n\nAnd my TS conversion looks like:\n\n# typical.ts\n\n```ts\nexport async function type(node: HTMLElement, ...args: any[]): Promise&lt;void&gt; {\n  for (const arg of args) {\n    switch (typeof arg) {\n      case 'string':\n        await edit(node, arg);\n        break;\n      case 'number':\n        await wait(arg);\n        break;\n      case 'function':\n        await arg(node, ...args);\n        break;\n      default:\n        await arg;\n    }\n  }\n}\n\nasync function edit(node: HTMLElement, text: string): Promise&lt;void&gt; {\n  const overlap = getOverlap(node.textContent, text);\n  await perform(node, [\n    ...deleter(node.textContent, overlap),\n    ...writer(text, overlap),\n  ]);\n}\n\nasync function wait(ms: number): Promise&lt;void&gt; {\n  await new Promise(resolve =&gt; setTimeout(resolve, ms));\n}\n\nasync function perform(\n  node: HTMLElement,\n  edits: Iterable&lt;string | null&gt;,\n  speed: number = 60\n): Promise&lt;void&gt; {\n  for (const op of editor(edits)) {\n    op(node);\n    await wait(speed + speed * (Math.random() - 0.5));\n  }\n}\n\nexport function* editor(\n  edits: Iterable&lt;string | null&gt;\n): Generator&lt;(node: any) =&gt; number, void, unknown&gt; {\n  for (const edit of edits) {\n    yield node =&gt; requestAnimationFrame(() =&gt; (node.textContent = edit));\n  }\n}\n\nexport function* writer(\n  [...text]: string,\n  startIndex: number = 0,\n  endIndex: number = text.length\n): Generator&lt;string, void, unknown&gt; {\n  while (startIndex &lt; endIndex) {\n    yield text.slice(0, ++startIndex).join('');\n  }\n}\n\nexport function* deleter(\n  [...text]: string | null,\n  startIndex: number = 0,\n  endIndex: number = text.length\n): Generator&lt;string, void, unknown&gt; {\n  while (endIndex &gt; startIndex) {\n    yield text.slice(0, --endIndex).join('');\n  }\n}\n\nexport function getOverlap(start: any, [...end]: Iterable&lt;any&gt;): number {\n  return [...start, NaN].findIndex((char, i) =&gt; end[i] !== char);\n}\n```\n\nMostly, I followed VSCode's advice on hover to type it &amp; some logic.\n\nHowever, it gives me an error saying:\n\n&gt; typical.ts(61,3): semantic error TS2488: Type 'string | null' must have a '[Symbol.iterator]()' method that returns an iterator.\n\nLine 61 is `deleter()` function's `[...text]`, i.e,:\n\n```ts\n[...text]: string | null,\n```\n\nHow do I solve this?", "author_fullname": "t2_60mz2ve", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "TS2488: Type 'string | null' must have a '[Symbol.iterator]()' method that returns an iterator", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_hwzeo6", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 1, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1595615420.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I am trying to convert &lt;a href=\"https://github.com/camwiegert/typical/blob/master/typical.js\"&gt;https://github.com/camwiegert/typical/blob/master/typical.js&lt;/a&gt; into TypeScript.&lt;/p&gt;\n\n&lt;p&gt;In Vanilla JS, it looks like:&lt;/p&gt;\n\n&lt;h1&gt;typical.js&lt;/h1&gt;\n\n&lt;p&gt;```js\nexport async function type(node, ...args) {\n    for (const arg of args) {\n        switch (typeof arg) {\n            case &amp;#39;string&amp;#39;:\n                await edit(node, arg);\n                break;\n            case &amp;#39;number&amp;#39;:\n                await wait(arg);\n                break;\n            case &amp;#39;function&amp;#39;:\n                await arg(node, ...args);\n                break;\n            default:\n                await arg;\n        }\n    }\n}&lt;/p&gt;\n\n&lt;p&gt;async function edit(node, text) {\n    const overlap = getOverlap(node.textContent, text);\n    await perform(node, [...deleter(node.textContent, overlap), ...writer(text, overlap)]);\n}&lt;/p&gt;\n\n&lt;p&gt;async function wait(ms) {\n    await new Promise(resolve =&amp;gt; setTimeout(resolve, ms));\n}&lt;/p&gt;\n\n&lt;p&gt;async function perform(node, edits, speed = 60) {\n    for (const op of editor(edits)) {\n        op(node);\n        await wait(speed + speed * (Math.random() - 0.5));\n    }\n}&lt;/p&gt;\n\n&lt;p&gt;export function* editor(edits) {\n    for (const edit of edits) {\n        yield (node) =&amp;gt; requestAnimationFrame(() =&amp;gt; node.textContent = edit);\n    }\n}&lt;/p&gt;\n\n&lt;p&gt;export function* writer([...text], startIndex = 0, endIndex = text.length) {\n    while (startIndex &amp;lt; endIndex) {\n        yield text.slice(0, ++startIndex).join(&amp;#39;&amp;#39;);\n    }\n}&lt;/p&gt;\n\n&lt;p&gt;export function* deleter([...text], startIndex = 0, endIndex = text.length) {\n    while (endIndex &amp;gt; startIndex) {\n        yield text.slice(0, --endIndex).join(&amp;#39;&amp;#39;);\n    }\n}&lt;/p&gt;\n\n&lt;p&gt;export function getOverlap(start, [...end]) {\n    return [...start, NaN].findIndex((char, i) =&amp;gt; end[i] !== char);\n}\n```&lt;/p&gt;\n\n&lt;p&gt;And my TS conversion looks like:&lt;/p&gt;\n\n&lt;h1&gt;typical.ts&lt;/h1&gt;\n\n&lt;p&gt;```ts\nexport async function type(node: HTMLElement, ...args: any[]): Promise&amp;lt;void&amp;gt; {\n  for (const arg of args) {\n    switch (typeof arg) {\n      case &amp;#39;string&amp;#39;:\n        await edit(node, arg);\n        break;\n      case &amp;#39;number&amp;#39;:\n        await wait(arg);\n        break;\n      case &amp;#39;function&amp;#39;:\n        await arg(node, ...args);\n        break;\n      default:\n        await arg;\n    }\n  }\n}&lt;/p&gt;\n\n&lt;p&gt;async function edit(node: HTMLElement, text: string): Promise&amp;lt;void&amp;gt; {\n  const overlap = getOverlap(node.textContent, text);\n  await perform(node, [\n    ...deleter(node.textContent, overlap),\n    ...writer(text, overlap),\n  ]);\n}&lt;/p&gt;\n\n&lt;p&gt;async function wait(ms: number): Promise&amp;lt;void&amp;gt; {\n  await new Promise(resolve =&amp;gt; setTimeout(resolve, ms));\n}&lt;/p&gt;\n\n&lt;p&gt;async function perform(\n  node: HTMLElement,\n  edits: Iterable&amp;lt;string | null&amp;gt;,\n  speed: number = 60\n): Promise&amp;lt;void&amp;gt; {\n  for (const op of editor(edits)) {\n    op(node);\n    await wait(speed + speed * (Math.random() - 0.5));\n  }\n}&lt;/p&gt;\n\n&lt;p&gt;export function* editor(\n  edits: Iterable&amp;lt;string | null&amp;gt;\n): Generator&amp;lt;(node: any) =&amp;gt; number, void, unknown&amp;gt; {\n  for (const edit of edits) {\n    yield node =&amp;gt; requestAnimationFrame(() =&amp;gt; (node.textContent = edit));\n  }\n}&lt;/p&gt;\n\n&lt;p&gt;export function* writer(&lt;/p&gt;\n\n&lt;p&gt;startIndex: number = 0,\n  endIndex: number = text.length\n): Generator&amp;lt;string, void, unknown&amp;gt; {\n  while (startIndex &amp;lt; endIndex) {\n    yield text.slice(0, ++startIndex).join(&amp;#39;&amp;#39;);\n  }\n}&lt;/p&gt;\n\n&lt;p&gt;export function* deleter(\n  [...text]: string | null,\n  startIndex: number = 0,\n  endIndex: number = text.length\n): Generator&amp;lt;string, void, unknown&amp;gt; {\n  while (endIndex &amp;gt; startIndex) {\n    yield text.slice(0, --endIndex).join(&amp;#39;&amp;#39;);\n  }\n}&lt;/p&gt;\n\n&lt;p&gt;export function getOverlap(start: any, [...end]: Iterable&amp;lt;any&amp;gt;): number {\n  return [...start, NaN].findIndex((char, i) =&amp;gt; end[i] !== char);\n}\n```&lt;/p&gt;\n\n&lt;p&gt;Mostly, I followed VSCode&amp;#39;s advice on hover to type it &amp;amp; some logic.&lt;/p&gt;\n\n&lt;p&gt;However, it gives me an error saying:&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;typical.ts(61,3): semantic error TS2488: Type &amp;#39;string | null&amp;#39; must have a &amp;#39;[Symbol.iterator]()&amp;#39; method that returns an iterator.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;Line 61 is &lt;code&gt;deleter()&lt;/code&gt; function&amp;#39;s &lt;code&gt;[...text]&lt;/code&gt;, i.e,:&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;ts\n[...text]: string | null,\n&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;How do I solve this?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/toRoU2zKvzlJdd9XiFV0ayyOhmJZ5gpQCzL51VVPH1s.jpg?auto=webp&amp;s=7caa2b84f7e2cf4413cb1ed44a55e0c28f3842ec", "width": 2560, "height": 1280}, "resolutions": [{"url": "https://external-preview.redd.it/toRoU2zKvzlJdd9XiFV0ayyOhmJZ5gpQCzL51VVPH1s.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=abf2b429ae0962bea308068c899a1181c06f6a00", "width": 108, "height": 54}, {"url": "https://external-preview.redd.it/toRoU2zKvzlJdd9XiFV0ayyOhmJZ5gpQCzL51VVPH1s.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=9406ad25040696eb69c0907cabec8771cad2fd88", "width": 216, "height": 108}, {"url": "https://external-preview.redd.it/toRoU2zKvzlJdd9XiFV0ayyOhmJZ5gpQCzL51VVPH1s.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=536ed712ea51915f8d7058a75b9eb16bdcf46d48", "width": 320, "height": 160}, {"url": "https://external-preview.redd.it/toRoU2zKvzlJdd9XiFV0ayyOhmJZ5gpQCzL51VVPH1s.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;s=83b53f62a053a41288b51b7eecf94b43c687f7cb", "width": 640, "height": 320}, {"url": "https://external-preview.redd.it/toRoU2zKvzlJdd9XiFV0ayyOhmJZ5gpQCzL51VVPH1s.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;s=b3696613378b2f1ef83c8bce6bce0c75106fb0ca", "width": 960, "height": 480}, {"url": "https://external-preview.redd.it/toRoU2zKvzlJdd9XiFV0ayyOhmJZ5gpQCzL51VVPH1s.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;s=4afa0c58e7d429ad81a0faf000b1c7fbfdeea5d7", "width": 1080, "height": 540}], "variants": {}, "id": "Y3-O40Azc_cAfbd6FUvuxn4tlRotgC-6dKgNeoaSVzQ"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hwzeo6", "is_robot_indexable": true, "report_reasons": null, "author": "deadcoder0904", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/hwzeo6/ts2488_type_string_null_must_have_a/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/hwzeo6/ts2488_type_string_null_must_have_a/", "subreddit_subscribers": 44768, "created_utc": 1595586620.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "", "author_fullname": "t2_1t7y74gw", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Gamedev Patterns and Algorithms in Action with TypeScript. Entity Component System", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_hwesaz", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.83, "author_flair_background_color": null, "subreddit_type": "public", "ups": 31, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 31, "approved_by": null, "author_premium": false, "thumbnail": "default", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1595536198.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "medium.com", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://medium.com//entity-component-system-in-action-with-typescript-f498ca82a08e?source=friends_link&amp;sk=e02d1158e11b10330edcb8965b05cd6d", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hwesaz", "is_robot_indexable": true, "report_reasons": null, "author": "jsloverr", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/hwesaz/gamedev_patterns_and_algorithms_in_action_with/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://medium.com//entity-component-system-in-action-with-typescript-f498ca82a08e?source=friends_link&amp;sk=e02d1158e11b10330edcb8965b05cd6d", "subreddit_subscribers": 44768, "created_utc": 1595507398.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "I'm getting the error `TypeError: is not a function` for several Typescript methods I'm testing using mocha. All the importing/exporting for the mocha test seems to be working fine. I'm receiving the error for the specific methods referenced in the code in my StackOverflow post. \n\n[https://stackoverflow.com/questions/63064952/typescript-mocha-testing-how-to-solve-typeerror-is-not-a-function](https://stackoverflow.com/questions/63064952/typescript-mocha-testing-how-to-solve-typeerror-is-not-a-function)\n\nAny advice would be greatly appreciated!", "author_fullname": "t2_2ysan3or", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Typescript Mocha Testing, How to solve TypeError: is not a function?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_hwrhwn", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.67, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1595578816.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;m getting the error &lt;code&gt;TypeError: is not a function&lt;/code&gt; for several Typescript methods I&amp;#39;m testing using mocha. All the importing/exporting for the mocha test seems to be working fine. I&amp;#39;m receiving the error for the specific methods referenced in the code in my StackOverflow post. &lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://stackoverflow.com/questions/63064952/typescript-mocha-testing-how-to-solve-typeerror-is-not-a-function\"&gt;https://stackoverflow.com/questions/63064952/typescript-mocha-testing-how-to-solve-typeerror-is-not-a-function&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Any advice would be greatly appreciated!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/QgPvRTknlY3rMNDqH1k4I37XGiq9tZF_FsygC_Xht4o.jpg?auto=webp&amp;s=8cd5e918e2bde6ca72d4445d6fc007f203689799", "width": 316, "height": 316}, "resolutions": [{"url": "https://external-preview.redd.it/QgPvRTknlY3rMNDqH1k4I37XGiq9tZF_FsygC_Xht4o.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=b1c8a90e5690a7186afdb269ad05279551994d09", "width": 108, "height": 108}, {"url": "https://external-preview.redd.it/QgPvRTknlY3rMNDqH1k4I37XGiq9tZF_FsygC_Xht4o.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=533bd055cdae7998d1b8f9cd9d7dedabc1715bda", "width": 216, "height": 216}], "variants": {}, "id": "nfayPavSUB5ngYv6-19UHNBThsXfcLIDQl4HkEe3Cv0"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hwrhwn", "is_robot_indexable": true, "report_reasons": null, "author": "e_n_v", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/hwrhwn/typescript_mocha_testing_how_to_solve_typeerror/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/hwrhwn/typescript_mocha_testing_how_to_solve_typeerror/", "subreddit_subscribers": 44768, "created_utc": 1595550016.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "Apologies if this is a naive question. I'm relatively new to Typescript and Mocha testing. I have the following question posted on StackOverflow about how to test \\`process.on()\\` using mocha testing, so that I may increase code coverage:\n\n[https://stackoverflow.com/questions/63062843/how-to-test-process-on-using-mocha](https://stackoverflow.com/questions/63062843/how-to-test-process-on-using-mocha)\n\nAny advice would be greatly appreciated!", "author_fullname": "t2_2ysan3or", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How to test process.on() using Mocha", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_hwnsbt", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.75, "author_flair_background_color": null, "subreddit_type": "public", "ups": 4, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 4, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1595566066.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Apologies if this is a naive question. I&amp;#39;m relatively new to Typescript and Mocha testing. I have the following question posted on StackOverflow about how to test `process.on()` using mocha testing, so that I may increase code coverage:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://stackoverflow.com/questions/63062843/how-to-test-process-on-using-mocha\"&gt;https://stackoverflow.com/questions/63062843/how-to-test-process-on-using-mocha&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Any advice would be greatly appreciated!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/QgPvRTknlY3rMNDqH1k4I37XGiq9tZF_FsygC_Xht4o.jpg?auto=webp&amp;s=8cd5e918e2bde6ca72d4445d6fc007f203689799", "width": 316, "height": 316}, "resolutions": [{"url": "https://external-preview.redd.it/QgPvRTknlY3rMNDqH1k4I37XGiq9tZF_FsygC_Xht4o.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=b1c8a90e5690a7186afdb269ad05279551994d09", "width": 108, "height": 108}, {"url": "https://external-preview.redd.it/QgPvRTknlY3rMNDqH1k4I37XGiq9tZF_FsygC_Xht4o.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=533bd055cdae7998d1b8f9cd9d7dedabc1715bda", "width": 216, "height": 216}], "variants": {}, "id": "nfayPavSUB5ngYv6-19UHNBThsXfcLIDQl4HkEe3Cv0"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hwnsbt", "is_robot_indexable": true, "report_reasons": null, "author": "e_n_v", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/hwnsbt/how_to_test_processon_using_mocha/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/hwnsbt/how_to_test_processon_using_mocha/", "subreddit_subscribers": 44768, "created_utc": 1595537266.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "I have an API request helper function with the following return type:\n\n     Promise&lt;[APIError, null] | [null, ResponseData]&gt;\n\nAPIError and ResponseData are custom types that I have defined elsewhere.\n\nMy understanding of this return type is that only two scenarios are possible:\n\n* The first item in the array is not-null, and the second item is null.\n* The first item in the array is null, and the second item is not-null.\n\nThe idea behind this type signature is that we would use destructuring to get the API result, and always have to acknowledge the scenario that the request failed. If we ignored the first argument when destructuring we would get an unused variable linter error.\n\n    const [errors, responseData] = await apiRequest();\n    \n    if (errors != null) {\n        ...\n        return;\n    }\n    \n    console.log(responseData.message);\n\nIn the code example above I have returned early if errors is not null, this means that beyond this point responseData is guaranteed to not be null. However I get the following error when trying to access the message property of responseData.\n\n&gt;Object is possibly 'null'.ts(2531)\n\nIf I remove the destructuring it works as expected with no error.\n\n    const apiResponse = await apiRequest();\n    \n    if (apiResponse[0] != null) {\n        ...\n        return;\n    }\n    \n    console.log(apiResponse[1].message);\n\nIs there any way around this, I understand I could use a 'non-null assertion operator' but I would rather not have the added overhead of doing this.", "author_fullname": "t2_7069aix6", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How can I solve this Object is possibly 'null' error when using array destructuring?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_hwd5d6", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.82, "author_flair_background_color": null, "subreddit_type": "public", "ups": 10, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 10, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1595527940.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have an API request helper function with the following return type:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt; Promise&amp;lt;[APIError, null] | [null, ResponseData]&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;APIError and ResponseData are custom types that I have defined elsewhere.&lt;/p&gt;\n\n&lt;p&gt;My understanding of this return type is that only two scenarios are possible:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;The first item in the array is not-null, and the second item is null.&lt;/li&gt;\n&lt;li&gt;The first item in the array is null, and the second item is not-null.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;The idea behind this type signature is that we would use destructuring to get the API result, and always have to acknowledge the scenario that the request failed. If we ignored the first argument when destructuring we would get an unused variable linter error.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;const [errors, responseData] = await apiRequest();\n\nif (errors != null) {\n    ...\n    return;\n}\n\nconsole.log(responseData.message);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;In the code example above I have returned early if errors is not null, this means that beyond this point responseData is guaranteed to not be null. However I get the following error when trying to access the message property of responseData.&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;Object is possibly &amp;#39;null&amp;#39;.ts(2531)&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;If I remove the destructuring it works as expected with no error.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;const apiResponse = await apiRequest();\n\nif (apiResponse[0] != null) {\n    ...\n    return;\n}\n\nconsole.log(apiResponse[1].message);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Is there any way around this, I understand I could use a &amp;#39;non-null assertion operator&amp;#39; but I would rather not have the added overhead of doing this.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hwd5d6", "is_robot_indexable": true, "report_reasons": null, "author": "FaithfulGiraffe", "discussion_type": null, "num_comments": 9, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/hwd5d6/how_can_i_solve_this_object_is_possibly_null/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/hwd5d6/how_can_i_solve_this_object_is_possibly_null/", "subreddit_subscribers": 44768, "created_utc": 1595499140.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "Hi everyone,\n\nI have an interface that I'm using to identify classes that interact with REST APIs. At the lowest level, the interface looks something like this:\n\n    interface Foo {\n        config: Config;\n\n        constructor(config: Config);\n    }\n\nTo reuse some general functionality and reduce boilerplate between clients, I have an abstract class similar to this:\n\n    abstract class Bar {\n        config: Config;\n\n        constructor(public config: Config) {}\n\n        getGreeting(): string {\n            return `Hello ${this.config.subject}!`;\n        }\n    }\n\nSo the API client classes extend this abstract class and implement a child type of `Foo` (depending on the kind of API/entity it represents - I excluded this layer for brevity since it's irrelevant):\n\n    class Bam extends Bar implements Foo {\n        sayHello(): string {\n            return this.getGreeting();\n        }\n    }\n\nWhen I instantiate `Bam` and log the value returned by `sayHello()`, it is what I expect it to be. However, TypeScript is complaining that:\n\n    Class 'Bam' incorrectly implements interface 'Foo'.\n        Type 'Bam' provides no match for the signature 'constructor(config: Config): any'\n\nWhat am I missing about this? `Bam` inherits the injected dependency, and I'm not overriding the constructor in any of the children - the signature in the abstract class is the same as in the interface.", "author_fullname": "t2_2dxg5w8c", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "TypeScript complaining about class improperly implementing an interface, but it seems to be fine - what am I missing?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_hw4kih", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.89, "author_flair_background_color": null, "subreddit_type": "public", "ups": 12, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 12, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1595488856.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi everyone,&lt;/p&gt;\n\n&lt;p&gt;I have an interface that I&amp;#39;m using to identify classes that interact with REST APIs. At the lowest level, the interface looks something like this:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;interface Foo {\n    config: Config;\n\n    constructor(config: Config);\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;To reuse some general functionality and reduce boilerplate between clients, I have an abstract class similar to this:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;abstract class Bar {\n    config: Config;\n\n    constructor(public config: Config) {}\n\n    getGreeting(): string {\n        return `Hello ${this.config.subject}!`;\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;So the API client classes extend this abstract class and implement a child type of &lt;code&gt;Foo&lt;/code&gt; (depending on the kind of API/entity it represents - I excluded this layer for brevity since it&amp;#39;s irrelevant):&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;class Bam extends Bar implements Foo {\n    sayHello(): string {\n        return this.getGreeting();\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;When I instantiate &lt;code&gt;Bam&lt;/code&gt; and log the value returned by &lt;code&gt;sayHello()&lt;/code&gt;, it is what I expect it to be. However, TypeScript is complaining that:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;Class &amp;#39;Bam&amp;#39; incorrectly implements interface &amp;#39;Foo&amp;#39;.\n    Type &amp;#39;Bam&amp;#39; provides no match for the signature &amp;#39;constructor(config: Config): any&amp;#39;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;What am I missing about this? &lt;code&gt;Bam&lt;/code&gt; inherits the injected dependency, and I&amp;#39;m not overriding the constructor in any of the children - the signature in the abstract class is the same as in the interface.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hw4kih", "is_robot_indexable": true, "report_reasons": null, "author": "parks_canada", "discussion_type": null, "num_comments": 4, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/hw4kih/typescript_complaining_about_class_improperly/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/hw4kih/typescript_complaining_about_class_improperly/", "subreddit_subscribers": 44768, "created_utc": 1595460056.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "I wrote this function with a generic type:\n\n`export const listToArray: &lt;T&gt;(list: {[key: string]: T[]}) =&gt; T[] = (list) =&gt; {`  \n `let res: any[] = [];`  \n `for (let key in list) {`  \n `res = res.concat(list[key])`  \n`}`  \n `return res;`  \n`}`\n\nI'm not too experienced in TS but I can't really see a way to type the res array correctly since it's value depends on the generic. If there any way to type the res array that I'm simply overlooking?\n\nThanks!", "author_fullname": "t2_51jk4mxm", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Any way to type this array in a generic function?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_hw3d9f", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 6, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 6, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1595484736.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I wrote this function with a generic type:&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;export const listToArray: &amp;lt;T&amp;gt;(list: {[key: string]: T[]}) =&amp;gt; T[] = (list) =&amp;gt; {&lt;/code&gt;&lt;br/&gt;\n &lt;code&gt;let res: any[] = [];&lt;/code&gt;&lt;br/&gt;\n &lt;code&gt;for (let key in list) {&lt;/code&gt;&lt;br/&gt;\n &lt;code&gt;res = res.concat(list[key])&lt;/code&gt;&lt;br/&gt;\n&lt;code&gt;}&lt;/code&gt;&lt;br/&gt;\n &lt;code&gt;return res;&lt;/code&gt;&lt;br/&gt;\n&lt;code&gt;}&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m not too experienced in TS but I can&amp;#39;t really see a way to type the res array correctly since it&amp;#39;s value depends on the generic. If there any way to type the res array that I&amp;#39;m simply overlooking?&lt;/p&gt;\n\n&lt;p&gt;Thanks!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hw3d9f", "is_robot_indexable": true, "report_reasons": null, "author": "memo_mar", "discussion_type": null, "num_comments": 4, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/hw3d9f/any_way_to_type_this_array_in_a_generic_function/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/hw3d9f/any_way_to_type_this_array_in_a_generic_function/", "subreddit_subscribers": 44768, "created_utc": 1595455936.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "typescript", "selftext": "I have a module that exports a factory but also has as a side effect the registration of that factory to a diContainer . I can take the factory return type from the import via `ReturnType&lt;typeof factory&gt;` but I am supposed to get its return value from the diContainer , which is responsible for resolving its dependencies . The factory returns a class . How can I create the ts type that corresponds to the instance of the class?\n\n^(Every get that I do on the diContainer has as type any . Can I somehow make the diContainer give me the correct type when I get on it ?)\n\nEdit : For some strange reason the following works :\n\n    import {diContainer} from \"./diContainer\";\n    import {factory} from \"./factory\";\n    \n    type myClassInstance = ReturnType&lt;typeof factory&gt;[\"prototype\"];\n    \n    let myClassInstance : myClassInstance;\n\nBut I can use `myClassInstance` for type on the instances only and not the class .", "author_fullname": "t2_1ihbqq55", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Given the type of a class , how can I get the type of the instances it creates ?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/typescript", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_hw1vm1", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.8, "author_flair_background_color": null, "subreddit_type": "public", "ups": 6, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 6, "approved_by": null, "author_premium": false, "thumbnail": "self", "edited": 1595458478.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1595479826.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.typescript", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have a module that exports a factory but also has as a side effect the registration of that factory to a diContainer . I can take the factory return type from the import via &lt;code&gt;ReturnType&amp;lt;typeof factory&amp;gt;&lt;/code&gt; but I am supposed to get its return value from the diContainer , which is responsible for resolving its dependencies . The factory returns a class . How can I create the ts type that corresponds to the instance of the class?&lt;/p&gt;\n\n&lt;p&gt;&lt;sup&gt;Every get that I do on the diContainer has as type any . Can I somehow make the diContainer give me the correct type when I get on it ?&lt;/sup&gt;&lt;/p&gt;\n\n&lt;p&gt;Edit : For some strange reason the following works :&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;import {diContainer} from &amp;quot;./diContainer&amp;quot;;\nimport {factory} from &amp;quot;./factory&amp;quot;;\n\ntype myClassInstance = ReturnType&amp;lt;typeof factory&amp;gt;[&amp;quot;prototype&amp;quot;];\n\nlet myClassInstance : myClassInstance;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;But I can use &lt;code&gt;myClassInstance&lt;/code&gt; for type on the instances only and not the class .&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2v6gg", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hw1vm1", "is_robot_indexable": true, "report_reasons": null, "author": "liaguris", "discussion_type": null, "num_comments": 9, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/typescript/comments/hw1vm1/given_the_type_of_a_class_how_can_i_get_the_type/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/typescript/comments/hw1vm1/given_the_type_of_a_class_how_can_i_get_the_type/", "subreddit_subscribers": 44768, "created_utc": 1595451026.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_hw1vm1", "before": null}}