{"kind": "Listing", "data": {"modhash": "", "dist": 10, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "aws", "selftext": "I used lambda to unzip S3 file back to s3.  Lambda can't unzip more than 3gb file.  I created a script that unzips by streaming chunks of file. \n\n[https://medium.com/@multiaki/unzipping-s3-files-back-to-s3-without-uncompressing-entire-file-streaming-82f662b5065a](https://medium.com/@multiaki/unzipping-s3-files-back-to-s3-without-uncompressing-entire-file-streaming-82f662b5065a)", "author_fullname": "t2_xsbll", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Unzipping s3 file in chunks using lambda", "link_flair_richtext": [], "subreddit_name_prefixed": "r/aws", "hidden": false, "pwls": 6, "link_flair_css_class": "resource", "downs": 0, "hide_score": false, "name": "t3_fmrwfb", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 22, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "technical resource", "can_mod_post": false, "score": 22, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1584871593.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.aws", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I used lambda to unzip S3 file back to s3.  Lambda can&amp;#39;t unzip more than 3gb file.  I created a script that unzips by streaming chunks of file. &lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://medium.com/@multiaki/unzipping-s3-files-back-to-s3-without-uncompressing-entire-file-streaming-82f662b5065a\"&gt;https://medium.com/@multiaki/unzipping-s3-files-back-to-s3-without-uncompressing-entire-file-streaming-82f662b5065a&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "90cdeee6-b9e3-11e6-8d35-0eabbe333632", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh84", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#dadada", "id": "fmrwfb", "is_robot_indexable": true, "report_reasons": null, "author": "multiaki", "discussion_type": null, "num_comments": 12, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/aws/comments/fmrwfb/unzipping_s3_file_in_chunks_using_lambda/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/aws/comments/fmrwfb/unzipping_s3_file_in_chunks_using_lambda/", "subreddit_subscribers": 114308, "created_utc": 1584842793.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "aws", "selftext": "For lift &amp; shifts (Rehosting), I think CloudEndure is used for Windows workloads, but what do people use for Linux based workloads?\n\nI gather the best option is to boot the OS AMI on EC2 and rsync across the system as best you can and create your own AMI? Or am I missing a tool? VM import/export is only for VMware AFACIT.", "author_fullname": "t2_2je3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Existing VPS image to EC2", "link_flair_richtext": [], "subreddit_name_prefixed": "r/aws", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "hide_score": false, "name": "t3_fmxbzm", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 5, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "technical question", "can_mod_post": false, "score": 5, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1584898643.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.aws", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;For lift &amp;amp; shifts (Rehosting), I think CloudEndure is used for Windows workloads, but what do people use for Linux based workloads?&lt;/p&gt;\n\n&lt;p&gt;I gather the best option is to boot the OS AMI on EC2 and rsync across the system as best you can and create your own AMI? Or am I missing a tool? VM import/export is only for VMware AFACIT.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "e0acaab0-fe51-11e8-b457-0e86fa5111f4", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh84", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#dadada", "id": "fmxbzm", "is_robot_indexable": true, "report_reasons": null, "author": "kai", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/aws/comments/fmxbzm/existing_vps_image_to_ec2/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/aws/comments/fmxbzm/existing_vps_image_to_ec2/", "subreddit_subscribers": 114308, "created_utc": 1584869843.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "aws", "selftext": "I was in disbelief to discover that using Cloudfront infront of a static S3 website you're unable to request sub-directory index files unless [you have a lambda trigger function that rewrites the request](https://aws.amazon.com/blogs/compute/implementing-default-directory-indexes-in-amazon-s3-backed-amazon-cloudfront-origins-using-lambdaedge/) for you.\n\nIs this still the case or is there a better way to configure this in Cloudfront today?", "author_fullname": "t2_cvzdp", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Cloudfront really can't handle sub-directory indexes without a lambda trigger?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/aws", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "hide_score": true, "name": "t3_fmzcjg", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "technical question", "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1584909705.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.aws", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I was in disbelief to discover that using Cloudfront infront of a static S3 website you&amp;#39;re unable to request sub-directory index files unless &lt;a href=\"https://aws.amazon.com/blogs/compute/implementing-default-directory-indexes-in-amazon-s3-backed-amazon-cloudfront-origins-using-lambdaedge/\"&gt;you have a lambda trigger function that rewrites the request&lt;/a&gt; for you.&lt;/p&gt;\n\n&lt;p&gt;Is this still the case or is there a better way to configure this in Cloudfront today?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "e0acaab0-fe51-11e8-b457-0e86fa5111f4", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh84", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#dadada", "id": "fmzcjg", "is_robot_indexable": true, "report_reasons": null, "author": "stemid85", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/aws/comments/fmzcjg/cloudfront_really_cant_handle_subdirectory/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/aws/comments/fmzcjg/cloudfront_really_cant_handle_subdirectory/", "subreddit_subscribers": 114308, "created_utc": 1584880905.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "aws", "selftext": "Is it possible to set up Appsync in a way that uses the Cognito user pool of another AWS account? API Gateway can use user pools from other accounts as an authorizer but I can't find docs for Appsync. I'd like to allow existing users to call appsync endpoints in a new account.", "author_fullname": "t2_i8xz124", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How to configure cross-account Cognito authorizer for Appsync?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/aws", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "hide_score": false, "name": "t3_fmvuxf", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "technical question", "can_mod_post": false, "score": 3, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1584889764.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.aws", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Is it possible to set up Appsync in a way that uses the Cognito user pool of another AWS account? API Gateway can use user pools from other accounts as an authorizer but I can&amp;#39;t find docs for Appsync. I&amp;#39;d like to allow existing users to call appsync endpoints in a new account.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "e0acaab0-fe51-11e8-b457-0e86fa5111f4", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh84", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#dadada", "id": "fmvuxf", "is_robot_indexable": true, "report_reasons": null, "author": "CommonEyestrain", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/aws/comments/fmvuxf/how_to_configure_crossaccount_cognito_authorizer/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/aws/comments/fmvuxf/how_to_configure_crossaccount_cognito_authorizer/", "subreddit_subscribers": 114308, "created_utc": 1584860964.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "aws", "selftext": "Hello,\n\nWe currently have data in S3, that gets transformed using EMR and copied to Redshift - which serves our internal users for building their visualizations using Tableau. We are looking for options to leverage the transformed data in S3, then build a few KPIs using D3js or something similar. Idea is to display the visualizations(usage stats) on the home page for all users when the user logs into the website. \n\nI am planning to use D3js, API Gateway, Lambda and Aurora Postgres to achieve this. The reasons I am leaning towards Aurora Postgres is \n\n* Transformed data that we build visualizations using D3js is less than 3GB.\n* Redshift is expensive.\n* our website can have 300-500 concurrent users at a time.\n\nHere are the questions I've:\n\n1. When I've so many concurrent users logged in, is triggering 300-500 Lambdas scalable?\n2. Is there a better DB Backend solution than Aurora Postgres for less data and more concurrency?\n3. Finally, is my approach correct?\n\nThanks in advance.", "author_fullname": "t2_2yujnpp7", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Display data in d3js visualizations(KPIs) using API Gateway, Lambda and Aurora", "link_flair_richtext": [], "subreddit_name_prefixed": "r/aws", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "hide_score": false, "name": "t3_fmucc4", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 5, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "discussion", "can_mod_post": false, "score": 5, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1584881826.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.aws", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hello,&lt;/p&gt;\n\n&lt;p&gt;We currently have data in S3, that gets transformed using EMR and copied to Redshift - which serves our internal users for building their visualizations using Tableau. We are looking for options to leverage the transformed data in S3, then build a few KPIs using D3js or something similar. Idea is to display the visualizations(usage stats) on the home page for all users when the user logs into the website. &lt;/p&gt;\n\n&lt;p&gt;I am planning to use D3js, API Gateway, Lambda and Aurora Postgres to achieve this. The reasons I am leaning towards Aurora Postgres is &lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Transformed data that we build visualizations using D3js is less than 3GB.&lt;/li&gt;\n&lt;li&gt;Redshift is expensive.&lt;/li&gt;\n&lt;li&gt;our website can have 300-500 concurrent users at a time.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Here are the questions I&amp;#39;ve:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;When I&amp;#39;ve so many concurrent users logged in, is triggering 300-500 Lambdas scalable?&lt;/li&gt;\n&lt;li&gt;Is there a better DB Backend solution than Aurora Postgres for less data and more concurrency?&lt;/li&gt;\n&lt;li&gt;Finally, is my approach correct?&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;Thanks in advance.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "962d796e-fa9c-11e8-a3dc-0e1ba4fe1be4", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh84", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#dadada", "id": "fmucc4", "is_robot_indexable": true, "report_reasons": null, "author": "learningpundit", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/aws/comments/fmucc4/display_data_in_d3js_visualizationskpis_using_api/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/aws/comments/fmucc4/display_data_in_d3js_visualizationskpis_using_api/", "subreddit_subscribers": 114308, "created_utc": 1584853026.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "aws", "selftext": "Hi guys, i we have a bastion host in AWS infra, that we use it to tshoot vpn connectivity issues by simply pinging vpn peers.  \nMy purpose is to write the results of the ping in an html file and i was thinking to install apache web server and place there the html file so my colleagues that don't have ssh access to the bastion host, can see if pings fail through this html page.  \nMy concern is: isn't it dangerous if i expose our bastion to the public web by installing apache on it? can someone experienced on the matter offer me his advice of how to design a solution without security \"holes\"? It doesn't have to be necessarily via bastion host &amp; html, something with Cloudwatch perhaps ?  \nThank you!", "author_fullname": "t2_5k828t9q", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Monitor vpn traffic", "link_flair_richtext": [], "subreddit_name_prefixed": "r/aws", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "hide_score": false, "name": "t3_fmuq3b", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 5, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "monitoring", "can_mod_post": false, "score": 5, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1584883716.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.aws", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi guys, i we have a bastion host in AWS infra, that we use it to tshoot vpn connectivity issues by simply pinging vpn peers.&lt;br/&gt;\nMy purpose is to write the results of the ping in an html file and i was thinking to install apache web server and place there the html file so my colleagues that don&amp;#39;t have ssh access to the bastion host, can see if pings fail through this html page.&lt;br/&gt;\nMy concern is: isn&amp;#39;t it dangerous if i expose our bastion to the public web by installing apache on it? can someone experienced on the matter offer me his advice of how to design a solution without security &amp;quot;holes&amp;quot;? It doesn&amp;#39;t have to be necessarily via bastion host &amp;amp; html, something with Cloudwatch perhaps ?&lt;br/&gt;\nThank you!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "e6592206-1ce0-11e9-a9e6-0e7bd20fa500", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh84", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#dadada", "id": "fmuq3b", "is_robot_indexable": true, "report_reasons": null, "author": "Cloud--Man", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/aws/comments/fmuq3b/monitor_vpn_traffic/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/aws/comments/fmuq3b/monitor_vpn_traffic/", "subreddit_subscribers": 114308, "created_utc": 1584854916.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "aws", "selftext": "I am trying to replicate the steps in this [post](https://aws.amazon.com/blogs/desktop-and-application-streaming/add-your-workspaces-to-azure-ad-using-azure-active-directory-domain-services/). However, When I get to the step where I create the ad connector, it fails with the following error:\n\n\\&gt; DNS unavailable (TCP port 53) for IP: [10.0.0.4](https://10.0.0.4), DNS unavailable (TCP port 53) for IP: [10.0.0.5](https://10.0.0.5)\n\nI am very proficient with AWS. However, I'm struggling with Azure and feel I may have misconfigured something. I have carried out the following steps thus far:\n\n&amp;#x200B;\n\nIn Azure, I used an existing resource group and created \"Azure AD Domain Services\" instance using default configuration\n\n**Basics**\n\n \\- Name: sy\\*\\*\\*\\*\\*\\*[k.com](https://k.com) \n\n \\- Subscription: Pay-As-You-Go \n\n \\- Resource Group:\n\n \\- Default Region: UK South\n\n \\- SKU: Standard  Forest type: User\n\n**Network**\n\n \\- Virtual network: (new) aadds-vnet\n\n \\- Subnet: (new) aadds-subnet\n\n \\- Subnet Address: [10.0.0.0/24](https://10.0.0.0/24)\n\n \\- Network Security Group: (new) aadds-nsg\n\n&amp;#x200B;\n\nI created a site to site vpn connection with azure virtual network. However, I am not sure about this step in the post: \"The tunnels must be configured to allow traffic from your AADDS endpoints and the Subnets\" How exactly do I do this?\n\n&amp;#x200B;\n\nIn AWS VPC cidr is [10.1.0.0/16](https://10.1.0.0/16) and both tunnels between AWS VPC and Azure Virtual Network are up and connected. I tried to contact the post author: \"Justin Stokes\" directly but can't find any emails for him. I cannot find a single online guide on how to set this up step by step along with the site to site ipsec setup. It would be very very helpful if someone can provide a video tutorial for this step by step from A-Z instead of leaving a chunk of the steps out of the guide.\n\n&amp;#x200B;\n\nThe troubleshooting guide [here](https://docs.aws.amazon.com/directoryservice/latest/admin-guide/ad_connector_troubleshooting.html) suggest that the firewall i.e. network security group is not allowing port 53TCP/UDP inbound for AD Connector. But I updated the networks security group as a test with a rule to allow any source, any destination and any port and still I'm getting the same error.", "author_fullname": "t2_24e847vt", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "AWS Active Directory Connector and Azure Active Directory Domain Services", "link_flair_richtext": [], "subreddit_name_prefixed": "r/aws", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "hide_score": false, "name": "t3_fmogdc", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 13, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "networking", "can_mod_post": false, "score": 13, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1584858779.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.aws", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I am trying to replicate the steps in this &lt;a href=\"https://aws.amazon.com/blogs/desktop-and-application-streaming/add-your-workspaces-to-azure-ad-using-azure-active-directory-domain-services/\"&gt;post&lt;/a&gt;. However, When I get to the step where I create the ad connector, it fails with the following error:&lt;/p&gt;\n\n&lt;p&gt;&amp;gt; DNS unavailable (TCP port 53) for IP: &lt;a href=\"https://10.0.0.4\"&gt;10.0.0.4&lt;/a&gt;, DNS unavailable (TCP port 53) for IP: &lt;a href=\"https://10.0.0.5\"&gt;10.0.0.5&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;I am very proficient with AWS. However, I&amp;#39;m struggling with Azure and feel I may have misconfigured something. I have carried out the following steps thus far:&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;In Azure, I used an existing resource group and created &amp;quot;Azure AD Domain Services&amp;quot; instance using default configuration&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Basics&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;- Name: sy******&lt;a href=\"https://k.com\"&gt;k.com&lt;/a&gt; &lt;/p&gt;\n\n&lt;p&gt;- Subscription: Pay-As-You-Go &lt;/p&gt;\n\n&lt;p&gt;- Resource Group:&lt;/p&gt;\n\n&lt;p&gt;- Default Region: UK South&lt;/p&gt;\n\n&lt;p&gt;- SKU: Standard  Forest type: User&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Network&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;- Virtual network: (new) aadds-vnet&lt;/p&gt;\n\n&lt;p&gt;- Subnet: (new) aadds-subnet&lt;/p&gt;\n\n&lt;p&gt;- Subnet Address: &lt;a href=\"https://10.0.0.0/24\"&gt;10.0.0.0/24&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;- Network Security Group: (new) aadds-nsg&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;I created a site to site vpn connection with azure virtual network. However, I am not sure about this step in the post: &amp;quot;The tunnels must be configured to allow traffic from your AADDS endpoints and the Subnets&amp;quot; How exactly do I do this?&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;In AWS VPC cidr is &lt;a href=\"https://10.1.0.0/16\"&gt;10.1.0.0/16&lt;/a&gt; and both tunnels between AWS VPC and Azure Virtual Network are up and connected. I tried to contact the post author: &amp;quot;Justin Stokes&amp;quot; directly but can&amp;#39;t find any emails for him. I cannot find a single online guide on how to set this up step by step along with the site to site ipsec setup. It would be very very helpful if someone can provide a video tutorial for this step by step from A-Z instead of leaving a chunk of the steps out of the guide.&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;The troubleshooting guide &lt;a href=\"https://docs.aws.amazon.com/directoryservice/latest/admin-guide/ad_connector_troubleshooting.html\"&gt;here&lt;/a&gt; suggest that the firewall i.e. network security group is not allowing port 53TCP/UDP inbound for AD Connector. But I updated the networks security group as a test with a rule to allow any source, any destination and any port and still I&amp;#39;m getting the same error.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "fa6637dc-fe51-11e8-b451-0e432432760c", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh84", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#dadada", "id": "fmogdc", "is_robot_indexable": true, "report_reasons": null, "author": "emoshaya", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/aws/comments/fmogdc/aws_active_directory_connector_and_azure_active/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/aws/comments/fmogdc/aws_active_directory_connector_and_azure_active/", "subreddit_subscribers": 114308, "created_utc": 1584829979.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "aws", "selftext": "", "author_fullname": "t2_bhzle", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "One Lambda to Rule Them All - A Python Adventure in AWS (Feat. API Gateway)", "link_flair_richtext": [], "subreddit_name_prefixed": "r/aws", "hidden": false, "pwls": 6, "link_flair_css_class": "resource", "downs": 0, "hide_score": false, "name": "t3_fmffvo", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 34, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "technical resource", "can_mod_post": false, "score": 34, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1584828265.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "medium.com", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "90cdeee6-b9e3-11e6-8d35-0eabbe333632", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh84", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#dadada", "id": "fmffvo", "is_robot_indexable": true, "report_reasons": null, "author": "timcotten", "discussion_type": null, "num_comments": 26, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/aws/comments/fmffvo/one_lambda_to_rule_them_all_a_python_adventure_in/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://medium.com/@cottenio/one-lambda-to-rule-them-all-44401893123f", "subreddit_subscribers": 114308, "created_utc": 1584799465.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "aws", "selftext": "Hello,\nI have an S3 bucket setup to serve a static site along with CloudFront. I have the below bucket policy and CORS configuration, and what I am wondering now is how do I prevent direct access to assets except for when they are loaded through the site? That is, if I go to mySite.tld I want to see mySite.tld/images/someImage.jpg displayed on it, but if I go directly to mySite.tld/images/someImage.jpg in my browser I'd like it to give back forbidden or such. Is that feasible?\n\nMotivation: I bought a commercial font and the license asks that I put such technical barriers in place.\n\nThank you in advance for any advice / help you can give.\n\nBucket Policy:\n```\n{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"2\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity ------------\"\n      },\n      \"Action\": \"s3:GetObject\",\n      \"Resource\": \"arn:aws:s3:::mySite.tld/*\"\n    }\n  ]\n}\n```\n\nCORS Configuration:\n```\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;CORSConfiguration xmlns=\"http://s3.amazonaws.com/doc/2006-03-01/\"&gt;\n  &lt;CORSRule&gt;\n    &lt;AllowedOrigin&gt;https://mySite.tld&lt;/AllowedOrigin&gt;\n    &lt;AllowedMethod&gt;GET&lt;/AllowedMethod&gt;\n  &lt;/CORSRule&gt;\n&lt;/CORSConfiguration&gt;\n```", "author_fullname": "t2_6yyij", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Question: How to prevent direct linking from website.", "link_flair_richtext": [], "subreddit_name_prefixed": "r/aws", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "hide_score": false, "name": "t3_fmevna", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 26, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "technical question", "can_mod_post": false, "score": 26, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1584825714.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.aws", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hello,\nI have an S3 bucket setup to serve a static site along with CloudFront. I have the below bucket policy and CORS configuration, and what I am wondering now is how do I prevent direct access to assets except for when they are loaded through the site? That is, if I go to mySite.tld I want to see mySite.tld/images/someImage.jpg displayed on it, but if I go directly to mySite.tld/images/someImage.jpg in my browser I&amp;#39;d like it to give back forbidden or such. Is that feasible?&lt;/p&gt;\n\n&lt;p&gt;Motivation: I bought a commercial font and the license asks that I put such technical barriers in place.&lt;/p&gt;\n\n&lt;p&gt;Thank you in advance for any advice / help you can give.&lt;/p&gt;\n\n&lt;p&gt;Bucket Policy:\n&lt;code&gt;\n{\n  &amp;quot;Version&amp;quot;: &amp;quot;2012-10-17&amp;quot;,\n  &amp;quot;Statement&amp;quot;: [\n    {\n      &amp;quot;Sid&amp;quot;: &amp;quot;2&amp;quot;,\n      &amp;quot;Effect&amp;quot;: &amp;quot;Allow&amp;quot;,\n      &amp;quot;Principal&amp;quot;: {\n        &amp;quot;AWS&amp;quot;: &amp;quot;arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity ------------&amp;quot;\n      },\n      &amp;quot;Action&amp;quot;: &amp;quot;s3:GetObject&amp;quot;,\n      &amp;quot;Resource&amp;quot;: &amp;quot;arn:aws:s3:::mySite.tld/*&amp;quot;\n    }\n  ]\n}\n&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;CORS Configuration:\n&lt;code&gt;\n&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;\n&amp;lt;CORSConfiguration xmlns=&amp;quot;http://s3.amazonaws.com/doc/2006-03-01/&amp;quot;&amp;gt;\n  &amp;lt;CORSRule&amp;gt;\n    &amp;lt;AllowedOrigin&amp;gt;https://mySite.tld&amp;lt;/AllowedOrigin&amp;gt;\n    &amp;lt;AllowedMethod&amp;gt;GET&amp;lt;/AllowedMethod&amp;gt;\n  &amp;lt;/CORSRule&amp;gt;\n&amp;lt;/CORSConfiguration&amp;gt;\n&lt;/code&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "e0acaab0-fe51-11e8-b457-0e86fa5111f4", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh84", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#dadada", "id": "fmevna", "is_robot_indexable": true, "report_reasons": null, "author": "ummaycoc", "discussion_type": null, "num_comments": 10, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/aws/comments/fmevna/question_how_to_prevent_direct_linking_from/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/aws/comments/fmevna/question_how_to_prevent_direct_linking_from/", "subreddit_subscribers": 114308, "created_utc": 1584796914.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "aws", "selftext": "Hi, I'm hoping you can help. I have an S3 bucket that I have created a TotalDownloaded metric, and now I'm trying to create an alarm that will go off if someone uses more than a monthly allotted amount of bandwidth but I don't see how to control the flow of data.\n\nI don't know how to tame that metric and make it go into an alarm state when the limit is hit within 30 days.", "author_fullname": "t2_34inb2a3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "S3 Bucket Download Limit", "link_flair_richtext": [], "subreddit_name_prefixed": "r/aws", "hidden": false, "pwls": 6, "link_flair_css_class": "support", "downs": 0, "hide_score": false, "name": "t3_fmiwaf", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 5, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "support query", "can_mod_post": false, "score": 5, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1584825576.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1584841650.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.aws", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi, I&amp;#39;m hoping you can help. I have an S3 bucket that I have created a TotalDownloaded metric, and now I&amp;#39;m trying to create an alarm that will go off if someone uses more than a monthly allotted amount of bandwidth but I don&amp;#39;t see how to control the flow of data.&lt;/p&gt;\n\n&lt;p&gt;I don&amp;#39;t know how to tame that metric and make it go into an alarm state when the limit is hit within 30 days.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "cd6512b2-b9e3-11e6-af4d-0eb0735f94c0", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh84", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#dadada", "id": "fmiwaf", "is_robot_indexable": true, "report_reasons": null, "author": "servechilled82", "discussion_type": null, "num_comments": 6, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/aws/comments/fmiwaf/s3_bucket_download_limit/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/aws/comments/fmiwaf/s3_bucket_download_limit/", "subreddit_subscribers": 114308, "created_utc": 1584812850.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_fmiwaf", "before": null}}