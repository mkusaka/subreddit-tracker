{"kind": "Listing", "data": {"modhash": "", "dist": 12, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "Mystified about strings? Borrow checker have you in a headlock? Seek help here! There are no stupid questions, only docs that haven't been written yet.\n\nIf you have a [StackOverflow](http://stackoverflow.com/) account, consider asking it there instead! StackOverflow shows up much higher in search results, so having your question there also helps future Rust users (be sure to give it [the \"Rust\" tag](http://stackoverflow.com/questions/tagged/rust) for maximum visibility). Note that this site is very interested in question quality. I've been asked to read a RFC I authored once. If you want your code reviewed or review other's code, there's a [codereview stackexchange](https://codereview.stackexchange.com/questions/tagged/rust), too. If you need to test your code, maybe [the Rust playground](https://play.rust-lang.org) is for you.\n\nHere are some other venues where help may be found:\n\n[/r/learnrust](https://www.reddit.com/r/learnrust) is a subreddit to share your questions and epiphanies learning Rust programming.\n\nThe official Rust user forums: [https://users.rust-lang.org/](https://users.rust-lang.org/).\n\nThe official Rust Programming Language Discord: [https://discord.gg/rust-lang](https://discord.gg/rust-lang)\n\nThe unofficial Rust community Discord: [https://bit.ly/rust-community](https://bit.ly/rust-community)\n\nAlso check out [last week's thread](https://reddit.com/r/rust/comments/gd6g9w/hey_rustaceans_got_an_easy_question_ask_here/) with many good questions and answers. And if you believe your question to be either very complex or worthy of larger dissemination, feel free to create a text post.\n\nAlso if you want to be mentored by experienced Rustaceans, tell us the area of expertise that you seek.", "author_fullname": "t2_1kxp4", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Hey Rustaceans! Got an easy question? Ask here (20/2020)!", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_ghw4v6", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.92, "author_flair_background_color": "", "subreddit_type": "public", "ups": 22, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 22, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": "contrib", "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1589258837.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Mystified about strings? Borrow checker have you in a headlock? Seek help here! There are no stupid questions, only docs that haven&amp;#39;t been written yet.&lt;/p&gt;\n\n&lt;p&gt;If you have a &lt;a href=\"http://stackoverflow.com/\"&gt;StackOverflow&lt;/a&gt; account, consider asking it there instead! StackOverflow shows up much higher in search results, so having your question there also helps future Rust users (be sure to give it &lt;a href=\"http://stackoverflow.com/questions/tagged/rust\"&gt;the &amp;quot;Rust&amp;quot; tag&lt;/a&gt; for maximum visibility). Note that this site is very interested in question quality. I&amp;#39;ve been asked to read a RFC I authored once. If you want your code reviewed or review other&amp;#39;s code, there&amp;#39;s a &lt;a href=\"https://codereview.stackexchange.com/questions/tagged/rust\"&gt;codereview stackexchange&lt;/a&gt;, too. If you need to test your code, maybe &lt;a href=\"https://play.rust-lang.org\"&gt;the Rust playground&lt;/a&gt; is for you.&lt;/p&gt;\n\n&lt;p&gt;Here are some other venues where help may be found:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://www.reddit.com/r/learnrust\"&gt;/r/learnrust&lt;/a&gt; is a subreddit to share your questions and epiphanies learning Rust programming.&lt;/p&gt;\n\n&lt;p&gt;The official Rust user forums: &lt;a href=\"https://users.rust-lang.org/\"&gt;https://users.rust-lang.org/&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;The official Rust Programming Language Discord: &lt;a href=\"https://discord.gg/rust-lang\"&gt;https://discord.gg/rust-lang&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;The unofficial Rust community Discord: &lt;a href=\"https://bit.ly/rust-community\"&gt;https://bit.ly/rust-community&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Also check out &lt;a href=\"https://reddit.com/r/rust/comments/gd6g9w/hey_rustaceans_got_an_easy_question_ask_here/\"&gt;last week&amp;#39;s thread&lt;/a&gt; with many good questions and answers. And if you believe your question to be either very complex or worthy of larger dissemination, feel free to create a text post.&lt;/p&gt;\n\n&lt;p&gt;Also if you want to be mentored by experienced Rustaceans, tell us the area of expertise that you seek.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": "new", "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": "clippy \u00b7 twir \u00b7 rust \u00b7 mutagen \u00b7 flamer \u00b7 overflower \u00b7 bytecount", "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "ghw4v6", "is_robot_indexable": true, "report_reasons": null, "author": "llogiq", "discussion_type": null, "num_comments": 104, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": "dark", "permalink": "/r/rust/comments/ghw4v6/hey_rustaceans_got_an_easy_question_ask_here/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rust/comments/ghw4v6/hey_rustaceans_got_an_easy_question_ask_here/", "subreddit_subscribers": 99619, "created_utc": 1589230037.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_eki22", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "This week in Rust 338", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_gikfuy", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": "", "subreddit_type": "public", "ups": 103, "total_awards_received": 1, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 103, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1589346450.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "this-week-in-rust.org", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [{"giver_coin_reward": null, "subreddit_id": null, "is_new": false, "days_of_drip_extension": 0, "coin_price": 300, "id": "award_28e8196b-d4e9-45bc-b612-cd4c7d3ed4b3", "penny_donate": null, "coin_reward": 0, "icon_url": "https://i.redd.it/award_images/t5_22cerq/94pn64yuas941_RocketLike.png", "days_of_premium": 0, "icon_height": 2048, "resized_icons": [{"url": "https://preview.redd.it/award_images/t5_22cerq/94pn64yuas941_RocketLike.png?width=16&amp;height=16&amp;auto=webp&amp;s=c1400eb6ea235d0c96c3aa6e271c71d7f339cbd4", "width": 16, "height": 16}, {"url": "https://preview.redd.it/award_images/t5_22cerq/94pn64yuas941_RocketLike.png?width=32&amp;height=32&amp;auto=webp&amp;s=77ad345b2f9b062140e028764394594326771a17", "width": 32, "height": 32}, {"url": "https://preview.redd.it/award_images/t5_22cerq/94pn64yuas941_RocketLike.png?width=48&amp;height=48&amp;auto=webp&amp;s=5b5211166e4b260311ad9f3ea31d3b815110769c", "width": 48, "height": 48}, {"url": "https://preview.redd.it/award_images/t5_22cerq/94pn64yuas941_RocketLike.png?width=64&amp;height=64&amp;auto=webp&amp;s=bf3a2c642ad50547087d770c65c29777970d3af3", "width": 64, "height": 64}, {"url": "https://preview.redd.it/award_images/t5_22cerq/94pn64yuas941_RocketLike.png?width=128&amp;height=128&amp;auto=webp&amp;s=eae06d6a70c62c78dc66cb14f2a84651cb822cc4", "width": 128, "height": 128}], "icon_width": 2048, "start_date": null, "is_enabled": true, "description": "When an upvote just isn't enough, smash the Rocket Like.", "end_date": null, "subreddit_coin_reward": 0, "count": 1, "name": "Rocket Like", "icon_format": null, "award_sub_type": "GLOBAL", "penny_price": null, "award_type": "global"}], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": "twir", "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gikfuy", "is_robot_indexable": true, "report_reasons": null, "author": "seino_chan", "discussion_type": null, "num_comments": 11, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": "dark", "permalink": "/r/rust/comments/gikfuy/this_week_in_rust_338/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://this-week-in-rust.org/blog/2020/05/12/this-week-in-rust-338/", "subreddit_subscribers": 99619, "created_utc": 1589317650.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_3x7tbj5y", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Five Years of Rust | Rust Blog", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_gk77zt", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.99, "author_flair_background_color": null, "subreddit_type": "public", "ups": 146, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 146, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1589570175.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "blog.rust-lang.org", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gk77zt", "is_robot_indexable": true, "report_reasons": null, "author": "XAMPPRocky", "discussion_type": null, "num_comments": 12, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/gk77zt/five_years_of_rust_rust_blog/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://blog.rust-lang.org/2020/05/15/five-years-of-rust.html", "subreddit_subscribers": 99619, "created_utc": 1589541375.0, "num_crossposts": 2, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_22wcpskj", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "What's New in IntelliJ Rust", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": true, "name": "t3_gk8sbp", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 8, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 8, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1589576834.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "blog.jetbrains.com", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gk8sbp", "is_robot_indexable": true, "report_reasons": null, "author": "furious_warrior", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/gk8sbp/whats_new_in_intellij_rust/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://blog.jetbrains.com/clion/2020/05/whats-new-in-intellij-rust/", "subreddit_subscribers": 99619, "created_utc": 1589548034.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_2ymtkklk", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "NuShell: the shell where traditional Unix meets modern development, written in Rust - An interview with its creators", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_gjp2xo", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.99, "author_flair_background_color": null, "subreddit_type": "public", "ups": 354, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 354, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1589500692.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "notamonadtutorial.com", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gjp2xo", "is_robot_indexable": true, "report_reasons": null, "author": "sinfonia9", "discussion_type": null, "num_comments": 47, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/gjp2xo/nushell_the_shell_where_traditional_unix_meets/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://notamonadtutorial.com/nushell-the-shell-where-traditional-unix-meets-modern-development-written-in-rust-caf92c2c7c98", "subreddit_subscribers": 99619, "created_utc": 1589471892.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "**Answer**\n\n* If you **do not use** `#[repr(C)]` then this **is** undefined behavior.\n* If you **do use** `#[repr(C)]` then this **is not** undefined behavior.\n* `#[repr(C)]` \\[[docs](https://doc.rust-lang.org/nomicon/other-reprs.html)\\]\n\n**Original Post**\n\nHere is a simple, minimal example: \\[[playground](https://play.rust-lang.org/?version=nightly&amp;mode=debug&amp;edition=2018&amp;gist=c433eeb8f746ab0f0df2e5ebc5fd0116)\\]\n\nUsing const generics, we can split the implementation of `Point`\n\n* only a `Point&lt;{ Type::HasGetX }&gt;` can call `get_x()`\n* only a `Point&lt;{ Type::HasGetY }&gt;` can call `get_y()`\n\nWe can then create a function, `get_xy_from()` which takes a `Point&lt;const T: Type&gt;` and transmutes it as needed in order to invoke the relevant functions.\n\nThis example appears to provide the correct outputs, which is encouraging, but that doesn't prove anything. The behavior could still be undefined and only appear to be correct in this one instance running in the playground.\n\nCould someone with more knowledge about const generics shed some light on whether or not this is okay, and maybe try to explain a bit more about why it is or is not?", "author_fullname": "t2_2sm0aaqp", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Is it undefined behavior to mem::transmute between const-generic types? If so, Why? If not, why not?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_gk3qaw", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.86, "author_flair_background_color": null, "subreddit_type": "public", "ups": 15, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 15, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1589528025.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1589552154.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;&lt;strong&gt;Answer&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;If you &lt;strong&gt;do not use&lt;/strong&gt; &lt;code&gt;#[repr(C)]&lt;/code&gt; then this &lt;strong&gt;is&lt;/strong&gt; undefined behavior.&lt;/li&gt;\n&lt;li&gt;If you &lt;strong&gt;do use&lt;/strong&gt; &lt;code&gt;#[repr(C)]&lt;/code&gt; then this &lt;strong&gt;is not&lt;/strong&gt; undefined behavior.&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;#[repr(C)]&lt;/code&gt; [&lt;a href=\"https://doc.rust-lang.org/nomicon/other-reprs.html\"&gt;docs&lt;/a&gt;]&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;Original Post&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Here is a simple, minimal example: [&lt;a href=\"https://play.rust-lang.org/?version=nightly&amp;amp;mode=debug&amp;amp;edition=2018&amp;amp;gist=c433eeb8f746ab0f0df2e5ebc5fd0116\"&gt;playground&lt;/a&gt;]&lt;/p&gt;\n\n&lt;p&gt;Using const generics, we can split the implementation of &lt;code&gt;Point&lt;/code&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;only a &lt;code&gt;Point&amp;lt;{ Type::HasGetX }&amp;gt;&lt;/code&gt; can call &lt;code&gt;get_x()&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;only a &lt;code&gt;Point&amp;lt;{ Type::HasGetY }&amp;gt;&lt;/code&gt; can call &lt;code&gt;get_y()&lt;/code&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;We can then create a function, &lt;code&gt;get_xy_from()&lt;/code&gt; which takes a &lt;code&gt;Point&amp;lt;const T: Type&amp;gt;&lt;/code&gt; and transmutes it as needed in order to invoke the relevant functions.&lt;/p&gt;\n\n&lt;p&gt;This example appears to provide the correct outputs, which is encouraging, but that doesn&amp;#39;t prove anything. The behavior could still be undefined and only appear to be correct in this one instance running in the playground.&lt;/p&gt;\n\n&lt;p&gt;Could someone with more knowledge about const generics shed some light on whether or not this is okay, and maybe try to explain a bit more about why it is or is not?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gk3qaw", "is_robot_indexable": true, "report_reasons": null, "author": "ObliqueMotion", "discussion_type": null, "num_comments": 20, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/gk3qaw/is_it_undefined_behavior_to_memtransmute_between/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/gk3qaw/is_it_undefined_behavior_to_memtransmute_between/", "subreddit_subscribers": 99619, "created_utc": 1589523354.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "Hi everyone, I've just released version 1.0 of [`c-closures-build`](https://crates.io/crates/c-closures-build) along with [a new tutorial!](https://github.com/Xaeroxe/c-closures-rs/tree/master/example)\n\n`c-closures-build` generates C/C++ FFI compatible `*Closure` structures from rust closures, useful for cross language functional programming.\n\nIf you saw my last post about this crate then you should probably look again, a lot of enhancements and improvements have been made to the crate. Also, the `c-closures` crate itself is now deprecated.", "author_fullname": "t2_bbwsd", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "c-closures hits 1.0!", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_gjz6h5", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.88, "author_flair_background_color": null, "subreddit_type": "public", "ups": 33, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 33, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1589532750.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi everyone, I&amp;#39;ve just released version 1.0 of &lt;a href=\"https://crates.io/crates/c-closures-build\"&gt;&lt;code&gt;c-closures-build&lt;/code&gt;&lt;/a&gt; along with &lt;a href=\"https://github.com/Xaeroxe/c-closures-rs/tree/master/example\"&gt;a new tutorial!&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;c-closures-build&lt;/code&gt; generates C/C++ FFI compatible &lt;code&gt;*Closure&lt;/code&gt; structures from rust closures, useful for cross language functional programming.&lt;/p&gt;\n\n&lt;p&gt;If you saw my last post about this crate then you should probably look again, a lot of enhancements and improvements have been made to the crate. Also, the &lt;code&gt;c-closures&lt;/code&gt; crate itself is now deprecated.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gjz6h5", "is_robot_indexable": true, "report_reasons": null, "author": "Xaeroxe", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/gjz6h5/cclosures_hits_10/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/gjz6h5/cclosures_hits_10/", "subreddit_subscribers": 99619, "created_utc": 1589503950.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_igc2t", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "What, *exactly*, are lifetimes, in the mind of Rustc?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_gk7aqh", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.75, "author_flair_background_color": null, "subreddit_type": "public", "ups": 4, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 4, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1589570523.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "users.rust-lang.org", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gk7aqh", "is_robot_indexable": true, "report_reasons": null, "author": "john01dav", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/gk7aqh/what_exactly_are_lifetimes_in_the_mind_of_rustc/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://users.rust-lang.org/t/what-exactly-are-lifetimes-in-the-mind-of-rustc/42662", "subreddit_subscribers": 99619, "created_utc": 1589541723.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "Does anyone know why my example command line app would be 2x as slow when I use clap's new derive feature (which is basically just structopt, available on the master branch) when compared to manual command line parsing? Both are build with `--release`\n\nFor a 1.2GB csv-like file with 8 columns, two each of float, int, bool, and String, (10M rows), manual command line args parsing makes the example run at [~450MB/s](https://i.imgur.com/jF5IlE3.png) on my machine. With clap, it runs at [~180 MB/s](https://i.imgur.com/0Cu52VS.png).\n\nIt also looks like the maximum memory consumed is increased by 700MB\n\n\nYou can see the code with manual command line parsing [here on the master branch](https://github.com/samedhg/sorer) and [here with clap](https://github.com/SamedhG/sorer/tree/clap). The code is in `examples/sorer.rs`.\n\n\n(By the way, this was a class project so that's the reason for the weird file format that this parses)", "author_fullname": "t2_5jc895ug", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "2x slower cli performance with Clap", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": true, "name": "t3_gk8q05", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1589548688.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1589576604.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Does anyone know why my example command line app would be 2x as slow when I use clap&amp;#39;s new derive feature (which is basically just structopt, available on the master branch) when compared to manual command line parsing? Both are build with &lt;code&gt;--release&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;For a 1.2GB csv-like file with 8 columns, two each of float, int, bool, and String, (10M rows), manual command line args parsing makes the example run at &lt;a href=\"https://i.imgur.com/jF5IlE3.png\"&gt;~450MB/s&lt;/a&gt; on my machine. With clap, it runs at &lt;a href=\"https://i.imgur.com/0Cu52VS.png\"&gt;~180 MB/s&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;It also looks like the maximum memory consumed is increased by 700MB&lt;/p&gt;\n\n&lt;p&gt;You can see the code with manual command line parsing &lt;a href=\"https://github.com/samedhg/sorer\"&gt;here on the master branch&lt;/a&gt; and &lt;a href=\"https://github.com/SamedhG/sorer/tree/clap\"&gt;here with clap&lt;/a&gt;. The code is in &lt;code&gt;examples/sorer.rs&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;(By the way, this was a class project so that&amp;#39;s the reason for the weird file format that this parses)&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gk8q05", "is_robot_indexable": true, "report_reasons": null, "author": "goodSyntax", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/gk8q05/2x_slower_cli_performance_with_clap/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/gk8q05/2x_slower_cli_performance_with_clap/", "subreddit_subscribers": 99619, "created_utc": 1589547804.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "An enum can have fake lifetime parameters (and/or type parameters) by using `PhantomData` in one of its variants.  Such an enum can be safely be mapped from one lifetime (and/or type) to another using `match`, giving the `PhantomData` variant a new `PhantomData` value and keeping the original value within any other variant.  One would expect the enum with lifetime `'a` would have the same data layout as the same enum with lifetime `'b`, and as such, a `match` should perform the same function as `mem::transmute`.\n\nHowever, the code produced by `match` is significantly more complex than the code produced by `mem::transmute`:\n\n    use std::marker::PhantomData;\n    use std::mem;\n    \n    pub enum Foo&lt;'a&gt; {\n        Bar(usize),\n        Baz(u32),\n        Qux(String),\n        Quux(Vec&lt;u8&gt;),\n        Quuz(PhantomData&lt;&amp;'a str&gt;),\n    }\n    \n    impl&lt;'a&gt; Foo&lt;'a&gt; {\n        pub fn match_to_static(self) -&gt; Foo&lt;'static&gt; {\n            match self {\n                Foo::Bar(v) =&gt; Foo::Bar(v),\n                Foo::Baz(v) =&gt; Foo::Baz(v),\n                Foo::Qux(v) =&gt; Foo::Qux(v),\n                Foo::Quux(v) =&gt; Foo::Quux(v),\n                Foo::Quuz(..) =&gt; Foo::Quuz(PhantomData),\n            }\n        }\n    \n        pub fn transmute_to_static(self) -&gt; Foo&lt;'static&gt; {\n            unsafe { mem::transmute(self) }\n        }\n    }\n\n`transmute_to_static` is more verbose than I expected but still compact:\n\n    example::Foo::transmute_to_static:\n            mov     rax, rdi\n            movups  xmm0, xmmword ptr [rsi]\n            movups  xmm1, xmmword ptr [rsi + 16]\n            movups  xmmword ptr [rdi + 16], xmm1\n            movups  xmmword ptr [rdi], xmm0\n            ret\n\nWhen inlined, it becomes a no-op afaik.\n\nHowever, `map_to_static` produces a lot of code and even a jump table, even on `-C opt-level=3`.  It's probably too long to paste here, so here's a compiler explorer link: https://godbolt.org/z/v44kdG\n\nIs `mem::transmute` doing something evil here, or is the optimizer just not noticing what the `match` is doing?", "author_fullname": "t2_crf6d", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Surprising performance implications of match", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_gjt98e", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.83, "author_flair_background_color": null, "subreddit_type": "public", "ups": 31, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 31, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1589485477.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1589513525.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;An enum can have fake lifetime parameters (and/or type parameters) by using &lt;code&gt;PhantomData&lt;/code&gt; in one of its variants.  Such an enum can be safely be mapped from one lifetime (and/or type) to another using &lt;code&gt;match&lt;/code&gt;, giving the &lt;code&gt;PhantomData&lt;/code&gt; variant a new &lt;code&gt;PhantomData&lt;/code&gt; value and keeping the original value within any other variant.  One would expect the enum with lifetime &lt;code&gt;&amp;#39;a&lt;/code&gt; would have the same data layout as the same enum with lifetime &lt;code&gt;&amp;#39;b&lt;/code&gt;, and as such, a &lt;code&gt;match&lt;/code&gt; should perform the same function as &lt;code&gt;mem::transmute&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;However, the code produced by &lt;code&gt;match&lt;/code&gt; is significantly more complex than the code produced by &lt;code&gt;mem::transmute&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;use std::marker::PhantomData;\nuse std::mem;\n\npub enum Foo&amp;lt;&amp;#39;a&amp;gt; {\n    Bar(usize),\n    Baz(u32),\n    Qux(String),\n    Quux(Vec&amp;lt;u8&amp;gt;),\n    Quuz(PhantomData&amp;lt;&amp;amp;&amp;#39;a str&amp;gt;),\n}\n\nimpl&amp;lt;&amp;#39;a&amp;gt; Foo&amp;lt;&amp;#39;a&amp;gt; {\n    pub fn match_to_static(self) -&amp;gt; Foo&amp;lt;&amp;#39;static&amp;gt; {\n        match self {\n            Foo::Bar(v) =&amp;gt; Foo::Bar(v),\n            Foo::Baz(v) =&amp;gt; Foo::Baz(v),\n            Foo::Qux(v) =&amp;gt; Foo::Qux(v),\n            Foo::Quux(v) =&amp;gt; Foo::Quux(v),\n            Foo::Quuz(..) =&amp;gt; Foo::Quuz(PhantomData),\n        }\n    }\n\n    pub fn transmute_to_static(self) -&amp;gt; Foo&amp;lt;&amp;#39;static&amp;gt; {\n        unsafe { mem::transmute(self) }\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;code&gt;transmute_to_static&lt;/code&gt; is more verbose than I expected but still compact:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;example::Foo::transmute_to_static:\n        mov     rax, rdi\n        movups  xmm0, xmmword ptr [rsi]\n        movups  xmm1, xmmword ptr [rsi + 16]\n        movups  xmmword ptr [rdi + 16], xmm1\n        movups  xmmword ptr [rdi], xmm0\n        ret\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;When inlined, it becomes a no-op afaik.&lt;/p&gt;\n\n&lt;p&gt;However, &lt;code&gt;map_to_static&lt;/code&gt; produces a lot of code and even a jump table, even on &lt;code&gt;-C opt-level=3&lt;/code&gt;.  It&amp;#39;s probably too long to paste here, so here&amp;#39;s a compiler explorer link: &lt;a href=\"https://godbolt.org/z/v44kdG\"&gt;https://godbolt.org/z/v44kdG&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Is &lt;code&gt;mem::transmute&lt;/code&gt; doing something evil here, or is the optimizer just not noticing what the &lt;code&gt;match&lt;/code&gt; is doing?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gjt98e", "is_robot_indexable": true, "report_reasons": null, "author": "Agent_Pinkerton", "discussion_type": null, "num_comments": 10, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/gjt98e/surprising_performance_implications_of_match/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/gjt98e/surprising_performance_implications_of_match/", "subreddit_subscribers": 99619, "created_utc": 1589484725.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "I just got an rx 5600 xt, and it runs really well when playing Rust. But when I enter the inventory or the menu it seems to be running in 60 hz. But in the game itself, it runs with 144 hz. Does anyone know why?", "author_fullname": "t2_118s7m", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Rx 5600 xt problem in Rust.", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": true, "name": "t3_gk95cq", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 1, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1589578246.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I just got an rx 5600 xt, and it runs really well when playing Rust. But when I enter the inventory or the menu it seems to be running in 60 hz. But in the game itself, it runs with 144 hz. Does anyone know why?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gk95cq", "is_robot_indexable": true, "report_reasons": null, "author": "Frode1010", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/gk95cq/rx_5600_xt_problem_in_rust/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/gk95cq/rx_5600_xt_problem_in_rust/", "subreddit_subscribers": 99619, "created_utc": 1589549446.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "\\[Solved, make categories and products mutable\\]\n\nI've a product category which contains multiple products. The pictures of the products come from another source.\n\n    pub fn get_categories() -&gt; Result&lt;Vec&lt;Category&gt;, String&gt;\n    {\n        let categories = get_all();\n        \n        for category in &amp;categories\n        {\n            for mut product in &amp;category.products\n            {\n                let picture_ids: Vec&lt;i32&gt; = ...\n                product.picture_ids = picture_ids; // &lt;-- error\n            }\n        }\n    \n        return Ok(categories);\n    }\n\nThis example will give an error `cannot assign to'product.pictures'which is behind a'&amp;'reference'product'is a'&amp;'reference, so the data it refers to cannot be written`. However when I remove the Result and directly return the categories array the error wont popup. How can I solve this error or what am I missing?", "author_fullname": "t2_3cgeg9kz", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "[Noob question] Cannot assign to reference", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_gk46eq", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 3, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1589527549.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1589554368.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;[Solved, make categories and products mutable]&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;ve a product category which contains multiple products. The pictures of the products come from another source.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;pub fn get_categories() -&amp;gt; Result&amp;lt;Vec&amp;lt;Category&amp;gt;, String&amp;gt;\n{\n    let categories = get_all();\n\n    for category in &amp;amp;categories\n    {\n        for mut product in &amp;amp;category.products\n        {\n            let picture_ids: Vec&amp;lt;i32&amp;gt; = ...\n            product.picture_ids = picture_ids; // &amp;lt;-- error\n        }\n    }\n\n    return Ok(categories);\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This example will give an error &lt;code&gt;cannot assign to&amp;#39;product.pictures&amp;#39;which is behind a&amp;#39;&amp;amp;&amp;#39;reference&amp;#39;product&amp;#39;is a&amp;#39;&amp;amp;&amp;#39;reference, so the data it refers to cannot be written&lt;/code&gt;. However when I remove the Result and directly return the categories array the error wont popup. How can I solve this error or what am I missing?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gk46eq", "is_robot_indexable": true, "report_reasons": null, "author": "MarkZuckerbergDid911", "discussion_type": null, "num_comments": 5, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/gk46eq/noob_question_cannot_assign_to_reference/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/gk46eq/noob_question_cannot_assign_to_reference/", "subreddit_subscribers": 99619, "created_utc": 1589525568.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_gk46eq", "before": null}}