# Kotlin
## [1][Caching with annotations in android (Kotlin)](https://www.reddit.com/r/Kotlin/comments/epwyeb/caching_with_annotations_in_android_kotlin/)
- url: https://medium.com/@crypticmindscom_5258/caching-made-easy-in-android-with-kotlin-part-2-61bb476063b4
---

## [2][kapt3 stub does not include package name of a generated class annotation parameter](https://www.reddit.com/r/Kotlin/comments/epxmc7/kapt3_stub_does_not_include_package_name_of_a/)
- url: https://www.reddit.com/r/Kotlin/comments/epxmc7/kapt3_stub_does_not_include_package_name_of_a/
---
This works:

    @Subcomponent(modules = [shiv.SharedViewModelProviders::class])
    interface ViewModels {
        val fragmentsComponentFactory: Fragments.Factory
    
        @Subcomponent.Factory
        interface Factory {
            fun create(@BindsInstance owner: ViewModelStoreOwner): ViewModels
        }
    }

but when I import the `shiv.SharedViewModelProviders` class and change the first line to

    @Subcomponent(modules = [SharedViewModelProviders::class])

I suddenly get this compile error

    /home/mz/projects/android/FavoritePrimes/app/build/tmp/kapt3/stubs/debug/ph/codeia/favoriteprimes/ViewModels.java:6: error: cannot find symbol
    @dagger.Subcomponent(modules = {SharedViewModelProviders.class})
                                    ^
      symbol: class SharedViewModelProviders

and the stub file looks like

    package ph.codeia.favoriteprimes;
    
    import java.lang.System;
    
    @kotlin.Metadata(/* snip */)
    @dagger.Subcomponent(modules = {SharedViewModelProviders.class})
    public abstract interface ViewModels {
        // [snip]

There's no import for `shiv.SharedViewModelProviders` and the parameter is not fully qualified. This class is generated by an annotation processor I made. What's going on? The import is clearly in the source file. Is there some flag I should enable in my annotation processor to fix this?
## [3][How is Kotlin more productive than Java?](https://www.reddit.com/r/Kotlin/comments/epn72f/how_is_kotlin_more_productive_than_java/)
- url: https://www.reddit.com/r/Kotlin/comments/epn72f/how_is_kotlin_more_productive_than_java/
---
My  company is planning on porting a semi-large C# application to either java  or kotlin.  It will not run on android or anything like that.  It will  be micro-service based and have a pretty complicated GUI on top.  I keep  reading that Kotlin is more productive than java, but I'm wondering if  that is just hype. What feature specifically increase productivity.

Any opinions?

&amp;#x200B;

(full disclosure.. I asked a similar question on java, to get the negative point of view)
## [4][What do you use for Dependency Injection?](https://www.reddit.com/r/Kotlin/comments/epj2p4/what_do_you_use_for_dependency_injection/)
- url: https://www.reddit.com/r/Kotlin/comments/epj2p4/what_do_you_use_for_dependency_injection/
---
I'm working on a project creating AWS Lambdas using Kotlin, and there's currently no dependency injection being used. I've only previously used Spring, which we are not using on this project. So rather than use Spring just to get its DI abilities (which aren't really suited to cloud functions anyway due to being runtime), I am looking at an alternative.

Dagger seems to be widely used, but looks complicated with a lot of boiler plate. Does anyone have any preference for Koin or Kodein?
## [5][LambdaConf 2020 Call for Proposals - Submit Kotlin Proposals by Feb 15 (June 3-5, Estes Park, CO)](https://www.reddit.com/r/Kotlin/comments/epjb9o/lambdaconf_2020_call_for_proposals_submit_kotlin/)
- url: https://lambdaconf.zohobackstage.com/LambdaConf2020#/cfp?lang=en
---

## [6][Error - Kotlin JavaFx and tornadofx](https://www.reddit.com/r/Kotlin/comments/eppsqf/error_kotlin_javafx_and_tornadofx/)
- url: https://www.reddit.com/r/Kotlin/comments/eppsqf/error_kotlin_javafx_and_tornadofx/
---
Error: Exception in Application start method

Code:

package demo;  
import javafx.scene.control.Label  
import javafx.scene.layout.HBox  
import tornadofx.App  
import tornadofx.View  


class HelloWorld : View() {  
 override val root = HBox(Label("Hello world!"))  
}  


class HelloWorldApp : App() {  
 override val primaryView = HelloWorld::class  
}

The Java tornadofx code runs perfectly.
## [7][Extension function being stripped in classes used by service loader](https://www.reddit.com/r/Kotlin/comments/epmerz/extension_function_being_stripped_in_classes_used/)
- url: https://www.reddit.com/r/Kotlin/comments/epmerz/extension_function_being_stripped_in_classes_used/
---
I am using kotlin test library: 'org.jetbrains.kotlinx:kotlinx-coroutines-test:1.3.2' with AndroidJUnit4. And I have also set the Dispatchers.*setMain*(TestCoroutineDispatcher()) before starting the test.

Problem is that TestCoroutineDispatcher() loads the MainCoroutineDispatcher from ServiceLoader which loads to TestMainDispatcherFactory.

Now in TestMainDispatcherFactory there are some extension function like asSequence and filter, those function are being removed after proguarding the app. Without proguard everything runs fine.

Is there any proguard rules which should prevent this?
## [8][Kotlin 1.3.70 EAP](https://www.reddit.com/r/Kotlin/comments/ep7o7c/kotlin_1370_eap/)
- url: https://discuss.kotlinlang.org/t/kotlin-1-3-70-early-access-preview/15876
---

## [9][Beginner Question regarding Tutorial-Code](https://www.reddit.com/r/Kotlin/comments/ephx0z/beginner_question_regarding_tutorialcode/)
- url: https://www.reddit.com/r/Kotlin/comments/ephx0z/beginner_question_regarding_tutorialcode/
---
Hey there,

&lt;tl;dr&gt; Highlighted the actual question because lots of context blabla

I have a master degree in computer science and and been working with Java in the past 7 years.  
I recently decided to get into Kotlin and am currently working my way through their code examples.

I'm currently looking into **Extension Functions and Properties**, which conceptually I understand. I also understand the provided code example, though I don't quite get some of the **syntax**.

Heres a link to the tutorial section:  [https://play.kotlinlang.org/byExample/04\_functional/03\_extensionFunctions](https://play.kotlinlang.org/byExample/04_functional/03_extensionFunctions) 

&amp;#x200B;

I'm referring to these lines of code:

`fun Order.maxPricedItemValue(): Float = this.items.maxBy { it.price }?.price ?: 0F`  
`fun Order.maxPricedItemName() = this.items.maxBy { it.price }?.name ?: "NO_PRODUCTS"`

Specifically, **the part after curly brackets are closed**.

From my understanding now, I define the extension functions as calling a maxBy() function from Collection, using lambda `{it.price}` to define which parameter to sort by and then I'm not sure any more.

At first, this reminded me of ternary operations, but they don't exist in Kotlin.  
Then I recalled that `?` is used to mark nullable objects, so I guess if the Collection doesn't contain any entries or for whatever reason can't find the max priced Item, it returns null. Then I try to call price / name from the nullable result of maxBy? Sounds plausible, but again, not sure. And how `?:` works in the end is beyond me.

I mean, I understand that the first function returns the price of the highest priced item or zero (float) if there is none, and the second returns the name or "NO\_PRODUCTS" if there are none. But I deduct that from context, **not** from **understanding the syntax**.
## [10][Would you recommend Kotlin as a back-end and general purpose language? (In comparison to Go)](https://www.reddit.com/r/Kotlin/comments/ep1pkd/would_you_recommend_kotlin_as_a_backend_and/)
- url: https://www.reddit.com/r/Kotlin/comments/ep1pkd/would_you_recommend_kotlin_as_a_backend_and/
---
I've been doing most of my server-side work with Go, and recently got exposed to Kotlin in a native Android project and I really like the language.

I know that one language is generally not the answer to all problems but, in small teams building expertise in one language is a benefit I'm willing to consider.

So the question here is, how's the Kotlin story outside of Android in things like:

* Microservices
* Serverless Functions
* General purpose data processing
* Daemons
* CLIs

Would you recommend writing such applications in Kotlin? And if you have written things like these, how was the experience?
