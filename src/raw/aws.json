{"kind": "Listing", "data": {"modhash": "", "dist": 10, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "aws", "selftext": "", "author_fullname": "t2_k86ri", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Example serverless data pipeline for crawling PDFs from the Web and transforming their contents into structured data using AWS Textract. Built with AWS CDK + TypeScript.", "link_flair_richtext": [], "subreddit_name_prefixed": "r/aws", "hidden": false, "pwls": 6, "link_flair_css_class": "resource", "downs": 0, "hide_score": false, "name": "t3_fbwtr2", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 118, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "technical resource", "can_mod_post": false, "score": 118, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1583110619.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "github.com", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "90cdeee6-b9e3-11e6-8d35-0eabbe333632", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh84", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#dadada", "id": "fbwtr2", "is_robot_indexable": true, "report_reasons": null, "author": "aeksco", "discussion_type": null, "num_comments": 11, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/aws/comments/fbwtr2/example_serverless_data_pipeline_for_crawling/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://github.com/aeksco/aws-pdf-textract-pipeline", "subreddit_subscribers": 111604, "created_utc": 1583081819.0, "num_crossposts": 1, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "aws", "selftext": "People who choose on-prem hardware over cloud providers like AWS, what's your reasoning behind you decision? With cloud pricing decreasing overtime, I'm curious as to why people invest on building on-prem hardware instead.", "author_fullname": "t2_10sjch", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "On prem over AWS?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/aws", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "hide_score": false, "name": "t3_fc720o", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 7, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "discussion", "can_mod_post": false, "score": 7, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583154338.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.aws", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;People who choose on-prem hardware over cloud providers like AWS, what&amp;#39;s your reasoning behind you decision? With cloud pricing decreasing overtime, I&amp;#39;m curious as to why people invest on building on-prem hardware instead.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "962d796e-fa9c-11e8-a3dc-0e1ba4fe1be4", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh84", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#dadada", "id": "fc720o", "is_robot_indexable": true, "report_reasons": null, "author": "Anoop_kumar", "discussion_type": null, "num_comments": 28, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/aws/comments/fc720o/on_prem_over_aws/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/aws/comments/fc720o/on_prem_over_aws/", "subreddit_subscribers": 111604, "created_utc": 1583125538.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "aws", "selftext": "Hi,\n\nfor security reasons, I'd like to deny users in a multi-account environment to create ressources with public IP addresses unless it is an ELB/ALB. Would this be possible with an SCP?\n\nAFAIK IAM actions only exist for \"AllocateAddress\" and \"AssociateAddress\" which is about Elastic IPs but not normal public IPs.", "author_fullname": "t2_5k95bsvj", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Limit public IPs to be available just for ELB/ALBs?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/aws", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "hide_score": true, "name": "t3_fcbfsj", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "technical question", "can_mod_post": false, "score": 1, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583181472.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.aws", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi,&lt;/p&gt;\n\n&lt;p&gt;for security reasons, I&amp;#39;d like to deny users in a multi-account environment to create ressources with public IP addresses unless it is an ELB/ALB. Would this be possible with an SCP?&lt;/p&gt;\n\n&lt;p&gt;AFAIK IAM actions only exist for &amp;quot;AllocateAddress&amp;quot; and &amp;quot;AssociateAddress&amp;quot; which is about Elastic IPs but not normal public IPs.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "e0acaab0-fe51-11e8-b457-0e86fa5111f4", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh84", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#dadada", "id": "fcbfsj", "is_robot_indexable": true, "report_reasons": null, "author": "awsber", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/aws/comments/fcbfsj/limit_public_ips_to_be_available_just_for_elbalbs/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/aws/comments/fcbfsj/limit_public_ips_to_be_available_just_for_elbalbs/", "subreddit_subscribers": 111604, "created_utc": 1583152672.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "aws", "selftext": "Hello!\nWe had some issues on friday when we wanted to migrate our t2.med instance that used raid10.\n\nUpon migration to t3 the RAID field that we had didn't work, because the new t3 drives were NVMe and labled as nvmeXn1.\n\nThe old drives were xvda.\n\nIs there an easy-ish way of migrating this?", "author_fullname": "t2_5ik20dsg", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Migrating t2 instance to t3 with RAID", "link_flair_richtext": [], "subreddit_name_prefixed": "r/aws", "hidden": false, "pwls": 6, "link_flair_css_class": "support", "downs": 0, "hide_score": true, "name": "t3_fcbf9t", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "support query", "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583181401.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.aws", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hello!\nWe had some issues on friday when we wanted to migrate our t2.med instance that used raid10.&lt;/p&gt;\n\n&lt;p&gt;Upon migration to t3 the RAID field that we had didn&amp;#39;t work, because the new t3 drives were NVMe and labled as nvmeXn1.&lt;/p&gt;\n\n&lt;p&gt;The old drives were xvda.&lt;/p&gt;\n\n&lt;p&gt;Is there an easy-ish way of migrating this?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "cd6512b2-b9e3-11e6-af4d-0eb0735f94c0", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh84", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#dadada", "id": "fcbf9t", "is_robot_indexable": true, "report_reasons": null, "author": "GroundbreakingSeat2", "discussion_type": null, "num_comments": 4, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/aws/comments/fcbf9t/migrating_t2_instance_to_t3_with_raid/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/aws/comments/fcbf9t/migrating_t2_instance_to_t3_with_raid/", "subreddit_subscribers": 111604, "created_utc": 1583152601.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "aws", "selftext": "Hi,To my understanding, Bucket versioning can be enabled by any authorized user (root/bucket owner/IAM user) through IAM policies. MFA-Delete though can only be enabled by the root user (through CLI/API with issued keys). Bearing this in mind, what happens in this scenarios:\n\n- What if you want to enable MFA-Delete on buckets not owned by root? Do you have to contact the root user in order to do this as the bucket owner?\n\n- This [AWS\u00a0blog](https://aws.amazon.com/blogs/security/securing-access-to-aws-using-mfa-part-3/) post states that \"you cannot make version DELETE actions with MFA using IAM user credentials. You must use your root AWS account.\". Does this mean that other authorized users can only enable/disable versioning on the bucket with MFA and cannot delete objects/versions/delete-markers (And only the root user can)?\n\n- In case users are allowed to delete objects on an MFA-Delete enabled bucket: If a bucket policy states that S3 API actions are MFA protected through policy conditions \"aws:MultiFactorAuthPresent\" and \"aws:MultiFactorAuthAge\", Do said users still require the mfa header (or the --mfa flag when using the CLI) when performing versioning state changes or object deletion on the bucket?\n\nThanks to anyone who can shine a light on this.", "author_fullname": "t2_i8g1v", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Help me clear something regarding MFA-Delete", "link_flair_richtext": [], "subreddit_name_prefixed": "r/aws", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "hide_score": true, "name": "t3_fcb6fo", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "technical question", "can_mod_post": false, "score": 1, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583180060.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.aws", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi,To my understanding, Bucket versioning can be enabled by any authorized user (root/bucket owner/IAM user) through IAM policies. MFA-Delete though can only be enabled by the root user (through CLI/API with issued keys). Bearing this in mind, what happens in this scenarios:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;What if you want to enable MFA-Delete on buckets not owned by root? Do you have to contact the root user in order to do this as the bucket owner?&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;This &lt;a href=\"https://aws.amazon.com/blogs/security/securing-access-to-aws-using-mfa-part-3/\"&gt;AWS\u00a0blog&lt;/a&gt; post states that &amp;quot;you cannot make version DELETE actions with MFA using IAM user credentials. You must use your root AWS account.&amp;quot;. Does this mean that other authorized users can only enable/disable versioning on the bucket with MFA and cannot delete objects/versions/delete-markers (And only the root user can)?&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;In case users are allowed to delete objects on an MFA-Delete enabled bucket: If a bucket policy states that S3 API actions are MFA protected through policy conditions &amp;quot;aws:MultiFactorAuthPresent&amp;quot; and &amp;quot;aws:MultiFactorAuthAge&amp;quot;, Do said users still require the mfa header (or the --mfa flag when using the CLI) when performing versioning state changes or object deletion on the bucket?&lt;/p&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Thanks to anyone who can shine a light on this.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "e0acaab0-fe51-11e8-b457-0e86fa5111f4", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh84", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#dadada", "id": "fcb6fo", "is_robot_indexable": true, "report_reasons": null, "author": "yassinelaz", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/aws/comments/fcb6fo/help_me_clear_something_regarding_mfadelete/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/aws/comments/fcb6fo/help_me_clear_something_regarding_mfadelete/", "subreddit_subscribers": 111604, "created_utc": 1583151260.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "aws", "selftext": "I understand this is an anti-pattern. But I'm just doing a small project so I have no need for scaling etc.\n\nI have two (python) lambdas, `watcher` and `registrar`.\n\nUnder certain conditions I want `watcher` to invoke `registrar`.\n\n    invoke_lambda = boto3.client(\"lambda\")\n    response = invoke_lambda.invoke(\n        FunctionName=\"registrar\",\n        InvocationType=\"Event\",\n        LogType=\"Tail\",\n        Payload=&lt;some payload&gt;),\n    )\n\nBut I get an error:\n\n    [ERROR] ClientError: An error occurred (AccessDeniedException) when calling the Invoke operation: User: arn:aws:sts::1234567890:assumed-role/LambdaExecutionRole/watcher is not authorized to perform: lambda:InvokeFunction on resource: arn:aws:lambda:eu-west-2:1234567890:function:registrar\n\nBut as far as I can tell, I have the correct permissions (role document):\n\n    {\n    \"permissionsBoundary\": {},\n    \"roleName\": \"LambdaExecutionRole\",\n    \"policies\": [\n        {\n        \"document\": {\n            \"Version\": \"2012-10-17\",\n            \"Statement\": [\n            {\n                \"Sid\": \"\",\n                \"Effect\": \"Allow\",\n                \"Action\": \"lambda:InvokeFunction\",\n                \"Resource\": \"arn:aws:lambda:eu-west-2:1234567890:function:registrar\"\n            }\n            ]\n        },\n        \"name\": \"lambda-invoke-policy\",\n        \"id\": \"&lt;obfuscated&gt;\",\n        \"type\": \"managed\",\n        \"arn\": \"arn:aws:iam::1234567890:policy/lambda-invoke-policy\"\n        },\n        {\n        \"document\": {\n            \"Version\": \"2012-10-17\",\n            \"Statement\": [\n            {\n                \"Sid\": \"\",\n                \"Effect\": \"Allow\",\n                \"Action\": [\n                \"logs:PutLogEvents\",\n                \"logs:CreateLogStream\",\n                \"logs:CreateLogGroup\"\n                ],\n                \"Resource\": \"arn:aws:logs:*:*:*\"\n            }\n            ]\n        },\n        \"name\": \"lambda-cloudwatch-policy\",\n        \"id\": \"&lt;obfuscated&gt;\",\n        \"type\": \"managed\",\n        \"arn\": \"arn:aws:iam::1234567890:policy/lambda-cloudwatch-policy\"\n        },\n        {\n        \"document\": {\n            \"Version\": \"2012-10-17\",\n            \"Statement\": [\n            {\n                \"Sid\": \"\",\n                \"Effect\": \"Allow\",\n                \"Action\": \"dynamodb:Query\",\n                \"Resource\": \"arn:aws:dynamodb:eu-west-2:1234567890:table/Matches/index/RegDate-index\"\n            }\n            ]\n        },\n        \"name\": \"lambda-dynamodb-policy\",\n        \"id\": \"&lt;obfuscated&gt;\",\n        \"type\": \"managed\",\n        \"arn\": \"arn:aws:iam::1234567890:policy/lambda-dynamodb-policy\"\n        }\n    ],\n    \"trustedEntities\": [\n        \"lambda.amazonaws.com\"\n    ]\n    }\n\nWhat am I missing/doing wrong? :(\n\n\nEDIT: 11 hours later...\n\nI changed the resource for `lambda:InvokeFunction` to \"*\" and it started working.\n\nI then changed it back to the explicit ARN and it was still working...\n\nFYI: I'm using Terraform.", "author_fullname": "t2_fulmawz", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Why can't my lambda invoke another lambda.", "link_flair_richtext": [], "subreddit_name_prefixed": "r/aws", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "hide_score": false, "name": "t3_fc1jc9", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 14, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "serverless", "can_mod_post": false, "score": 14, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1583143299.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583129167.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.aws", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I understand this is an anti-pattern. But I&amp;#39;m just doing a small project so I have no need for scaling etc.&lt;/p&gt;\n\n&lt;p&gt;I have two (python) lambdas, &lt;code&gt;watcher&lt;/code&gt; and &lt;code&gt;registrar&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;Under certain conditions I want &lt;code&gt;watcher&lt;/code&gt; to invoke &lt;code&gt;registrar&lt;/code&gt;.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;invoke_lambda = boto3.client(&amp;quot;lambda&amp;quot;)\nresponse = invoke_lambda.invoke(\n    FunctionName=&amp;quot;registrar&amp;quot;,\n    InvocationType=&amp;quot;Event&amp;quot;,\n    LogType=&amp;quot;Tail&amp;quot;,\n    Payload=&amp;lt;some payload&amp;gt;),\n)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;But I get an error:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;[ERROR] ClientError: An error occurred (AccessDeniedException) when calling the Invoke operation: User: arn:aws:sts::1234567890:assumed-role/LambdaExecutionRole/watcher is not authorized to perform: lambda:InvokeFunction on resource: arn:aws:lambda:eu-west-2:1234567890:function:registrar\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;But as far as I can tell, I have the correct permissions (role document):&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;{\n&amp;quot;permissionsBoundary&amp;quot;: {},\n&amp;quot;roleName&amp;quot;: &amp;quot;LambdaExecutionRole&amp;quot;,\n&amp;quot;policies&amp;quot;: [\n    {\n    &amp;quot;document&amp;quot;: {\n        &amp;quot;Version&amp;quot;: &amp;quot;2012-10-17&amp;quot;,\n        &amp;quot;Statement&amp;quot;: [\n        {\n            &amp;quot;Sid&amp;quot;: &amp;quot;&amp;quot;,\n            &amp;quot;Effect&amp;quot;: &amp;quot;Allow&amp;quot;,\n            &amp;quot;Action&amp;quot;: &amp;quot;lambda:InvokeFunction&amp;quot;,\n            &amp;quot;Resource&amp;quot;: &amp;quot;arn:aws:lambda:eu-west-2:1234567890:function:registrar&amp;quot;\n        }\n        ]\n    },\n    &amp;quot;name&amp;quot;: &amp;quot;lambda-invoke-policy&amp;quot;,\n    &amp;quot;id&amp;quot;: &amp;quot;&amp;lt;obfuscated&amp;gt;&amp;quot;,\n    &amp;quot;type&amp;quot;: &amp;quot;managed&amp;quot;,\n    &amp;quot;arn&amp;quot;: &amp;quot;arn:aws:iam::1234567890:policy/lambda-invoke-policy&amp;quot;\n    },\n    {\n    &amp;quot;document&amp;quot;: {\n        &amp;quot;Version&amp;quot;: &amp;quot;2012-10-17&amp;quot;,\n        &amp;quot;Statement&amp;quot;: [\n        {\n            &amp;quot;Sid&amp;quot;: &amp;quot;&amp;quot;,\n            &amp;quot;Effect&amp;quot;: &amp;quot;Allow&amp;quot;,\n            &amp;quot;Action&amp;quot;: [\n            &amp;quot;logs:PutLogEvents&amp;quot;,\n            &amp;quot;logs:CreateLogStream&amp;quot;,\n            &amp;quot;logs:CreateLogGroup&amp;quot;\n            ],\n            &amp;quot;Resource&amp;quot;: &amp;quot;arn:aws:logs:*:*:*&amp;quot;\n        }\n        ]\n    },\n    &amp;quot;name&amp;quot;: &amp;quot;lambda-cloudwatch-policy&amp;quot;,\n    &amp;quot;id&amp;quot;: &amp;quot;&amp;lt;obfuscated&amp;gt;&amp;quot;,\n    &amp;quot;type&amp;quot;: &amp;quot;managed&amp;quot;,\n    &amp;quot;arn&amp;quot;: &amp;quot;arn:aws:iam::1234567890:policy/lambda-cloudwatch-policy&amp;quot;\n    },\n    {\n    &amp;quot;document&amp;quot;: {\n        &amp;quot;Version&amp;quot;: &amp;quot;2012-10-17&amp;quot;,\n        &amp;quot;Statement&amp;quot;: [\n        {\n            &amp;quot;Sid&amp;quot;: &amp;quot;&amp;quot;,\n            &amp;quot;Effect&amp;quot;: &amp;quot;Allow&amp;quot;,\n            &amp;quot;Action&amp;quot;: &amp;quot;dynamodb:Query&amp;quot;,\n            &amp;quot;Resource&amp;quot;: &amp;quot;arn:aws:dynamodb:eu-west-2:1234567890:table/Matches/index/RegDate-index&amp;quot;\n        }\n        ]\n    },\n    &amp;quot;name&amp;quot;: &amp;quot;lambda-dynamodb-policy&amp;quot;,\n    &amp;quot;id&amp;quot;: &amp;quot;&amp;lt;obfuscated&amp;gt;&amp;quot;,\n    &amp;quot;type&amp;quot;: &amp;quot;managed&amp;quot;,\n    &amp;quot;arn&amp;quot;: &amp;quot;arn:aws:iam::1234567890:policy/lambda-dynamodb-policy&amp;quot;\n    }\n],\n&amp;quot;trustedEntities&amp;quot;: [\n    &amp;quot;lambda.amazonaws.com&amp;quot;\n]\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;What am I missing/doing wrong? :(&lt;/p&gt;\n\n&lt;p&gt;EDIT: 11 hours later...&lt;/p&gt;\n\n&lt;p&gt;I changed the resource for &lt;code&gt;lambda:InvokeFunction&lt;/code&gt; to &amp;quot;*&amp;quot; and it started working.&lt;/p&gt;\n\n&lt;p&gt;I then changed it back to the explicit ARN and it was still working...&lt;/p&gt;\n\n&lt;p&gt;FYI: I&amp;#39;m using Terraform.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "ff0e4f90-fe51-11e8-995f-0e494176cf40", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh84", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#dadada", "id": "fc1jc9", "is_robot_indexable": true, "report_reasons": null, "author": "TheRealBeyondEvil", "discussion_type": null, "num_comments": 17, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/aws/comments/fc1jc9/why_cant_my_lambda_invoke_another_lambda/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/aws/comments/fc1jc9/why_cant_my_lambda_invoke_another_lambda/", "subreddit_subscribers": 111604, "created_utc": 1583100367.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "aws", "selftext": "I have a simple AWS Lambda doing two calls - One to SWAPI (Star Wars API) and one to the NASDAQ website. Both work locally, but in AWS Lambda, only the SWAPI call resolves and the NASDAQ call hangs until the Lambda function times out. Is it possible that the NASDAQ website is blocking the call? How can I confirm this? (Note: no errors show up when running, just hanging).\n\nHere is the code:\n\n    import axios from \"axios\";\n\n    // If this is to be invoked directly, we can create our own event\n    export interface Event {\n      name: string;\n    }\n\n    const main = async (): Promise&lt;string&gt; =&gt; {\n      try {\n        console.log(\n          (\n            await axios({\n              url: \"https://swapi.co/api/people/2\",\n              method: \"GET\",\n              responseType: \"blob\"\n            })\n          ).data\n        );\n\n        console.log(\n          (\n            await axios({\n              url:\n                \"https://old.nasdaq.com/screening/companies-by-name.aspx?letter=0&amp;exchange=nasdaq&amp;render=download\",\n              method: \"GET\",\n              responseType: \"blob\"\n            })\n          ).data\n        );\n\n        return \"Success\";\n      } catch (e) {\n        return `Failed + ${e}`;\n      }\n    };\n\n    export { main };", "author_fullname": "t2_9c1t3tr", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "AWS Lambda Downloading CSV?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/aws", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "hide_score": false, "name": "t3_fc7npa", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "serverless", "can_mod_post": false, "score": 3, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583157657.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.aws", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have a simple AWS Lambda doing two calls - One to SWAPI (Star Wars API) and one to the NASDAQ website. Both work locally, but in AWS Lambda, only the SWAPI call resolves and the NASDAQ call hangs until the Lambda function times out. Is it possible that the NASDAQ website is blocking the call? How can I confirm this? (Note: no errors show up when running, just hanging).&lt;/p&gt;\n\n&lt;p&gt;Here is the code:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;import axios from &amp;quot;axios&amp;quot;;\n\n// If this is to be invoked directly, we can create our own event\nexport interface Event {\n  name: string;\n}\n\nconst main = async (): Promise&amp;lt;string&amp;gt; =&amp;gt; {\n  try {\n    console.log(\n      (\n        await axios({\n          url: &amp;quot;https://swapi.co/api/people/2&amp;quot;,\n          method: &amp;quot;GET&amp;quot;,\n          responseType: &amp;quot;blob&amp;quot;\n        })\n      ).data\n    );\n\n    console.log(\n      (\n        await axios({\n          url:\n            &amp;quot;https://old.nasdaq.com/screening/companies-by-name.aspx?letter=0&amp;amp;exchange=nasdaq&amp;amp;render=download&amp;quot;,\n          method: &amp;quot;GET&amp;quot;,\n          responseType: &amp;quot;blob&amp;quot;\n        })\n      ).data\n    );\n\n    return &amp;quot;Success&amp;quot;;\n  } catch (e) {\n    return `Failed + ${e}`;\n  }\n};\n\nexport { main };\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "ff0e4f90-fe51-11e8-995f-0e494176cf40", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh84", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#dadada", "id": "fc7npa", "is_robot_indexable": true, "report_reasons": null, "author": "piratesearch", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/aws/comments/fc7npa/aws_lambda_downloading_csv/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/aws/comments/fc7npa/aws_lambda_downloading_csv/", "subreddit_subscribers": 111604, "created_utc": 1583128857.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "aws", "selftext": "Is there any way in which I can download the whole dynamo DB data locally onto my system and then restore it latter.\n\nYes, I know Dynamo has backup option and you can restore that in any region. But I need a local copy of it.", "author_fullname": "t2_20yv29ap", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Backing up DynamoDb", "link_flair_richtext": [], "subreddit_name_prefixed": "r/aws", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "hide_score": true, "name": "t3_fcavih", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "database", "can_mod_post": false, "score": 1, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583178272.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.aws", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Is there any way in which I can download the whole dynamo DB data locally onto my system and then restore it latter.&lt;/p&gt;\n\n&lt;p&gt;Yes, I know Dynamo has backup option and you can restore that in any region. But I need a local copy of it.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "c67223e6-fe51-11e8-96e8-0e985e0a8712", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh84", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#dadada", "id": "fcavih", "is_robot_indexable": true, "report_reasons": null, "author": "spider143", "discussion_type": null, "num_comments": 5, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/aws/comments/fcavih/backing_up_dynamodb/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/aws/comments/fcavih/backing_up_dynamodb/", "subreddit_subscribers": 111604, "created_utc": 1583149472.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "aws", "selftext": "Here is my code:  \n\n\n    \"payload\": {\n        \"TableName\": \"Test1\",\n        \"Key\": {\n          \"ID\": \"aosdjndidj\"\n        },\n    \n        \"ExpressionAttributeNames\": {\n          \"#R\": \"Region\"\n        },\n        \"UpdateExpression\": \"Set #R = :r\",\n        \"ExpressionAttributeValues\": {\n          \":r\": 2\n        },\n        \"ReturnValues\": \"UPDATED_NEW\"\n      }\n    \n        dynamo.update(payload, callback);\n\nIt gives the error: \n\n    \"errorType\": \"ValidationException\",\n      \"errorMessage\": \"The provided key element does not match the schema\"\n\nHere is the database:  \n\n\n    ID, Region, Name\n\nLet me know what is wrong", "author_fullname": "t2_hicdx", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Help with updating dynamoDB", "link_flair_richtext": [], "subreddit_name_prefixed": "r/aws", "hidden": false, "pwls": 6, "link_flair_css_class": "", "downs": 0, "hide_score": false, "name": "t3_fc82lv", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "technical question", "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583160019.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.aws", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Here is my code:  &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;&amp;quot;payload&amp;quot;: {\n    &amp;quot;TableName&amp;quot;: &amp;quot;Test1&amp;quot;,\n    &amp;quot;Key&amp;quot;: {\n      &amp;quot;ID&amp;quot;: &amp;quot;aosdjndidj&amp;quot;\n    },\n\n    &amp;quot;ExpressionAttributeNames&amp;quot;: {\n      &amp;quot;#R&amp;quot;: &amp;quot;Region&amp;quot;\n    },\n    &amp;quot;UpdateExpression&amp;quot;: &amp;quot;Set #R = :r&amp;quot;,\n    &amp;quot;ExpressionAttributeValues&amp;quot;: {\n      &amp;quot;:r&amp;quot;: 2\n    },\n    &amp;quot;ReturnValues&amp;quot;: &amp;quot;UPDATED_NEW&amp;quot;\n  }\n\n    dynamo.update(payload, callback);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It gives the error: &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;&amp;quot;errorType&amp;quot;: &amp;quot;ValidationException&amp;quot;,\n  &amp;quot;errorMessage&amp;quot;: &amp;quot;The provided key element does not match the schema&amp;quot;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Here is the database:  &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;ID, Region, Name\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Let me know what is wrong&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "e0acaab0-fe51-11e8-b457-0e86fa5111f4", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh84", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#dadada", "id": "fc82lv", "is_robot_indexable": true, "report_reasons": null, "author": "bigbelly5", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/aws/comments/fc82lv/help_with_updating_dynamodb/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/aws/comments/fc82lv/help_with_updating_dynamodb/", "subreddit_subscribers": 111604, "created_utc": 1583131219.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "aws", "selftext": "I am new to ecs. What I am looking is a simple way to run by Docker container on ecs. My Container doesn't run any application, it has some shell scripts to run in crontab and some adhoc tasks that I need to run once in a while using \\`docker exec &lt;container\\_id&gt;\\`  . Could you help how CONTAINER DEFINITION and TASK DEFINITION should look like/", "author_fullname": "t2_59psm5l9", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "What's the best way to deploy Docker container that runs some shell scripts to ECS ?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/aws", "hidden": false, "pwls": 6, "link_flair_css_class": "resource", "downs": 0, "hide_score": false, "name": "t3_fc9xwd", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "technical resource", "can_mod_post": false, "score": 1, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1583172229.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.aws", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I am new to ecs. What I am looking is a simple way to run by Docker container on ecs. My Container doesn&amp;#39;t run any application, it has some shell scripts to run in crontab and some adhoc tasks that I need to run once in a while using `docker exec &amp;lt;container\\_id&amp;gt;`  . Could you help how CONTAINER DEFINITION and TASK DEFINITION should look like/&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "90cdeee6-b9e3-11e6-8d35-0eabbe333632", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh84", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#dadada", "id": "fc9xwd", "is_robot_indexable": true, "report_reasons": null, "author": "baadditor", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/aws/comments/fc9xwd/whats_the_best_way_to_deploy_docker_container/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/aws/comments/fc9xwd/whats_the_best_way_to_deploy_docker_container/", "subreddit_subscribers": 111604, "created_utc": 1583143429.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_fc9xwd", "before": null}}