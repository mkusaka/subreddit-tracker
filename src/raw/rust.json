{"kind": "Listing", "data": {"modhash": "", "dist": 12, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "Mystified about strings? Borrow checker have you in a headlock? Seek help here! There are no stupid questions, only docs that haven't been written yet.\n\nIf you have a [StackOverflow](http://stackoverflow.com/) account, consider asking it there instead! StackOverflow shows up much higher in search results, so having your question there also helps future Rust users (be sure to give it [the \"Rust\" tag](http://stackoverflow.com/questions/tagged/rust) for maximum visibility). Note that this site is very interested in question quality. I've been asked to read a RFC I authored once. If you want your code reviewed or review other's code, there's a [codereview stackexchange](https://codereview.stackexchange.com/questions/tagged/rust), too. If you need to test your code, maybe [the Rust playground](https://play.rust-lang.org) is for you.\n\nHere are some other venues where help may be found:\n\n[/r/learnrust](https://www.reddit.com/r/learnrust) is a subreddit to share your questions and epiphanies learning Rust programming.\n\nThe official Rust user forums: [https://users.rust-lang.org/](https://users.rust-lang.org/).\n\nThe official Rust Programming Language Discord: [https://discord.gg/rust-lang](https://discord.gg/rust-lang)\n\nThe unofficial Rust community Discord: [https://bit.ly/rust-community](https://bit.ly/rust-community)\n\nAlso check out [last weeks' thread](https://reddit.com/r/rust/comments/j57z68/hey_rustaceans_got_an_easy_question_ask_here/) with many good questions and answers. And if you believe your question to be either very complex or worthy of larger dissemination, feel free to create a text post.\n\nAlso if you want to be mentored by experienced Rustaceans, tell us the area of expertise that you seek.", "author_fullname": "t2_1kxp4", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Hey Rustaceans! Got an easy question? Ask here (42/2020)!", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": "easyquestions", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_j9l01t", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.95, "author_flair_background_color": "", "subreddit_type": "public", "ups": 25, "total_awards_received": 1, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "\ud83d\ude4b questions", "can_mod_post": false, "score": 25, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": "contrib", "author_flair_richtext": [], "gildings": {"gid_1": 1}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1602508998.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Mystified about strings? Borrow checker have you in a headlock? Seek help here! There are no stupid questions, only docs that haven&amp;#39;t been written yet.&lt;/p&gt;\n\n&lt;p&gt;If you have a &lt;a href=\"http://stackoverflow.com/\"&gt;StackOverflow&lt;/a&gt; account, consider asking it there instead! StackOverflow shows up much higher in search results, so having your question there also helps future Rust users (be sure to give it &lt;a href=\"http://stackoverflow.com/questions/tagged/rust\"&gt;the &amp;quot;Rust&amp;quot; tag&lt;/a&gt; for maximum visibility). Note that this site is very interested in question quality. I&amp;#39;ve been asked to read a RFC I authored once. If you want your code reviewed or review other&amp;#39;s code, there&amp;#39;s a &lt;a href=\"https://codereview.stackexchange.com/questions/tagged/rust\"&gt;codereview stackexchange&lt;/a&gt;, too. If you need to test your code, maybe &lt;a href=\"https://play.rust-lang.org\"&gt;the Rust playground&lt;/a&gt; is for you.&lt;/p&gt;\n\n&lt;p&gt;Here are some other venues where help may be found:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://www.reddit.com/r/learnrust\"&gt;/r/learnrust&lt;/a&gt; is a subreddit to share your questions and epiphanies learning Rust programming.&lt;/p&gt;\n\n&lt;p&gt;The official Rust user forums: &lt;a href=\"https://users.rust-lang.org/\"&gt;https://users.rust-lang.org/&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;The official Rust Programming Language Discord: &lt;a href=\"https://discord.gg/rust-lang\"&gt;https://discord.gg/rust-lang&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;The unofficial Rust community Discord: &lt;a href=\"https://bit.ly/rust-community\"&gt;https://bit.ly/rust-community&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Also check out &lt;a href=\"https://reddit.com/r/rust/comments/j57z68/hey_rustaceans_got_an_easy_question_ask_here/\"&gt;last weeks&amp;#39; thread&lt;/a&gt; with many good questions and answers. And if you believe your question to be either very complex or worthy of larger dissemination, feel free to create a text post.&lt;/p&gt;\n\n&lt;p&gt;Also if you want to be mentored by experienced Rustaceans, tell us the area of expertise that you seek.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": "new", "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [{"giver_coin_reward": null, "subreddit_id": null, "is_new": false, "days_of_drip_extension": 0, "coin_price": 100, "id": "gid_1", "penny_donate": null, "award_sub_type": "GLOBAL", "coin_reward": 0, "icon_url": "https://www.redditstatic.com/gold/awards/icon/silver_512.png", "days_of_premium": 0, "tiers_by_required_awardings": null, "resized_icons": [{"url": "https://www.redditstatic.com/gold/awards/icon/silver_16.png", "width": 16, "height": 16}, {"url": "https://www.redditstatic.com/gold/awards/icon/silver_32.png", "width": 32, "height": 32}, {"url": "https://www.redditstatic.com/gold/awards/icon/silver_48.png", "width": 48, "height": 48}, {"url": "https://www.redditstatic.com/gold/awards/icon/silver_64.png", "width": 64, "height": 64}, {"url": "https://www.redditstatic.com/gold/awards/icon/silver_128.png", "width": 128, "height": 128}], "icon_width": 512, "static_icon_width": 512, "start_date": null, "is_enabled": true, "awardings_required_to_grant_benefits": null, "description": "Shows the Silver Award... and that's it.", "end_date": null, "subreddit_coin_reward": 0, "count": 1, "static_icon_height": 512, "name": "Silver", "resized_static_icons": [{"url": "https://www.redditstatic.com/gold/awards/icon/silver_16.png", "width": 16, "height": 16}, {"url": "https://www.redditstatic.com/gold/awards/icon/silver_32.png", "width": 32, "height": 32}, {"url": "https://www.redditstatic.com/gold/awards/icon/silver_48.png", "width": 48, "height": 48}, {"url": "https://www.redditstatic.com/gold/awards/icon/silver_64.png", "width": 64, "height": 64}, {"url": "https://www.redditstatic.com/gold/awards/icon/silver_128.png", "width": 128, "height": 128}], "icon_format": null, "icon_height": 512, "penny_price": null, "award_type": "global", "static_icon_url": "https://www.redditstatic.com/gold/awards/icon/silver_512.png"}], "awarders": [], "media_only": false, "link_flair_template_id": "e86091d6-dfe6-11ea-a6d0-0eaf4ae01c99", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": "clippy \u00b7 twir \u00b7 rust \u00b7 mutagen \u00b7 flamer \u00b7 overflower \u00b7 bytecount", "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#f7f5ff", "id": "j9l01t", "is_robot_indexable": true, "report_reasons": null, "author": "llogiq", "discussion_type": null, "num_comments": 92, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": "dark", "permalink": "/r/rust/comments/j9l01t/hey_rustaceans_got_an_easy_question_ask_here/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rust/comments/j9l01t/hey_rustaceans_got_an_easy_question_ask_here/", "subreddit_subscribers": 115776, "created_utc": 1602480198.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_eki22", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "This Week in Rust 360", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jbh0ci", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.99, "author_flair_background_color": "", "subreddit_type": "public", "ups": 122, "total_awards_received": 1, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 122, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1602765661.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "this-week-in-rust.org", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://this-week-in-rust.org/blog/2020/10/14/this-week-in-rust-360/", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [{"giver_coin_reward": null, "subreddit_id": null, "is_new": false, "days_of_drip_extension": 0, "coin_price": 150, "id": "award_f44611f1-b89e-46dc-97fe-892280b13b82", "penny_donate": null, "award_sub_type": "GLOBAL", "coin_reward": 0, "icon_url": "https://i.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png", "days_of_premium": 0, "tiers_by_required_awardings": null, "resized_icons": [{"url": "https://preview.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png?width=16&amp;height=16&amp;auto=webp&amp;s=a5662dfbdb402bf67866c050aa76c31c147c2f45", "width": 16, "height": 16}, {"url": "https://preview.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png?width=32&amp;height=32&amp;auto=webp&amp;s=a6882eb3f380e8e88009789f4d0072e17b8c59f1", "width": 32, "height": 32}, {"url": "https://preview.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png?width=48&amp;height=48&amp;auto=webp&amp;s=e50064b090879e8a0b55e433f6ee61d5cb5fbe1d", "width": 48, "height": 48}, {"url": "https://preview.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png?width=64&amp;height=64&amp;auto=webp&amp;s=8e5bb2e76683cb6b161830bcdd9642049d6adc11", "width": 64, "height": 64}, {"url": "https://preview.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png?width=128&amp;height=128&amp;auto=webp&amp;s=eda4a9246f95f42ee6940cc0ec65306fd20de878", "width": 128, "height": 128}], "icon_width": 2048, "static_icon_width": 2048, "start_date": null, "is_enabled": true, "awardings_required_to_grant_benefits": null, "description": "Thank you stranger. Shows the award.", "end_date": null, "subreddit_coin_reward": 0, "count": 1, "static_icon_height": 2048, "name": "Helpful", "resized_static_icons": [{"url": "https://preview.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png?width=16&amp;height=16&amp;auto=webp&amp;s=a5662dfbdb402bf67866c050aa76c31c147c2f45", "width": 16, "height": 16}, {"url": "https://preview.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png?width=32&amp;height=32&amp;auto=webp&amp;s=a6882eb3f380e8e88009789f4d0072e17b8c59f1", "width": 32, "height": 32}, {"url": "https://preview.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png?width=48&amp;height=48&amp;auto=webp&amp;s=e50064b090879e8a0b55e433f6ee61d5cb5fbe1d", "width": 48, "height": 48}, {"url": "https://preview.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png?width=64&amp;height=64&amp;auto=webp&amp;s=8e5bb2e76683cb6b161830bcdd9642049d6adc11", "width": 64, "height": 64}, {"url": "https://preview.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png?width=128&amp;height=128&amp;auto=webp&amp;s=eda4a9246f95f42ee6940cc0ec65306fd20de878", "width": 128, "height": 128}], "icon_format": null, "icon_height": 2048, "penny_price": null, "award_type": "global", "static_icon_url": "https://i.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png"}], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": "twir", "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jbh0ci", "is_robot_indexable": true, "report_reasons": null, "author": "seino_chan", "discussion_type": null, "num_comments": 9, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": "dark", "permalink": "/r/rust/comments/jbh0ci/this_week_in_rust_360/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://this-week-in-rust.org/blog/2020/10/14/this-week-in-rust-360/", "subreddit_subscribers": 115776, "created_utc": 1602736861.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "genpdf ([crates.io](https://crates.io/crates/genpdf), [lib.rs](https://lib.rs/crates/genpdf), [docs.rs](https://docs.rs/genpdf), [source code](https://git.sr.ht/~ireas/genpdf-rs)) is a high-level PDF generator built on top of [`printpdf`](https://lib.rs/crates/printpdf) and [`rusttype`](https://lib.rs/crates/rusttype).  It takes care of the page layout and text alignment and renders a document tree into a PDF document.  All of its dependencies are written in Rust, so you don\u2019t need any pre-installed libraries or tools.\n\n    // Create a document and set the default font family\n    let mut doc = genpdf::Document::new(\"./fonts\", \"Liberation\")\n        .expect(\"Failed to create PDF document\");\n    // Change the default settings\n    doc.set_margins(10);\n    doc.set_title(\"Demo document\");\n    // Add one or more elements\n    doc.push(genpdf::elements::Paragraph::new(\"This is a demo document.\"));\n    // Render the document and write it to a file\n    doc.render_to_file(\"output.pdf\")\n        .expect(\"Failed to write PDF file\");\n\nFor a complete example with all supported elements, see the\n[`examples/demo.rs`][] file that generates [this PDF document][].\n\n[`examples/demo.rs`]: https://git.sr.ht/~ireas/genpdf-rs/tree/master/examples/demo.rs\n[this PDF document]: https://git.sr.ht/~ireas/genpdf-rs/blob/master/examples/demo.pdf\n\nFor more information, see the [readme](https://sr.ht/~ireas/genpdf-rs) and the  [API documentation](https://docs.rs/genpdf).", "author_fullname": "t2_7cdzspge", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "genpdf, a user-friendly PDF generator written in pure Rust", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jbk94w", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.98, "author_flair_background_color": null, "subreddit_type": "public", "ups": 44, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 44, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1602782395.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;genpdf (&lt;a href=\"https://crates.io/crates/genpdf\"&gt;crates.io&lt;/a&gt;, &lt;a href=\"https://lib.rs/crates/genpdf\"&gt;lib.rs&lt;/a&gt;, &lt;a href=\"https://docs.rs/genpdf\"&gt;docs.rs&lt;/a&gt;, &lt;a href=\"https://git.sr.ht/%7Eireas/genpdf-rs\"&gt;source code&lt;/a&gt;) is a high-level PDF generator built on top of &lt;a href=\"https://lib.rs/crates/printpdf\"&gt;&lt;code&gt;printpdf&lt;/code&gt;&lt;/a&gt; and &lt;a href=\"https://lib.rs/crates/rusttype\"&gt;&lt;code&gt;rusttype&lt;/code&gt;&lt;/a&gt;.  It takes care of the page layout and text alignment and renders a document tree into a PDF document.  All of its dependencies are written in Rust, so you don\u2019t need any pre-installed libraries or tools.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;// Create a document and set the default font family\nlet mut doc = genpdf::Document::new(&amp;quot;./fonts&amp;quot;, &amp;quot;Liberation&amp;quot;)\n    .expect(&amp;quot;Failed to create PDF document&amp;quot;);\n// Change the default settings\ndoc.set_margins(10);\ndoc.set_title(&amp;quot;Demo document&amp;quot;);\n// Add one or more elements\ndoc.push(genpdf::elements::Paragraph::new(&amp;quot;This is a demo document.&amp;quot;));\n// Render the document and write it to a file\ndoc.render_to_file(&amp;quot;output.pdf&amp;quot;)\n    .expect(&amp;quot;Failed to write PDF file&amp;quot;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;For a complete example with all supported elements, see the\n&lt;a href=\"https://git.sr.ht/%7Eireas/genpdf-rs/tree/master/examples/demo.rs\"&gt;&lt;code&gt;examples/demo.rs&lt;/code&gt;&lt;/a&gt; file that generates &lt;a href=\"https://git.sr.ht/%7Eireas/genpdf-rs/blob/master/examples/demo.pdf\"&gt;this PDF document&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;For more information, see the &lt;a href=\"https://sr.ht/%7Eireas/genpdf-rs\"&gt;readme&lt;/a&gt; and the  &lt;a href=\"https://docs.rs/genpdf\"&gt;API documentation&lt;/a&gt;.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jbk94w", "is_robot_indexable": true, "report_reasons": null, "author": "rustyreas", "discussion_type": null, "num_comments": 8, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/jbk94w/genpdf_a_userfriendly_pdf_generator_written_in/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/jbk94w/genpdf_a_userfriendly_pdf_generator_written_in/", "subreddit_subscribers": 115776, "created_utc": 1602753595.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "There's one thing I hate more than anything else about Rust - more than confusing lifetime errors, more than compile times, even more than `std::ops::Range`: asking questions on StackOverflow.\n\n55% of the my questions are edited, and 15% are *erroneously* closed as duplicates/too broad by one single user. I won't name them but anyone who has posted a Rust question to StackOverflow will know who I am talking about.\n\nThis user often posts useful information, but I did not ask him to be my personal copy editor. If a *single person nitpicked more than half* of all the text he wrote I do not think he would appreciate it. And we are talking nitpicks. Here is a typical edit:\n\n&gt; Convert SystemTime date to ISO 8601 in rust\n\nto\n\n&gt; How do I convert a SystemTime to ISO 8601 in Rust?\n\nThe question closures are worse than the edits though. StackOverflow has a meme-level problem with overzealous question closure, and it's especially infuriating because closed questions are almost impossible to reopen (only 6% are). Out of the 4 closed-as-duplicates I have been punished by, I would say only 1 was a genuine duplicate. The others have helpful answers. To have so many questions mistakenly closed by a single prolific user is very frustrating.\n\nThe Rust team seem to be keen to make the Rust community welcoming. This is not welcoming. It also does not happen with any other topic I ask about - only Rust.\n\nThe thought of asking a question on StackOverflow should not fill me with dread. It should not make me think \"god I hope that guy is asleep\".", "author_fullname": "t2_htaqb", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "We need to talk about StackOverflow", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jb3ukm", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.83, "author_flair_background_color": null, "subreddit_type": "public", "ups": 382, "total_awards_received": 2, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 382, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1602721258.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;There&amp;#39;s one thing I hate more than anything else about Rust - more than confusing lifetime errors, more than compile times, even more than &lt;code&gt;std::ops::Range&lt;/code&gt;: asking questions on StackOverflow.&lt;/p&gt;\n\n&lt;p&gt;55% of the my questions are edited, and 15% are &lt;em&gt;erroneously&lt;/em&gt; closed as duplicates/too broad by one single user. I won&amp;#39;t name them but anyone who has posted a Rust question to StackOverflow will know who I am talking about.&lt;/p&gt;\n\n&lt;p&gt;This user often posts useful information, but I did not ask him to be my personal copy editor. If a &lt;em&gt;single person nitpicked more than half&lt;/em&gt; of all the text he wrote I do not think he would appreciate it. And we are talking nitpicks. Here is a typical edit:&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;Convert SystemTime date to ISO 8601 in rust&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;to&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;How do I convert a SystemTime to ISO 8601 in Rust?&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;The question closures are worse than the edits though. StackOverflow has a meme-level problem with overzealous question closure, and it&amp;#39;s especially infuriating because closed questions are almost impossible to reopen (only 6% are). Out of the 4 closed-as-duplicates I have been punished by, I would say only 1 was a genuine duplicate. The others have helpful answers. To have so many questions mistakenly closed by a single prolific user is very frustrating.&lt;/p&gt;\n\n&lt;p&gt;The Rust team seem to be keen to make the Rust community welcoming. This is not welcoming. It also does not happen with any other topic I ask about - only Rust.&lt;/p&gt;\n\n&lt;p&gt;The thought of asking a question on StackOverflow should not fill me with dread. It should not make me think &amp;quot;god I hope that guy is asleep&amp;quot;.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [{"giver_coin_reward": null, "subreddit_id": null, "is_new": false, "days_of_drip_extension": 0, "coin_price": 150, "id": "award_f44611f1-b89e-46dc-97fe-892280b13b82", "penny_donate": null, "award_sub_type": "GLOBAL", "coin_reward": 0, "icon_url": "https://i.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png", "days_of_premium": 0, "tiers_by_required_awardings": null, "resized_icons": [{"url": "https://preview.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png?width=16&amp;height=16&amp;auto=webp&amp;s=a5662dfbdb402bf67866c050aa76c31c147c2f45", "width": 16, "height": 16}, {"url": "https://preview.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png?width=32&amp;height=32&amp;auto=webp&amp;s=a6882eb3f380e8e88009789f4d0072e17b8c59f1", "width": 32, "height": 32}, {"url": "https://preview.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png?width=48&amp;height=48&amp;auto=webp&amp;s=e50064b090879e8a0b55e433f6ee61d5cb5fbe1d", "width": 48, "height": 48}, {"url": "https://preview.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png?width=64&amp;height=64&amp;auto=webp&amp;s=8e5bb2e76683cb6b161830bcdd9642049d6adc11", "width": 64, "height": 64}, {"url": "https://preview.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png?width=128&amp;height=128&amp;auto=webp&amp;s=eda4a9246f95f42ee6940cc0ec65306fd20de878", "width": 128, "height": 128}], "icon_width": 2048, "static_icon_width": 2048, "start_date": null, "is_enabled": true, "awardings_required_to_grant_benefits": null, "description": "Thank you stranger. Shows the award.", "end_date": null, "subreddit_coin_reward": 0, "count": 1, "static_icon_height": 2048, "name": "Helpful", "resized_static_icons": [{"url": "https://preview.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png?width=16&amp;height=16&amp;auto=webp&amp;s=a5662dfbdb402bf67866c050aa76c31c147c2f45", "width": 16, "height": 16}, {"url": "https://preview.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png?width=32&amp;height=32&amp;auto=webp&amp;s=a6882eb3f380e8e88009789f4d0072e17b8c59f1", "width": 32, "height": 32}, {"url": "https://preview.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png?width=48&amp;height=48&amp;auto=webp&amp;s=e50064b090879e8a0b55e433f6ee61d5cb5fbe1d", "width": 48, "height": 48}, {"url": "https://preview.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png?width=64&amp;height=64&amp;auto=webp&amp;s=8e5bb2e76683cb6b161830bcdd9642049d6adc11", "width": 64, "height": 64}, {"url": "https://preview.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png?width=128&amp;height=128&amp;auto=webp&amp;s=eda4a9246f95f42ee6940cc0ec65306fd20de878", "width": 128, "height": 128}], "icon_format": null, "icon_height": 2048, "penny_price": null, "award_type": "global", "static_icon_url": "https://i.redd.it/award_images/t5_22cerq/klvxk1wggfd41_Helpful.png"}, {"giver_coin_reward": 0, "subreddit_id": null, "is_new": false, "days_of_drip_extension": 0, "coin_price": 80, "id": "award_8352bdff-3e03-4189-8a08-82501dd8f835", "penny_donate": 0, "award_sub_type": "GLOBAL", "coin_reward": 0, "icon_url": "https://i.redd.it/award_images/t5_22cerq/niiatoknifn51_Hugz.png", "days_of_premium": 0, "tiers_by_required_awardings": null, "resized_icons": [{"url": "https://preview.redd.it/award_images/t5_22cerq/niiatoknifn51_Hugz.png?width=16&amp;height=16&amp;auto=webp&amp;s=85b1aa61933f163dd2b77b1e78f4d82d9c947ec1", "width": 16, "height": 16}, {"url": "https://preview.redd.it/award_images/t5_22cerq/niiatoknifn51_Hugz.png?width=32&amp;height=32&amp;auto=webp&amp;s=67935636337b07ca5b98d945f4bcdae26e5f567e", "width": 32, "height": 32}, {"url": "https://preview.redd.it/award_images/t5_22cerq/niiatoknifn51_Hugz.png?width=48&amp;height=48&amp;auto=webp&amp;s=547d5fb33f5a4a5d6fc154cbd658638cc2b1c3a0", "width": 48, "height": 48}, {"url": "https://preview.redd.it/award_images/t5_22cerq/niiatoknifn51_Hugz.png?width=64&amp;height=64&amp;auto=webp&amp;s=e17bc331183e7ba194314a34e43b35460a835fff", "width": 64, "height": 64}, {"url": "https://preview.redd.it/award_images/t5_22cerq/niiatoknifn51_Hugz.png?width=128&amp;height=128&amp;auto=webp&amp;s=1b4e617f18af8d4e2c47c2f154d4422be43c809f", "width": 128, "height": 128}], "icon_width": 2048, "static_icon_width": 2048, "start_date": null, "is_enabled": true, "awardings_required_to_grant_benefits": null, "description": "Everything is better with a good hug", "end_date": null, "subreddit_coin_reward": 0, "count": 1, "static_icon_height": 2048, "name": "Hugz", "resized_static_icons": [{"url": "https://preview.redd.it/award_images/t5_22cerq/niiatoknifn51_Hugz.png?width=16&amp;height=16&amp;auto=webp&amp;s=85b1aa61933f163dd2b77b1e78f4d82d9c947ec1", "width": 16, "height": 16}, {"url": "https://preview.redd.it/award_images/t5_22cerq/niiatoknifn51_Hugz.png?width=32&amp;height=32&amp;auto=webp&amp;s=67935636337b07ca5b98d945f4bcdae26e5f567e", "width": 32, "height": 32}, {"url": "https://preview.redd.it/award_images/t5_22cerq/niiatoknifn51_Hugz.png?width=48&amp;height=48&amp;auto=webp&amp;s=547d5fb33f5a4a5d6fc154cbd658638cc2b1c3a0", "width": 48, "height": 48}, {"url": "https://preview.redd.it/award_images/t5_22cerq/niiatoknifn51_Hugz.png?width=64&amp;height=64&amp;auto=webp&amp;s=e17bc331183e7ba194314a34e43b35460a835fff", "width": 64, "height": 64}, {"url": "https://preview.redd.it/award_images/t5_22cerq/niiatoknifn51_Hugz.png?width=128&amp;height=128&amp;auto=webp&amp;s=1b4e617f18af8d4e2c47c2f154d4422be43c809f", "width": 128, "height": 128}], "icon_format": "PNG", "icon_height": 2048, "penny_price": 0, "award_type": "global", "static_icon_url": "https://i.redd.it/award_images/t5_22cerq/niiatoknifn51_Hugz.png"}], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": true, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jb3ukm", "is_robot_indexable": true, "report_reasons": null, "author": "IshKebab", "discussion_type": null, "num_comments": 139, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/jb3ukm/we_need_to_talk_about_stackoverflow/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/jb3ukm/we_need_to_talk_about_stackoverflow/", "subreddit_subscribers": 115776, "created_utc": 1602692458.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_f5d2i", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Blog Post: Study of std::io::Error", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jbdk5x", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": "", "subreddit_type": "public", "ups": 82, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 82, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1602751938.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "matklad.github.io", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://matklad.github.io/2020/10/15/study-of-std-io-error.html", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": "rust-analyzer", "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jbdk5x", "is_robot_indexable": true, "report_reasons": null, "author": "matklad", "discussion_type": null, "num_comments": 37, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": "dark", "permalink": "/r/rust/comments/jbdk5x/blog_post_study_of_stdioerror/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://matklad.github.io/2020/10/15/study-of-std-io-error.html", "subreddit_subscribers": 115776, "created_utc": 1602723138.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "Hello.\n\nI was wondering how does HashMap return a reference to a value without getting\n\n`returns a value referencing data owned by the current function`\n\n&amp;#x200B;\n\n        pub fn get&lt;BK&gt;(&amp;self, key: &amp;BK) -&gt; Option&lt;&amp;V&gt;\n        where\n            BK: Hash + Eq + ?Sized,\n            K: Borrow&lt;BK&gt;,\n        {\n            self.root\n                .get(hash_key(&amp;*self.hasher, key), 0, key)\n                .map(|&amp;(_, ref v)| v)\n        }\n\n&amp;#x200B;\n\nI have a similar function `get` for a struct that owns a HashMap and I'm trying to return that value reference and I get a compilation error: `returns a value referencing data owned by the current function`\n\n        fn get&lt;'a&gt;(&amp;self, key: &amp;'a dyn MyTrait) -&gt; Option&lt;&amp;'a dyn MyTrait&gt; {\n            ...\n            hm.get(&amp;key)\n                .map(|v| v as &amp;dyn MyTrait)\n        }\n\n&amp;#x200B;\n\nI think I understand the essence of the problem, where I'm a returning a reference to something that `hm` owns, but how does it work for HashMap?\n\n&amp;#x200B;\n\nEDIT: I think I understand something that is missing from my question and is the reason for this issue.\n\n        fn get&lt;'a&gt;(&amp;self, key: &amp;'a dyn MyTrait) -&gt; Option&lt;&amp;'a dyn MyTrait&gt; {\n            let hm = self.hm.lock().unwrap();\n            hm.get(&amp;key)\n                .map(|v| v as &amp;dyn MyTrait)\n        }\n\n`hm` is actually a local variable that unlocks [self.hm](https://self.hm) (is behind a mutex)\n\nI redacted this code my original question as I didn't understand this is the problem.\n\n&amp;#x200B;\n\nHow do I get around that?\n\nMy guess is there's no way other than cloning the value as it's a reference to something behind a mutex. Problem is I cannot have MyTrait be Cloneable because then I get errors for not being about to have MyTrait as a trait object....\n\n&amp;#x200B;\n\n&amp;#x200B;\n\nThank you!", "author_fullname": "t2_3r9vdacp", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How does HashMap return a reference to a value?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": true, "name": "t3_jbmc1y", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 9, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 9, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1602767105.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1602792598.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hello.&lt;/p&gt;\n\n&lt;p&gt;I was wondering how does HashMap return a reference to a value without getting&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;returns a value referencing data owned by the current function&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;    pub fn get&amp;lt;BK&amp;gt;(&amp;amp;self, key: &amp;amp;BK) -&amp;gt; Option&amp;lt;&amp;amp;V&amp;gt;\n    where\n        BK: Hash + Eq + ?Sized,\n        K: Borrow&amp;lt;BK&amp;gt;,\n    {\n        self.root\n            .get(hash_key(&amp;amp;*self.hasher, key), 0, key)\n            .map(|&amp;amp;(_, ref v)| v)\n    }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;I have a similar function &lt;code&gt;get&lt;/code&gt; for a struct that owns a HashMap and I&amp;#39;m trying to return that value reference and I get a compilation error: &lt;code&gt;returns a value referencing data owned by the current function&lt;/code&gt;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;    fn get&amp;lt;&amp;#39;a&amp;gt;(&amp;amp;self, key: &amp;amp;&amp;#39;a dyn MyTrait) -&amp;gt; Option&amp;lt;&amp;amp;&amp;#39;a dyn MyTrait&amp;gt; {\n        ...\n        hm.get(&amp;amp;key)\n            .map(|v| v as &amp;amp;dyn MyTrait)\n    }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;I think I understand the essence of the problem, where I&amp;#39;m a returning a reference to something that &lt;code&gt;hm&lt;/code&gt; owns, but how does it work for HashMap?&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;EDIT: I think I understand something that is missing from my question and is the reason for this issue.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;    fn get&amp;lt;&amp;#39;a&amp;gt;(&amp;amp;self, key: &amp;amp;&amp;#39;a dyn MyTrait) -&amp;gt; Option&amp;lt;&amp;amp;&amp;#39;a dyn MyTrait&amp;gt; {\n        let hm = self.hm.lock().unwrap();\n        hm.get(&amp;amp;key)\n            .map(|v| v as &amp;amp;dyn MyTrait)\n    }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;code&gt;hm&lt;/code&gt; is actually a local variable that unlocks &lt;a href=\"https://self.hm\"&gt;self.hm&lt;/a&gt; (is behind a mutex)&lt;/p&gt;\n\n&lt;p&gt;I redacted this code my original question as I didn&amp;#39;t understand this is the problem.&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;How do I get around that?&lt;/p&gt;\n\n&lt;p&gt;My guess is there&amp;#39;s no way other than cloning the value as it&amp;#39;s a reference to something behind a mutex. Problem is I cannot have MyTrait be Cloneable because then I get errors for not being about to have MyTrait as a trait object....&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;Thank you!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jbmc1y", "is_robot_indexable": true, "report_reasons": null, "author": "cheeeeeeeecake", "discussion_type": null, "num_comments": 7, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/jbmc1y/how_does_hashmap_return_a_reference_to_a_value/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/jbmc1y/how_does_hashmap_return_a_reference_to_a_value/", "subreddit_subscribers": 115776, "created_utc": 1602763798.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "I'm working on this for about two hours now.\n\nI have a tokio application where I get a `Stream&lt;Item = Vec&lt;u8&gt;&gt;` (actually it is a bit more complex because shiplift (from master branch) returns an enum of buffers, but for the sake...) and I need to convert this to a `Stream&lt;Item = Result&lt;String&gt;&gt;` (parsing linewise into UTF8).\n\n(the ultimate goal is to parse linewise using nom, but having a stream over lines is the first step towards this).\n\nI am lost right now. This seems to be a task that is way too hard for me to implement. Maybe some of you gurus around here can help.\n\nMy code is https://gist.github.com/matthiasbeyer/6b5f3a79f75a68c2bdef5536bcd8f57d (I hope I included all relevant parts). Note that the code example actually handles the shiplift return value which is an enum over three different types of buffers.", "author_fullname": "t2_7p9y4", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Why is it so hard to convert a Stream&lt;Item = Vec&lt;u8&gt;&gt; into a linewise Stream&lt;Item = Result&lt;String&gt;&gt;?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jbkde7", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.85, "author_flair_background_color": "", "subreddit_type": "public", "ups": 13, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 13, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1602783036.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;m working on this for about two hours now.&lt;/p&gt;\n\n&lt;p&gt;I have a tokio application where I get a &lt;code&gt;Stream&amp;lt;Item = Vec&amp;lt;u8&amp;gt;&amp;gt;&lt;/code&gt; (actually it is a bit more complex because shiplift (from master branch) returns an enum of buffers, but for the sake...) and I need to convert this to a &lt;code&gt;Stream&amp;lt;Item = Result&amp;lt;String&amp;gt;&amp;gt;&lt;/code&gt; (parsing linewise into UTF8).&lt;/p&gt;\n\n&lt;p&gt;(the ultimate goal is to parse linewise using nom, but having a stream over lines is the first step towards this).&lt;/p&gt;\n\n&lt;p&gt;I am lost right now. This seems to be a task that is way too hard for me to implement. Maybe some of you gurus around here can help.&lt;/p&gt;\n\n&lt;p&gt;My code is &lt;a href=\"https://gist.github.com/matthiasbeyer/6b5f3a79f75a68c2bdef5536bcd8f57d\"&gt;https://gist.github.com/matthiasbeyer/6b5f3a79f75a68c2bdef5536bcd8f57d&lt;/a&gt; (I hope I included all relevant parts). Note that the code example actually handles the shiplift return value which is an enum over three different types of buffers.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": "imag \u00b7 filters \u00b7 toml-query \u00b7 kairos", "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jbkde7", "is_robot_indexable": true, "report_reasons": null, "author": "musicmatze", "discussion_type": null, "num_comments": 13, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": "dark", "permalink": "/r/rust/comments/jbkde7/why_is_it_so_hard_to_convert_a_streamitem_vecu8/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/jbkde7/why_is_it_so_hard_to_convert_a_streamitem_vecu8/", "subreddit_subscribers": 115776, "created_utc": 1602754236.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_10li90", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Backlog Bonanza -- notes from lang team's October 14th meeting", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jbj6xj", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.89, "author_flair_background_color": "", "subreddit_type": "public", "ups": 7, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 7, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": "contrib", "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1602776536.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "paper.dropbox.com", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://paper.dropbox.com/doc/Backlog-bonanza--A9jkzp9e4KaNBFyMC0HwCkwkAg-2IcACiM0KX1up1thIeiWh", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": "Askama \u00b7 Quinn \u00b7 imap-proto \u00b7 tokio-imap", "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jbj6xj", "is_robot_indexable": true, "report_reasons": null, "author": "dochtman", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": "dark", "permalink": "/r/rust/comments/jbj6xj/backlog_bonanza_notes_from_lang_teams_october/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://paper.dropbox.com/doc/Backlog-bonanza--A9jkzp9e4KaNBFyMC0HwCkwkAg-2IcACiM0KX1up1thIeiWh", "subreddit_subscribers": 115776, "created_utc": 1602747736.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_15isnxzh", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "declio v0.1.0 - Declarative encoders and decoders for binary formats.", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jbizl2", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.78, "author_flair_background_color": null, "subreddit_type": "public", "ups": 5, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 5, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1602775428.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "crates.io", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://crates.io/crates/declio", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jbizl2", "is_robot_indexable": true, "report_reasons": null, "author": "ninja_tokumei", "discussion_type": null, "num_comments": 5, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/jbizl2/declio_v010_declarative_encoders_and_decoders_for/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://crates.io/crates/declio", "subreddit_subscribers": 115776, "created_utc": 1602746628.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_4sfpa", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Rye - a tiny experiment in building safe Rust fibers", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jb6nhp", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.95, "author_flair_background_color": null, "subreddit_type": "public", "ups": 52, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 52, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1602729518.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "github.com", "allow_live_comments": true, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://github.com/mpdn/rye", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jb6nhp", "is_robot_indexable": true, "report_reasons": null, "author": "Noctune", "discussion_type": null, "num_comments": 21, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/jb6nhp/rye_a_tiny_experiment_in_building_safe_rust_fibers/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://github.com/mpdn/rye", "subreddit_subscribers": 115776, "created_utc": 1602700718.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "Welcome once again to the official /r/rust Who's Hiring thread!\n\nBefore we begin, job-seekers should also remember to peruse [the prior thread](https://www.reddit.com/r/rust/comments/iix8vw/official_rrust_whos_hiring_thread_for_jobseekers/).\n\nThis thread will be periodically stickied to the top of /r/rust for improved visibility. The thread will be refreshed and posted anew when the next version of Rust releases in six weeks.\n\nPlease adhere to the following rules when posting:\n# Rules for individuals:\n\n * Don't create top-level comments; those are for employers.\n * Feel free to reply to top-level comments with on-topic questions.\n * Anyone seeking work should reply to my stickied top-level comment.\n * Meta-discussion should be reserved for the distinguished comment at the very bottom.\n\n# Rules for employers:\n\n * To find individuals seeking work, see the replies to the stickied top-level comment; you will need to click the \"more comments\" link at the bottom of the top-level comment in order to make these replies visible.\n * To make a top-level comment you must be hiring directly; no third-party recruiters.\n * One top-level comment per employer. If you have multiple job openings, please consolidate their descriptions or mention them in replies to your own top-level comment.\n * Proofread your comment after posting it and edit it if necessary to correct mistakes.\n * Please base your comment on the following template:\n\nCOMPANY: *[Company name; optionally link to your company's website or careers page.]*\n\nTYPE: *[Full time, part time, internship, contract, etc.]*\n\nDESCRIPTION: *[What does your company do, and what are you using Rust for? How much experience are you seeking and what seniority levels are you hiring for? The more details the better.]*\n\nLOCATION: *[Where are your office or offices located? If your workplace language isn't English-speaking, please specify it.]*\n\nESTIMATED COMPENSATION: *[Be courteous to your potential future colleagues by attempting to provide at least a rough expectation of wages/salary. If you are listing several positions in the \"Description\" field above, then feel free to include this information inline above, and put \"See above\" in this field. If compensation is negotiable, please attempt to provide at least a base estimate from which to begin negotiations. If compensation is highly variable, then feel free to provide a range. If compensation is expected to be offset by other benefits, then please include that information here as well. If you don't have firm numbers but do have relative expectations of candidate expertise (e.g. entry-level, senior), then you may include that here. If you truly have no information, then put \"Uncertain\" here.* ***This is a new field in our template; please see the meta comment below to discuss it***.*]*\n\nREMOTE: *[Do you offer the option of working remotely? If so, do you require employees to live in certain areas or time zones?]*\n\nVISA: *[Does your company sponsor visas?]*\n\nCONTACT: *[How can someone get in touch with you?]*", "author_fullname": "t2_7b7l2", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Official /r/rust \"Who's Hiring\" thread for job-seekers and job-offerers [Rust 1.47]", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": "jobs", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jb4cds", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.97, "author_flair_background_color": null, "subreddit_type": "public", "ups": 53, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "\ud83d\udcbc jobs", "can_mod_post": false, "score": 53, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1602722740.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Welcome once again to the official &lt;a href=\"/r/rust\"&gt;/r/rust&lt;/a&gt; Who&amp;#39;s Hiring thread!&lt;/p&gt;\n\n&lt;p&gt;Before we begin, job-seekers should also remember to peruse &lt;a href=\"https://www.reddit.com/r/rust/comments/iix8vw/official_rrust_whos_hiring_thread_for_jobseekers/\"&gt;the prior thread&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;This thread will be periodically stickied to the top of &lt;a href=\"/r/rust\"&gt;/r/rust&lt;/a&gt; for improved visibility. The thread will be refreshed and posted anew when the next version of Rust releases in six weeks.&lt;/p&gt;\n\n&lt;p&gt;Please adhere to the following rules when posting:&lt;/p&gt;\n\n&lt;h1&gt;Rules for individuals:&lt;/h1&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Don&amp;#39;t create top-level comments; those are for employers.&lt;/li&gt;\n&lt;li&gt;Feel free to reply to top-level comments with on-topic questions.&lt;/li&gt;\n&lt;li&gt;Anyone seeking work should reply to my stickied top-level comment.&lt;/li&gt;\n&lt;li&gt;Meta-discussion should be reserved for the distinguished comment at the very bottom.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h1&gt;Rules for employers:&lt;/h1&gt;\n\n&lt;ul&gt;\n&lt;li&gt;To find individuals seeking work, see the replies to the stickied top-level comment; you will need to click the &amp;quot;more comments&amp;quot; link at the bottom of the top-level comment in order to make these replies visible.&lt;/li&gt;\n&lt;li&gt;To make a top-level comment you must be hiring directly; no third-party recruiters.&lt;/li&gt;\n&lt;li&gt;One top-level comment per employer. If you have multiple job openings, please consolidate their descriptions or mention them in replies to your own top-level comment.&lt;/li&gt;\n&lt;li&gt;Proofread your comment after posting it and edit it if necessary to correct mistakes.&lt;/li&gt;\n&lt;li&gt;Please base your comment on the following template:&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;COMPANY: &lt;em&gt;[Company name; optionally link to your company&amp;#39;s website or careers page.]&lt;/em&gt;&lt;/p&gt;\n\n&lt;p&gt;TYPE: &lt;em&gt;[Full time, part time, internship, contract, etc.]&lt;/em&gt;&lt;/p&gt;\n\n&lt;p&gt;DESCRIPTION: &lt;em&gt;[What does your company do, and what are you using Rust for? How much experience are you seeking and what seniority levels are you hiring for? The more details the better.]&lt;/em&gt;&lt;/p&gt;\n\n&lt;p&gt;LOCATION: &lt;em&gt;[Where are your office or offices located? If your workplace language isn&amp;#39;t English-speaking, please specify it.]&lt;/em&gt;&lt;/p&gt;\n\n&lt;p&gt;ESTIMATED COMPENSATION: &lt;em&gt;[Be courteous to your potential future colleagues by attempting to provide at least a rough expectation of wages/salary. If you are listing several positions in the &amp;quot;Description&amp;quot; field above, then feel free to include this information inline above, and put &amp;quot;See above&amp;quot; in this field. If compensation is negotiable, please attempt to provide at least a base estimate from which to begin negotiations. If compensation is highly variable, then feel free to provide a range. If compensation is expected to be offset by other benefits, then please include that information here as well. If you don&amp;#39;t have firm numbers but do have relative expectations of candidate expertise (e.g. entry-level, senior), then you may include that here. If you truly have no information, then put &amp;quot;Uncertain&amp;quot; here.&lt;/em&gt; &lt;strong&gt;&lt;em&gt;This is a new field in our template; please see the meta comment below to discuss it&lt;/em&gt;&lt;/strong&gt;.&lt;em&gt;]&lt;/em&gt;&lt;/p&gt;\n\n&lt;p&gt;REMOTE: &lt;em&gt;[Do you offer the option of working remotely? If so, do you require employees to live in certain areas or time zones?]&lt;/em&gt;&lt;/p&gt;\n\n&lt;p&gt;VISA: &lt;em&gt;[Does your company sponsor visas?]&lt;/em&gt;&lt;/p&gt;\n\n&lt;p&gt;CONTACT: &lt;em&gt;[How can someone get in touch with you?]&lt;/em&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": "new", "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "8e7cbc8a-dfe6-11ea-8712-0ec47ccc3f5b", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "#ebfcff", "id": "jb4cds", "is_robot_indexable": true, "report_reasons": null, "author": "kibwen", "discussion_type": null, "num_comments": 16, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/jb4cds/official_rrust_whos_hiring_thread_for_jobseekers/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/jb4cds/official_rrust_whos_hiring_thread_for_jobseekers/", "subreddit_subscribers": 115776, "created_utc": 1602693940.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "I'm hoping a Serde wizard can kindly help me as I've been stuck on this all day. I'm trying to deserialize json of a format I've not encountered before which I am struggling with, due to it being a weird mixture of stucts and arrays. These are the 5 overall different message types:\n\n    {\"event\": \"event_name\", ...other fields} // other fields vary depending on event\n    [\"heartbeat\", \"id\"]     //heartbeart\n    [\"channel_id\",  \"price\",  \"count\",  \"amount\" ]     //trade\n    [\"channel_id\", [  [\"price\",  \"count\",  \"amount\"], [\"price\",  \"count\",  \"amount\" ] , ... ] ]    //snapshot\n    [\"channel_id\", [  [\"order\",  \"level\",  ], [\"order\", \"level\" ] , ... ] ] //other_snapshot\n\nSo far I have got something like this, where I am using untagged and tag\n\n    #[derive(Serialize, Deserialize, Debug)]\n    [serde(untagged)]\n    enum WebSocketMessages { \n       Heartbeat(String, String), \n       Trade(String, String, String, String),\n       Snapshot(String, Vec&lt;Vec&lt;String&gt;&gt;),\n       OtherSnapshot(String, Vec&lt;Vec&lt;String&gt;&gt;)\n       Events(Events), \n    }\n    \n    [derive(Serialize, Deserialize, Debug)]\n    [serde(tag = \"event\")]\n    enum Events {\n      //  I know I can put structs in here depending on event_names \n    }\n\nI think the Events part will work with using the tag of event to put different structs in the Events enum. My big problem I think is with the two \"snapshots\", as the structure of both is very similar and yet I don't know how to neatly specify one has arrays of length 3 (price, count amount) and the other has arrays of length 2 (order, level). Also I'm mixing up String and Vec together in the enum which doesn't feel right.\n\nIf anyone can give me a tip or help I would really appreciate it.", "author_fullname": "t2_631n6e55", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Is there a clever way to deserialize this nightmarish json into either structs or vectors?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jb1bdm", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.95, "author_flair_background_color": null, "subreddit_type": "public", "ups": 72, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 72, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1602684969.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1602713226.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;m hoping a Serde wizard can kindly help me as I&amp;#39;ve been stuck on this all day. I&amp;#39;m trying to deserialize json of a format I&amp;#39;ve not encountered before which I am struggling with, due to it being a weird mixture of stucts and arrays. These are the 5 overall different message types:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;{&amp;quot;event&amp;quot;: &amp;quot;event_name&amp;quot;, ...other fields} // other fields vary depending on event\n[&amp;quot;heartbeat&amp;quot;, &amp;quot;id&amp;quot;]     //heartbeart\n[&amp;quot;channel_id&amp;quot;,  &amp;quot;price&amp;quot;,  &amp;quot;count&amp;quot;,  &amp;quot;amount&amp;quot; ]     //trade\n[&amp;quot;channel_id&amp;quot;, [  [&amp;quot;price&amp;quot;,  &amp;quot;count&amp;quot;,  &amp;quot;amount&amp;quot;], [&amp;quot;price&amp;quot;,  &amp;quot;count&amp;quot;,  &amp;quot;amount&amp;quot; ] , ... ] ]    //snapshot\n[&amp;quot;channel_id&amp;quot;, [  [&amp;quot;order&amp;quot;,  &amp;quot;level&amp;quot;,  ], [&amp;quot;order&amp;quot;, &amp;quot;level&amp;quot; ] , ... ] ] //other_snapshot\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;So far I have got something like this, where I am using untagged and tag&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;#[derive(Serialize, Deserialize, Debug)]\n[serde(untagged)]\nenum WebSocketMessages { \n   Heartbeat(String, String), \n   Trade(String, String, String, String),\n   Snapshot(String, Vec&amp;lt;Vec&amp;lt;String&amp;gt;&amp;gt;),\n   OtherSnapshot(String, Vec&amp;lt;Vec&amp;lt;String&amp;gt;&amp;gt;)\n   Events(Events), \n}\n\n[derive(Serialize, Deserialize, Debug)]\n[serde(tag = &amp;quot;event&amp;quot;)]\nenum Events {\n  //  I know I can put structs in here depending on event_names \n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I think the Events part will work with using the tag of event to put different structs in the Events enum. My big problem I think is with the two &amp;quot;snapshots&amp;quot;, as the structure of both is very similar and yet I don&amp;#39;t know how to neatly specify one has arrays of length 3 (price, count amount) and the other has arrays of length 2 (order, level). Also I&amp;#39;m mixing up String and Vec together in the enum which doesn&amp;#39;t feel right.&lt;/p&gt;\n\n&lt;p&gt;If anyone can give me a tip or help I would really appreciate it.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jb1bdm", "is_robot_indexable": true, "report_reasons": null, "author": "johnnyjamjim", "discussion_type": null, "num_comments": 15, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/jb1bdm/is_there_a_clever_way_to_deserialize_this/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/jb1bdm/is_there_a_clever_way_to_deserialize_this/", "subreddit_subscribers": 115776, "created_utc": 1602684426.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_jb1bdm", "before": null}}