{"kind": "Listing", "data": {"modhash": "", "dist": 12, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "In this thread you can showcase your personal pet project to other redditors.\n\nNeed help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!\n\nA suggested format to get you started:\n\n1. **Name of your project**\n2. **A short description**\n3. **Application stack**\n4. **Link to Live app**\n5. **Link to GitHub**\n6. **You experience level**\n7. **Other information or areas that you would like advice on**\n\n\u00a0\n\n^(Many thanks to Kritnc for getting the ball rolling.)", "author_fullname": "t2_6l4z3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Personal Projects - Show off your own project and/or ask for advice", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jfcv1r", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 17, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 17, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603315962.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;In this thread you can showcase your personal pet project to other redditors.&lt;/p&gt;\n\n&lt;p&gt;Need help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!&lt;/p&gt;\n\n&lt;p&gt;A suggested format to get you started:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;Name of your project&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;A short description&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Application stack&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to Live app&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to GitHub&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;You experience level&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Other information or areas that you would like advice on&lt;/strong&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;\u00a0&lt;/p&gt;\n\n&lt;p&gt;&lt;sup&gt;Many thanks to Kritnc for getting the ball rolling.&lt;/sup&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jfcv1r", "is_robot_indexable": true, "report_reasons": null, "author": "AutoModerator", "discussion_type": null, "num_comments": 6, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jfcv1r/personal_projects_show_off_your_own_project_andor/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rails/comments/jfcv1r/personal_projects_show_off_your_own_project_andor/", "subreddit_subscribers": 46579, "created_utc": 1603287162.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Please use this thread to discuss **cool** but relatively **unknown** gems you've found.\n\nYou **should not** post popular gems such as [those listed in wiki](https://www.reddit.com/r/rails/wiki/index#wiki_popular_gems) that are already well known.\n\nPlease include a **description** and a **link** to the gem's homepage in your comment.", "author_fullname": "t2_6l4z3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Gimme Gems Thursdays - Found an awesome new gem? Post it here!", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jsthk8", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.81, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 3, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1605211583.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Please use this thread to discuss &lt;strong&gt;cool&lt;/strong&gt; but relatively &lt;strong&gt;unknown&lt;/strong&gt; gems you&amp;#39;ve found.&lt;/p&gt;\n\n&lt;p&gt;You &lt;strong&gt;should not&lt;/strong&gt; post popular gems such as &lt;a href=\"https://www.reddit.com/r/rails/wiki/index#wiki_popular_gems\"&gt;those listed in wiki&lt;/a&gt; that are already well known.&lt;/p&gt;\n\n&lt;p&gt;Please include a &lt;strong&gt;description&lt;/strong&gt; and a &lt;strong&gt;link&lt;/strong&gt; to the gem&amp;#39;s homepage in your comment.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jsthk8", "is_robot_indexable": true, "report_reasons": null, "author": "AutoModerator", "discussion_type": null, "num_comments": 1, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jsthk8/gimme_gems_thursdays_found_an_awesome_new_gem/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rails/comments/jsthk8/gimme_gems_thursdays_found_an_awesome_new_gem/", "subreddit_subscribers": 46579, "created_utc": 1605182783.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "One of our engineers wrote a guide to help people get off on the right foot when inheriting a Rails app and [I wanted to share it here.](https://nextlinklabs.com/insights/six-tips-for-inheriting-a-legacy-rails-app) Let me know what you think.", "author_fullname": "t2_8gwf6ts", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "6 Things to Do When Inheriting Legacy Rails Apps", "link_flair_richtext": [{"e": "text", "t": "Tutorial"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "tutorial", "downs": 0, "top_awarded_type": null, "hide_score": true, "name": "t3_jtgjla", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Tutorial", "can_mod_post": false, "score": 1, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1605302771.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;One of our engineers wrote a guide to help people get off on the right foot when inheriting a Rails app and &lt;a href=\"https://nextlinklabs.com/insights/six-tips-for-inheriting-a-legacy-rails-app\"&gt;I wanted to share it here.&lt;/a&gt; Let me know what you think.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "2a348462-af75-11e4-abe9-22000b3d0989", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jtgjla", "is_robot_indexable": true, "report_reasons": null, "author": "NoCountryForMe2112", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jtgjla/6_things_to_do_when_inheriting_legacy_rails_apps/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jtgjla/6_things_to_do_when_inheriting_legacy_rails_apps/", "subreddit_subscribers": 46579, "created_utc": 1605273971.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I have a few questions regarding workflow and i'd love to hear some feedback from you guys about it and to compare it to my current workflow.\n\nI'm mainly curious as to what your workflow is like with other team members, mainly designers.\n\nI understand every project is different and dependent on the client, the workflow would be different.\n\nI'm currently in a job where it's very 'get it done and get it out the door as quick as possible', this tends to leave a lot of issues when going live for example, the code breaking because it thinks a field is there and when it does html\\_safe onto it. When this happens, I just tend to fix the error and get it deployed ASAP which works.\n\nWhen working with a design, I tend to get everything done, have full control of all the margins, padding, font-sizes etc so I can change it but it's always just the little things that I don't see as i've been looking at it for too long and begins to just looks normal to me (I assume most people have this issue) which is fine and simple to change.\n\nSome of these questions might not apply to freelancers as I imagine the client already has a design and they just want some product back ASAP (or within a time frame)\n\n1) Before the developer get's the end design should everything should be tied up, all content in and approved by the client before the developer starts work on it? \n\n2) Do you communicate with the designer throughout and ask them to give feedback on something you've done and make changes if needed?\n\n3) Most projects aren't smooth sailing as you'd expect due to client changes, design changes or config changes, how do you get around these? I know the codebase and what I should change and where it is. \n\n4) How do you tackle feedback? For me, i'm really bad at taking criticism but that's just due to the person I am and I hate receiving negative feedback as I just want to make people happy with what I do.\n\nI'm really just looking at ways I could potentially make my workflow a little better as i'm seeing myself doing something and then doing it again and again and again and I feel like this could be easily avoided if it all was done and correct in the first place?", "author_fullname": "t2_awksi", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Company Workflows", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jsy5xv", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 17, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 17, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1605228827.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have a few questions regarding workflow and i&amp;#39;d love to hear some feedback from you guys about it and to compare it to my current workflow.&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m mainly curious as to what your workflow is like with other team members, mainly designers.&lt;/p&gt;\n\n&lt;p&gt;I understand every project is different and dependent on the client, the workflow would be different.&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m currently in a job where it&amp;#39;s very &amp;#39;get it done and get it out the door as quick as possible&amp;#39;, this tends to leave a lot of issues when going live for example, the code breaking because it thinks a field is there and when it does html_safe onto it. When this happens, I just tend to fix the error and get it deployed ASAP which works.&lt;/p&gt;\n\n&lt;p&gt;When working with a design, I tend to get everything done, have full control of all the margins, padding, font-sizes etc so I can change it but it&amp;#39;s always just the little things that I don&amp;#39;t see as i&amp;#39;ve been looking at it for too long and begins to just looks normal to me (I assume most people have this issue) which is fine and simple to change.&lt;/p&gt;\n\n&lt;p&gt;Some of these questions might not apply to freelancers as I imagine the client already has a design and they just want some product back ASAP (or within a time frame)&lt;/p&gt;\n\n&lt;p&gt;1) Before the developer get&amp;#39;s the end design should everything should be tied up, all content in and approved by the client before the developer starts work on it? &lt;/p&gt;\n\n&lt;p&gt;2) Do you communicate with the designer throughout and ask them to give feedback on something you&amp;#39;ve done and make changes if needed?&lt;/p&gt;\n\n&lt;p&gt;3) Most projects aren&amp;#39;t smooth sailing as you&amp;#39;d expect due to client changes, design changes or config changes, how do you get around these? I know the codebase and what I should change and where it is. &lt;/p&gt;\n\n&lt;p&gt;4) How do you tackle feedback? For me, i&amp;#39;m really bad at taking criticism but that&amp;#39;s just due to the person I am and I hate receiving negative feedback as I just want to make people happy with what I do.&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m really just looking at ways I could potentially make my workflow a little better as i&amp;#39;m seeing myself doing something and then doing it again and again and again and I feel like this could be easily avoided if it all was done and correct in the first place?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jsy5xv", "is_robot_indexable": true, "report_reasons": null, "author": "Lotsabacon", "discussion_type": null, "num_comments": 5, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jsy5xv/company_workflows/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jsy5xv/company_workflows/", "subreddit_subscribers": 46579, "created_utc": 1605200027.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "hope you are fine!    \nActually, I have a dockerized rails API I'm working on.&amp; I have to push it on Heroku.  \n\n\n1. I add pg gem to my production environment &amp; move MySql gem to the development environment. \n\n&amp;#8203;\n\n    group :development, :test do\n      # Call 'byebug' anywhere in the code to stop execution and get a   console\n      gem 'byebug', platforms: [:mri, :mingw, :x64_mingw]\n      # Adds support for Capybara system testing and selenium driver\n      gem 'capybara', '~&gt; 2.13'\n      gem 'selenium-webdriver'\n      gem 'mocha'\n      gem 'webmock'\n      gem 'mysql2'\n      \n    end\n    \n    group :production do\n      gem 'pg', '1.2.3'\n    end\n\nAnd after that, I run `docker-compose up --build`    &amp; after pushing my code to git I run `git push heroku &lt;branch name&gt;` everything works fine. \n\nbut when I run `heroku run rails db:migrate`  i got an error  \n\n    rails aborted!\n    NoMethodError: Cannot load database configuration:\n    undefined method `[]' for nil:NilClass\n\nThis is my first time to push a dockerized project on Heroku,  i don't know how to do this.  \ncan anyone please guide me?", "author_fullname": "t2_7fudxvz7", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Push a Dockerized Rails API on Heroku", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jtco98", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.5, "author_flair_background_color": null, "subreddit_type": "public", "ups": 0, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 0, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1605280148.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;hope you are fine!&lt;br/&gt;\nActually, I have a dockerized rails API I&amp;#39;m working on.&amp;amp; I have to push it on Heroku.  &lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;I add pg gem to my production environment &amp;amp; move MySql gem to the development environment. &lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;&amp;#8203;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;group :development, :test do\n  # Call &amp;#39;byebug&amp;#39; anywhere in the code to stop execution and get a   console\n  gem &amp;#39;byebug&amp;#39;, platforms: [:mri, :mingw, :x64_mingw]\n  # Adds support for Capybara system testing and selenium driver\n  gem &amp;#39;capybara&amp;#39;, &amp;#39;~&amp;gt; 2.13&amp;#39;\n  gem &amp;#39;selenium-webdriver&amp;#39;\n  gem &amp;#39;mocha&amp;#39;\n  gem &amp;#39;webmock&amp;#39;\n  gem &amp;#39;mysql2&amp;#39;\n\nend\n\ngroup :production do\n  gem &amp;#39;pg&amp;#39;, &amp;#39;1.2.3&amp;#39;\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And after that, I run &lt;code&gt;docker-compose up --build&lt;/code&gt;    &amp;amp; after pushing my code to git I run &lt;code&gt;git push heroku &amp;lt;branch name&amp;gt;&lt;/code&gt; everything works fine. &lt;/p&gt;\n\n&lt;p&gt;but when I run &lt;code&gt;heroku run rails db:migrate&lt;/code&gt;  i got an error  &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;rails aborted!\nNoMethodError: Cannot load database configuration:\nundefined method `[]&amp;#39; for nil:NilClass\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This is my first time to push a dockerized project on Heroku,  i don&amp;#39;t know how to do this.&lt;br/&gt;\ncan anyone please guide me?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jtco98", "is_robot_indexable": true, "report_reasons": null, "author": "Humayun-Naseer", "discussion_type": null, "num_comments": 5, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jtco98/push_a_dockerized_rails_api_on_heroku/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jtco98/push_a_dockerized_rails_api_on_heroku/", "subreddit_subscribers": 46579, "created_utc": 1605251348.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I know there are tons of tutorials/docs out there about testing, but are there good ones that teaches good practical/pragmatic approaches on testing rails apps? Something that teaches good practice on what to test, instead of just how to test things; what are bad tests, how to avoid bugs in tests etc", "author_fullname": "t2_39brh", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Any good resources for beginners on how to write good tests?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jsmecm", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.97, "author_flair_background_color": null, "subreddit_type": "public", "ups": 31, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 31, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1605160269.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1605177311.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I know there are tons of tutorials/docs out there about testing, but are there good ones that teaches good practical/pragmatic approaches on testing rails apps? Something that teaches good practice on what to test, instead of just how to test things; what are bad tests, how to avoid bugs in tests etc&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jsmecm", "is_robot_indexable": true, "report_reasons": null, "author": "acmecorps", "discussion_type": null, "num_comments": 10, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jsmecm/any_good_resources_for_beginners_on_how_to_write/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jsmecm/any_good_resources_for_beginners_on_how_to_write/", "subreddit_subscribers": 46579, "created_utc": 1605148511.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "The performance metrics we use - by default - keys requests like `&lt;controller&gt;#&lt;action&gt;` but we want it to also separate requests by format. Currently I overwrite the action name in an after_action callback and append the format.\n\n    trx.set_action(\"#{controller.class}##{controller.action_name}.#{request.format.to_sym || :unknown}\")\n\nThe problem is that request.format is undetermined for requests with `Accept: */*`. Also `request.format` only reflects the preferred response type, a json-only action might have a HTML request.format but responds with a json content type.\n\nSo all in all is there a good way to get the actual format that was rendered in a *action filter? Only thing I really found is `response.content_type` but there I would need to fish out the format from the MIME type string. I was wondering if there is a way to get Mime::Type instance of the response.\n\nEdit: Best I could come up with so far `response.media_type&amp;.split(\"/\")&amp;.last`", "author_fullname": "t2_cyg5x", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Getting the response format of requests", "link_flair_richtext": [{"e": "text", "t": "Help"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jswgto", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Help", "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1605195622.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1605223445.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;The performance metrics we use - by default - keys requests like &lt;code&gt;&amp;lt;controller&amp;gt;#&amp;lt;action&amp;gt;&lt;/code&gt; but we want it to also separate requests by format. Currently I overwrite the action name in an after_action callback and append the format.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;trx.set_action(&amp;quot;#{controller.class}##{controller.action_name}.#{request.format.to_sym || :unknown}&amp;quot;)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The problem is that request.format is undetermined for requests with &lt;code&gt;Accept: */*&lt;/code&gt;. Also &lt;code&gt;request.format&lt;/code&gt; only reflects the preferred response type, a json-only action might have a HTML request.format but responds with a json content type.&lt;/p&gt;\n\n&lt;p&gt;So all in all is there a good way to get the actual format that was rendered in a *action filter? Only thing I really found is &lt;code&gt;response.content_type&lt;/code&gt; but there I would need to fish out the format from the MIME type string. I was wondering if there is a way to get Mime::Type instance of the response.&lt;/p&gt;\n\n&lt;p&gt;Edit: Best I could come up with so far &lt;code&gt;response.media_type&amp;amp;.split(&amp;quot;/&amp;quot;)&amp;amp;.last&lt;/code&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "eef0b990-adfb-11e4-8e15-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jswgto", "is_robot_indexable": true, "report_reasons": null, "author": "2called_chaos", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jswgto/getting_the_response_format_of_requests/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jswgto/getting_the_response_format_of_requests/", "subreddit_subscribers": 46579, "created_utc": 1605194645.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hi All - working on a rails app that leverages google maps/places APIs for address autocompletion. It works quite well on desktop browsers, but when I attempt to enter an address on mobile it won't work/ will clear the entire form. I've attached some snippets of the code below:\n\n#autcomplete.js\n\n    $(document).on('turbolinks:load', function() {\n    function initializeAutocomplete(id) {     \n        var element = document.getElementById(id);\n        if (element) {\n            var autocomplete = new google.maps.places.Autocomplete(element, { types: ['geocode'], componentRestrictions: {country: 'us'} });\n            google.maps.event.addListener(autocomplete, 'place_changed', onPlaceChanged);\n        }\n    }\n\n    function onPlaceChanged() {\n        var place = this.getPlace();       \n        for (var i in place.address_components) {\n            var component = place.address_components[i];\n            for (var j in component.types) { \n                var type_element = document.getElementById(component.types[j]);\n                if (type_element) {\n                    type_element.value = component.long_name;\n                }\n            }\n        }\n    }   \n    google.maps.event.addDomListener(window, 'load', function() {\n        initializeAutocomplete('autocomplete_address');   \n        }); \n    }); \n\nand within my form, the address field is like so:\n\n    &lt;%= f.text_field :address, class: 'form-control form-control-mobile description-mobile', placeholder: \"Enter your home address\", id: :autocomplete_address %&gt;&lt;br&gt;", "author_fullname": "t2_kd61d", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Issues with Google Maps &amp; Places API for Rails app on Mobile Browsers", "link_flair_richtext": [{"e": "text", "t": "Deployment"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "deployment", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jsvie7", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Deployment", "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1605220082.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi All - working on a rails app that leverages google maps/places APIs for address autocompletion. It works quite well on desktop browsers, but when I attempt to enter an address on mobile it won&amp;#39;t work/ will clear the entire form. I&amp;#39;ve attached some snippets of the code below:&lt;/p&gt;\n\n&lt;h1&gt;autcomplete.js&lt;/h1&gt;\n\n&lt;pre&gt;&lt;code&gt;$(document).on(&amp;#39;turbolinks:load&amp;#39;, function() {\nfunction initializeAutocomplete(id) {     \n    var element = document.getElementById(id);\n    if (element) {\n        var autocomplete = new google.maps.places.Autocomplete(element, { types: [&amp;#39;geocode&amp;#39;], componentRestrictions: {country: &amp;#39;us&amp;#39;} });\n        google.maps.event.addListener(autocomplete, &amp;#39;place_changed&amp;#39;, onPlaceChanged);\n    }\n}\n\nfunction onPlaceChanged() {\n    var place = this.getPlace();       \n    for (var i in place.address_components) {\n        var component = place.address_components[i];\n        for (var j in component.types) { \n            var type_element = document.getElementById(component.types[j]);\n            if (type_element) {\n                type_element.value = component.long_name;\n            }\n        }\n    }\n}   \ngoogle.maps.event.addDomListener(window, &amp;#39;load&amp;#39;, function() {\n    initializeAutocomplete(&amp;#39;autocomplete_address&amp;#39;);   \n    }); \n}); \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;and within my form, the address field is like so:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;&amp;lt;%= f.text_field :address, class: &amp;#39;form-control form-control-mobile description-mobile&amp;#39;, placeholder: &amp;quot;Enter your home address&amp;quot;, id: :autocomplete_address %&amp;gt;&amp;lt;br&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "1721fb16-af75-11e4-8726-22000bc18a73", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jsvie7", "is_robot_indexable": true, "report_reasons": null, "author": "Teucer90", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jsvie7/issues_with_google_maps_places_api_for_rails_app/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jsvie7/issues_with_google_maps_places_api_for_rails_app/", "subreddit_subscribers": 46579, "created_utc": 1605191282.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Just ran my test suite for the app I am working on.   \n\n\nHere's are the stats:\n\n`Finished in 303.213471s, 1.6787 runs/s, 4.6601 assertions/s.`  \n`509 runs, 1413 assertions, 0 failures, 0 errors, 0 skips`\n\nHow large are you test suites and how long does it take to go through them.", "author_fullname": "t2_6ij5m5wj", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How large is your test suite?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jseicl", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 10, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 10, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1605150754.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Just ran my test suite for the app I am working on.   &lt;/p&gt;\n\n&lt;p&gt;Here&amp;#39;s are the stats:&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;Finished in 303.213471s, 1.6787 runs/s, 4.6601 assertions/s.&lt;/code&gt;&lt;br/&gt;\n&lt;code&gt;509 runs, 1413 assertions, 0 failures, 0 errors, 0 skips&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;How large are you test suites and how long does it take to go through them.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jseicl", "is_robot_indexable": true, "report_reasons": null, "author": "terry_teamhq", "discussion_type": null, "num_comments": 18, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jseicl/how_large_is_your_test_suite/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jseicl/how_large_is_your_test_suite/", "subreddit_subscribers": 46579, "created_utc": 1605121954.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hi all!\n\nI\u2019m building a Rails app where users should be able to stream and/or download sound files. I\u2019d like it to have similar functionality to this site: [https://www.soundsnap.com/animals/birds](https://www.soundsnap.com/animals/birds) I\u2019ll record all the sounds myself.\n\nWhat would be the best way to go about a project like this? I've built a couple of simple Rails apps before but nothing that deals with a lot of static assets like. Any advice on how to approach something like this would be much appreciated!\n\nSome questions that come to mind are:\n\n* Should I store the files on some kind of cloud storage like AWS S3 or Digitalocean Spaces? Are there any others that are reliable and cheap?\n* Should I use a CDN for caching?\n* How could I stream the audio? Would using HTML5 audio tags work well enough? Or maybe Soundcloud's embedded player?\n\nAny suggestions or guidance in general would be fantastic!", "author_fullname": "t2_19j7ot", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "What would be a good way to make an app with sound files that are streamable and downloadable?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jser47", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.9, "author_flair_background_color": null, "subreddit_type": "public", "ups": 8, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 8, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1605151484.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi all!&lt;/p&gt;\n\n&lt;p&gt;I\u2019m building a Rails app where users should be able to stream and/or download sound files. I\u2019d like it to have similar functionality to this site: &lt;a href=\"https://www.soundsnap.com/animals/birds\"&gt;https://www.soundsnap.com/animals/birds&lt;/a&gt; I\u2019ll record all the sounds myself.&lt;/p&gt;\n\n&lt;p&gt;What would be the best way to go about a project like this? I&amp;#39;ve built a couple of simple Rails apps before but nothing that deals with a lot of static assets like. Any advice on how to approach something like this would be much appreciated!&lt;/p&gt;\n\n&lt;p&gt;Some questions that come to mind are:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Should I store the files on some kind of cloud storage like AWS S3 or Digitalocean Spaces? Are there any others that are reliable and cheap?&lt;/li&gt;\n&lt;li&gt;Should I use a CDN for caching?&lt;/li&gt;\n&lt;li&gt;How could I stream the audio? Would using HTML5 audio tags work well enough? Or maybe Soundcloud&amp;#39;s embedded player?&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Any suggestions or guidance in general would be fantastic!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jser47", "is_robot_indexable": true, "report_reasons": null, "author": "catsinspacesuits", "discussion_type": null, "num_comments": 4, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jser47/what_would_be_a_good_way_to_make_an_app_with/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jser47/what_would_be_a_good_way_to_make_an_app_with/", "subreddit_subscribers": 46579, "created_utc": 1605122684.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I am away from a Rails development machine to test this, and I think I want an answer sooner, as my Googling gives me vague answers.\n\nLet's say I have this model.\n```\nclass Product &lt; ApplicationRecord\n  has_one_attached :image\nend\n```\n\nWhen creating a record with an attachment it goes something like this:\n```\nproduct = Product.new\nproduct.image.attach(attachment_image) ## This attaches and uploads an image.\nproduct.save\n```\n\nWhen updating a record with a new attachment, a similar code looks like this.\n```\nproduct = Product.find(1)\nproduct.image.attach(new_attachment_image) ## Does this purge the first uploaded file and then uploads the new file? Or it keeps them both?\nproduct.save\n```\n\nDo I need to `purge` it first before attaching a new file? This is just a shower thought but I don't have a way to confirm.", "author_fullname": "t2_51ldlnaf", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Does ActiveStorage auto-purge when updating a record?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_js96mq", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 13, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 13, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1605134122.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I am away from a Rails development machine to test this, and I think I want an answer sooner, as my Googling gives me vague answers.&lt;/p&gt;\n\n&lt;p&gt;Let&amp;#39;s say I have this model.\n&lt;code&gt;\nclass Product &amp;lt; ApplicationRecord\n  has_one_attached :image\nend\n&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;When creating a record with an attachment it goes something like this:\n&lt;code&gt;\nproduct = Product.new\nproduct.image.attach(attachment_image) ## This attaches and uploads an image.\nproduct.save\n&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;When updating a record with a new attachment, a similar code looks like this.\n&lt;code&gt;\nproduct = Product.find(1)\nproduct.image.attach(new_attachment_image) ## Does this purge the first uploaded file and then uploads the new file? Or it keeps them both?\nproduct.save\n&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;Do I need to &lt;code&gt;purge&lt;/code&gt; it first before attaching a new file? This is just a shower thought but I don&amp;#39;t have a way to confirm.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "js96mq", "is_robot_indexable": true, "report_reasons": null, "author": "diesmilingxx", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/js96mq/does_activestorage_autopurge_when_updating_a/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/js96mq/does_activestorage_autopurge_when_updating_a/", "subreddit_subscribers": 46579, "created_utc": 1605105322.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hi, guys. I need some help here. I'm using the tempusdominus-bootstrap-4 package with Rails 6 &amp; Webpacker and I'm getting a error message on browser console. While on development is working fine, on production, where all js file are copy &amp; transpiled into one file, I'm getting the following error message:\n\n    tempusdominus-bootstrap-4.js:31 Uncaught TypeError:  t is not a function\n      at tempusdominus-bootstrap-4.js:31\n      at Object.&lt;anonymous&gt; (tempusdominus-bootstrap-4.js:30)\n      at Object.&lt;anonymous&gt; (application-a354d07e2c01c614e691.js:1)\n      at n (bootstrap:19)   \n      at Module.&lt;anonymous&gt; (application-a354d07e2c01c614e691.js:1)   \n      at n (bootstrap:19)   at bootstrap:83   at application-a354d07e2c01c614e691.js:1 \n\nWhen I open the the file on line 31, I got the following:\n\n    +function () {\n      var _typeof = typeof Symbol === \"function\" &amp;&amp; _typeof Symbol.iterator === \"symbol\" ? function (obj) {     \n        return _typeof obj;   \n      } : function (obj) {\n        return obj &amp;&amp; typeof Symbol === \"function\" &amp;&amp; obj.constructor === Symbol &amp;&amp; obj !== Symbol.prototype ? \"symbol\" : _typeof obj;   \n      };   \n      // more stuffs here \n    }; \n\nWhile on the original code and same line we have the following:\n\n    +function () {   \n      var _typeof = typeof Symbol === \"function\" &amp;&amp; typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;    \n      } : function (obj) {      \n        return obj &amp;&amp; typeof Symbol === \"function\" &amp;&amp; obj.constructor === Symbol &amp;&amp; obj !== Symbol.prototype ? \"symbol\" : typeof obj;    \n      };   \n      // more stuffs here \n    }; \n\nI'm not a expertise on javascript nor webpack, but I could see that, after webpack copy &amp; transpile all imported packages into one file, some `typeof` defined keyword were changed to `_typeof`. I thought that was the cause of error, so I tried to fixed it changing all references (found 2) of `_typeof`to `_testTypeof` on the original code. Then it worked! I got the following code from webpack precompile (copy &amp; transpile):\n\n    +function () {   \n      var _testTypeof = typeof Symbol === \"function\" &amp;&amp; _typeof(Symbol.iterator) === \"symbol\" ? function (obj) {\n        return _typeof(obj);   \n      } : function (obj) {     \n        return obj &amp;&amp; typeof Symbol === \"function\" &amp;&amp; obj.constructor === Symbol &amp;&amp; obj !== Symbol.prototype ? \"symbol\" : _typeof(obj);   \n      };   \n      // more stuffs here \n    }; \n\nHowever, I wasn't expecting `typeof` to become `_typeof`, again. But, still, the change was enough to start to working on production and doesn't raise an error message on browser console. Does anyone already a problem like this? The problem may be the transpiler (babel)? I don't know what to do.\n\nLink to the source on git: [https://github.com/tempusdominus/bootstrap-4/blob/master/build/js/tempusdominus-bootstrap-4.js](https://github.com/tempusdominus/bootstrap-4/blob/master/build/js/tempusdominus-bootstrap-4.js)", "author_fullname": "t2_teraqqc", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Help fixing bug on tempusdominus-bootstrap-4 package", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jsfnk9", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1605127719.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1605154113.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi, guys. I need some help here. I&amp;#39;m using the tempusdominus-bootstrap-4 package with Rails 6 &amp;amp; Webpacker and I&amp;#39;m getting a error message on browser console. While on development is working fine, on production, where all js file are copy &amp;amp; transpiled into one file, I&amp;#39;m getting the following error message:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;tempusdominus-bootstrap-4.js:31 Uncaught TypeError:  t is not a function\n  at tempusdominus-bootstrap-4.js:31\n  at Object.&amp;lt;anonymous&amp;gt; (tempusdominus-bootstrap-4.js:30)\n  at Object.&amp;lt;anonymous&amp;gt; (application-a354d07e2c01c614e691.js:1)\n  at n (bootstrap:19)   \n  at Module.&amp;lt;anonymous&amp;gt; (application-a354d07e2c01c614e691.js:1)   \n  at n (bootstrap:19)   at bootstrap:83   at application-a354d07e2c01c614e691.js:1 \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;When I open the the file on line 31, I got the following:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;+function () {\n  var _typeof = typeof Symbol === &amp;quot;function&amp;quot; &amp;amp;&amp;amp; _typeof Symbol.iterator === &amp;quot;symbol&amp;quot; ? function (obj) {     \n    return _typeof obj;   \n  } : function (obj) {\n    return obj &amp;amp;&amp;amp; typeof Symbol === &amp;quot;function&amp;quot; &amp;amp;&amp;amp; obj.constructor === Symbol &amp;amp;&amp;amp; obj !== Symbol.prototype ? &amp;quot;symbol&amp;quot; : _typeof obj;   \n  };   \n  // more stuffs here \n}; \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;While on the original code and same line we have the following:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;+function () {   \n  var _typeof = typeof Symbol === &amp;quot;function&amp;quot; &amp;amp;&amp;amp; typeof Symbol.iterator === &amp;quot;symbol&amp;quot; ? function (obj) {\n    return typeof obj;    \n  } : function (obj) {      \n    return obj &amp;amp;&amp;amp; typeof Symbol === &amp;quot;function&amp;quot; &amp;amp;&amp;amp; obj.constructor === Symbol &amp;amp;&amp;amp; obj !== Symbol.prototype ? &amp;quot;symbol&amp;quot; : typeof obj;    \n  };   \n  // more stuffs here \n}; \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I&amp;#39;m not a expertise on javascript nor webpack, but I could see that, after webpack copy &amp;amp; transpile all imported packages into one file, some &lt;code&gt;typeof&lt;/code&gt; defined keyword were changed to &lt;code&gt;_typeof&lt;/code&gt;. I thought that was the cause of error, so I tried to fixed it changing all references (found 2) of &lt;code&gt;_typeof&lt;/code&gt;to &lt;code&gt;_testTypeof&lt;/code&gt; on the original code. Then it worked! I got the following code from webpack precompile (copy &amp;amp; transpile):&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;+function () {   \n  var _testTypeof = typeof Symbol === &amp;quot;function&amp;quot; &amp;amp;&amp;amp; _typeof(Symbol.iterator) === &amp;quot;symbol&amp;quot; ? function (obj) {\n    return _typeof(obj);   \n  } : function (obj) {     \n    return obj &amp;amp;&amp;amp; typeof Symbol === &amp;quot;function&amp;quot; &amp;amp;&amp;amp; obj.constructor === Symbol &amp;amp;&amp;amp; obj !== Symbol.prototype ? &amp;quot;symbol&amp;quot; : _typeof(obj);   \n  };   \n  // more stuffs here \n}; \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;However, I wasn&amp;#39;t expecting &lt;code&gt;typeof&lt;/code&gt; to become &lt;code&gt;_typeof&lt;/code&gt;, again. But, still, the change was enough to start to working on production and doesn&amp;#39;t raise an error message on browser console. Does anyone already a problem like this? The problem may be the transpiler (babel)? I don&amp;#39;t know what to do.&lt;/p&gt;\n\n&lt;p&gt;Link to the source on git: &lt;a href=\"https://github.com/tempusdominus/bootstrap-4/blob/master/build/js/tempusdominus-bootstrap-4.js\"&gt;https://github.com/tempusdominus/bootstrap-4/blob/master/build/js/tempusdominus-bootstrap-4.js&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jsfnk9", "is_robot_indexable": true, "report_reasons": null, "author": "weedisallIlike", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jsfnk9/help_fixing_bug_on_tempusdominusbootstrap4_package/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jsfnk9/help_fixing_bug_on_tempusdominusbootstrap4_package/", "subreddit_subscribers": 46579, "created_utc": 1605125313.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_jsfnk9", "before": null}}