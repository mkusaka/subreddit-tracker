{"kind": "Listing", "data": {"modhash": "", "dist": 12, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "Mystified about strings? Borrow checker have you in a headlock? Seek help here! There are no stupid questions, only docs that haven't been written yet.\n\nIf you have a [StackOverflow](http://stackoverflow.com/) account, consider asking it there instead! StackOverflow shows up much higher in search results, so having your question there also helps future Rust users (be sure to give it [the \"Rust\" tag](http://stackoverflow.com/questions/tagged/rust) for maximum visibility). Note that this site is very interested in question quality. I've been asked to read a RFC I authored once. If you want your code reviewed or review other's code, there's a [codereview stackexchange](https://codereview.stackexchange.com/questions/tagged/rust), too. If you need to test your code, maybe [the Rust playground](https://play.rust-lang.org) is for you.\n\nHere are some other venues where help may be found:\n\n[/r/learnrust](https://www.reddit.com/r/learnrust) is a subreddit to share your questions and epiphanies learning Rust programming.\n\nThe official Rust user forums: [https://users.rust-lang.org/](https://users.rust-lang.org/).\n\nThe official Rust Programming Language Discord: [https://discord.gg/rust-lang](https://discord.gg/rust-lang)\n\nThe unofficial Rust community Discord: [https://bit.ly/rust-community](https://bit.ly/rust-community)\n\nAlso check out [last week's thread](https://reddit.com/r/rust/comments/glvkc5/hey_rustaceans_got_an_easy_question_ask_here/) with many good questions and answers. And if you believe your question to be either very complex or worthy of larger dissemination, feel free to create a text post.\n\nAlso if you want to be mentored by experienced Rustaceans, tell us the area of expertise that you seek.", "author_fullname": "t2_1kxp4", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Hey Rustaceans! Got an easy question? Ask here (22/2020)!", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_gr3r32", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.87, "author_flair_background_color": "", "subreddit_type": "public", "ups": 18, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 18, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": "contrib", "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1590550003.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Mystified about strings? Borrow checker have you in a headlock? Seek help here! There are no stupid questions, only docs that haven&amp;#39;t been written yet.&lt;/p&gt;\n\n&lt;p&gt;If you have a &lt;a href=\"http://stackoverflow.com/\"&gt;StackOverflow&lt;/a&gt; account, consider asking it there instead! StackOverflow shows up much higher in search results, so having your question there also helps future Rust users (be sure to give it &lt;a href=\"http://stackoverflow.com/questions/tagged/rust\"&gt;the &amp;quot;Rust&amp;quot; tag&lt;/a&gt; for maximum visibility). Note that this site is very interested in question quality. I&amp;#39;ve been asked to read a RFC I authored once. If you want your code reviewed or review other&amp;#39;s code, there&amp;#39;s a &lt;a href=\"https://codereview.stackexchange.com/questions/tagged/rust\"&gt;codereview stackexchange&lt;/a&gt;, too. If you need to test your code, maybe &lt;a href=\"https://play.rust-lang.org\"&gt;the Rust playground&lt;/a&gt; is for you.&lt;/p&gt;\n\n&lt;p&gt;Here are some other venues where help may be found:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://www.reddit.com/r/learnrust\"&gt;/r/learnrust&lt;/a&gt; is a subreddit to share your questions and epiphanies learning Rust programming.&lt;/p&gt;\n\n&lt;p&gt;The official Rust user forums: &lt;a href=\"https://users.rust-lang.org/\"&gt;https://users.rust-lang.org/&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;The official Rust Programming Language Discord: &lt;a href=\"https://discord.gg/rust-lang\"&gt;https://discord.gg/rust-lang&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;The unofficial Rust community Discord: &lt;a href=\"https://bit.ly/rust-community\"&gt;https://bit.ly/rust-community&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Also check out &lt;a href=\"https://reddit.com/r/rust/comments/glvkc5/hey_rustaceans_got_an_easy_question_ask_here/\"&gt;last week&amp;#39;s thread&lt;/a&gt; with many good questions and answers. And if you believe your question to be either very complex or worthy of larger dissemination, feel free to create a text post.&lt;/p&gt;\n\n&lt;p&gt;Also if you want to be mentored by experienced Rustaceans, tell us the area of expertise that you seek.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": "new", "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": "clippy \u00b7 twir \u00b7 rust \u00b7 mutagen \u00b7 flamer \u00b7 overflower \u00b7 bytecount", "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gr3r32", "is_robot_indexable": true, "report_reasons": null, "author": "llogiq", "discussion_type": null, "num_comments": 170, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": "dark", "permalink": "/r/rust/comments/gr3r32/hey_rustaceans_got_an_easy_question_ask_here/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rust/comments/gr3r32/hey_rustaceans_got_an_easy_question_ask_here/", "subreddit_subscribers": 101522, "created_utc": 1590521203.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_eki22", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "This Week in Rust 340", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_grs1ql", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.98, "author_flair_background_color": "", "subreddit_type": "public", "ups": 117, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 117, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1590641403.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "this-week-in-rust.org", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": "twir", "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "grs1ql", "is_robot_indexable": true, "report_reasons": null, "author": "seino_chan", "discussion_type": null, "num_comments": 26, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": "dark", "permalink": "/r/rust/comments/grs1ql/this_week_in_rust_340/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://this-week-in-rust.org/blog/2020/05/27/this-week-in-rust-340/", "subreddit_subscribers": 101522, "created_utc": 1590612603.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "Tree-Buf is an experimental serialization system for data sets (not messages) that is on track to be the fastest, most compact self-describing serialization system ever made. I've been working on it for a while now, and it's time to start getting some feedback.\n\nTree-Buf is smaller and faster than ProtoBuf, MessagePack, XML, CSV, and JSON for medium to large data.\n\nIt is possible to read any Tree-Buf file - even if you don't have a schema.\n\nTree-Buf is easy to use, only requiring you to decorate your structs with \\`#\\[Read, Write\\]\\`\n\nEven though it is the smallest and the fastest, Tree-Buf is yet un-optimized. It's going to get a lot better as it matures.\n\nYou can read more about how Tree-Buf works under the hood at this [README](https://github.com/That3Percent/tree-buf/blob/master/README.md).", "author_fullname": "t2_3yogk3ao", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Introducing Tree-Buf", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_gud6c1", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.97, "author_flair_background_color": null, "subreddit_type": "public", "ups": 118, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 118, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1591011326.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Tree-Buf is an experimental serialization system for data sets (not messages) that is on track to be the fastest, most compact self-describing serialization system ever made. I&amp;#39;ve been working on it for a while now, and it&amp;#39;s time to start getting some feedback.&lt;/p&gt;\n\n&lt;p&gt;Tree-Buf is smaller and faster than ProtoBuf, MessagePack, XML, CSV, and JSON for medium to large data.&lt;/p&gt;\n\n&lt;p&gt;It is possible to read any Tree-Buf file - even if you don&amp;#39;t have a schema.&lt;/p&gt;\n\n&lt;p&gt;Tree-Buf is easy to use, only requiring you to decorate your structs with `#[Read, Write]`&lt;/p&gt;\n\n&lt;p&gt;Even though it is the smallest and the fastest, Tree-Buf is yet un-optimized. It&amp;#39;s going to get a lot better as it matures.&lt;/p&gt;\n\n&lt;p&gt;You can read more about how Tree-Buf works under the hood at this &lt;a href=\"https://github.com/That3Percent/tree-buf/blob/master/README.md\"&gt;README&lt;/a&gt;.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gud6c1", "is_robot_indexable": true, "report_reasons": null, "author": "That3Percent", "discussion_type": null, "num_comments": 30, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/gud6c1/introducing_treebuf/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/gud6c1/introducing_treebuf/", "subreddit_subscribers": 101522, "created_utc": 1590982526.0, "num_crossposts": 1, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_12kcdl", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Scary Acronyms (and Super Creeps) [Rust Wroc\u0142aw Webinar, 27.05.2020]", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_gugi8b", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.95, "author_flair_background_color": null, "subreddit_type": "public", "ups": 29, "total_awards_received": 0, "media_embed": {"content": "&lt;iframe width=\"600\" height=\"338\" src=\"https://www.youtube.com/embed/6Qi5-VU-kS0?feature=oembed&amp;enablejsapi=1\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen&gt;&lt;/iframe&gt;", "width": 600, "scrolling": false, "height": 338}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": {"type": "youtube.com", "oembed": {"provider_url": "https://www.youtube.com/", "version": "1.0", "title": "Scary acronyms (and Super Creeps) [Rust Wroc\u0142aw Webinar, 27.05.2020]", "type": "video", "thumbnail_width": 480, "height": 338, "width": 600, "html": "&lt;iframe width=\"600\" height=\"338\" src=\"https://www.youtube.com/embed/6Qi5-VU-kS0?feature=oembed&amp;enablejsapi=1\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen&gt;&lt;/iframe&gt;", "author_name": "Rust Wroc\u0142aw", "provider_name": "YouTube", "thumbnail_url": "https://i.ytimg.com/vi/6Qi5-VU-kS0/hqdefault.jpg", "thumbnail_height": 360, "author_url": "https://www.youtube.com/channel/UC9X86dyEwpbCnpC18qjt33Q"}}, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {"content": "&lt;iframe width=\"600\" height=\"338\" src=\"https://www.youtube.com/embed/6Qi5-VU-kS0?feature=oembed&amp;enablejsapi=1\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen&gt;&lt;/iframe&gt;", "width": 600, "scrolling": false, "media_domain_url": "https://www.redditmedia.com/mediaembed/gugi8b", "height": 338}, "link_flair_text": null, "can_mod_post": false, "score": 29, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1591027431.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "youtube.com", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gugi8b", "is_robot_indexable": true, "report_reasons": null, "author": "Patryk27", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/gugi8b/scary_acronyms_and_super_creeps_rust_wroc\u0142aw/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.youtube.com/watch?v=6Qi5-VU-kS0", "subreddit_subscribers": 101522, "created_utc": 1590998631.0, "num_crossposts": 0, "media": {"type": "youtube.com", "oembed": {"provider_url": "https://www.youtube.com/", "version": "1.0", "title": "Scary acronyms (and Super Creeps) [Rust Wroc\u0142aw Webinar, 27.05.2020]", "type": "video", "thumbnail_width": 480, "height": 338, "width": 600, "html": "&lt;iframe width=\"600\" height=\"338\" src=\"https://www.youtube.com/embed/6Qi5-VU-kS0?feature=oembed&amp;enablejsapi=1\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen&gt;&lt;/iframe&gt;", "author_name": "Rust Wroc\u0142aw", "provider_name": "YouTube", "thumbnail_url": "https://i.ytimg.com/vi/6Qi5-VU-kS0/hqdefault.jpg", "thumbnail_height": 360, "author_url": "https://www.youtube.com/channel/UC9X86dyEwpbCnpC18qjt33Q"}}, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "Hey everyone. My name is Arijit, for the past two montha I have been working on a new preprocessor for CSS. It is called Pbss. I started writing it in Python but now I have switched to Rust. I want everyone to please check it out on my Github and start contributing. Please check it out:- [Github](https://github.com/arijit79/pbss)\n\nIt currently supports the following\n* Variables\n* Including code from.other filea without editing HTML. It is similar to the use statement of Sass\n* Error catching of common typos and lines\n* Arithmetic\n\nI request the community to please join and contribute on this project", "author_fullname": "t2_6jo6bmy5", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "A New Better CSS Preprocessor", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_guf3ys", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.85, "author_flair_background_color": null, "subreddit_type": "public", "ups": 27, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 27, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1591020452.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey everyone. My name is Arijit, for the past two montha I have been working on a new preprocessor for CSS. It is called Pbss. I started writing it in Python but now I have switched to Rust. I want everyone to please check it out on my Github and start contributing. Please check it out:- &lt;a href=\"https://github.com/arijit79/pbss\"&gt;Github&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;It currently supports the following\n* Variables\n* Including code from.other filea without editing HTML. It is similar to the use statement of Sass\n* Error catching of common typos and lines\n* Arithmetic&lt;/p&gt;\n\n&lt;p&gt;I request the community to please join and contribute on this project&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "guf3ys", "is_robot_indexable": true, "report_reasons": null, "author": "arijit079", "discussion_type": null, "num_comments": 22, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/guf3ys/a_new_better_css_preprocessor/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/guf3ys/a_new_better_css_preprocessor/", "subreddit_subscribers": 101522, "created_utc": 1590991652.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "After a few weeks of work, a new version of jlrs has been released. This version introduces a few new features. Since the previous version Windows is officially supported (but I don't think I ever announced that).\n\nFirst of all, the `TryUnbox`-trait has been removed in favour of `Cast`. This new trait works the same way as the old one, but can also be used to cast more complex data involving lifetimes. For example, if a function returns a `Module` or `Array` as a `Value`, it can be cast to these types. Similarly, `Value::is` now uses the trait `JuliaTypecheck` rather than `JuliaType` and supports a much larger range of checks; for example, you can check if the value is a mutable struct or a tuple, rather than just a handful of explicit types.  \n\nIf you were using jlrs to work with multidimensional arrays that borrowed or moved data from Rust, you needed to include `jlrs.jl` in order to create those arrays. This problem has been solved, the only things defined in there now are two functions that will let you print or acquire the backtrace if an exception is thrown. Another limitation that has been removed is the lack of support for working with arrays that contain bools or chars.\n\nThe major additions to this version are two custom derives, `JuliaStruct` and `JuliaTuple`, which can be used to work with Julia tuples and structs for which the condition `isbitstype(&lt;ty&gt;`) holds true in Julia. Deriving one of these traits provides the same features as supported by primitive types. \n\nIf you were bothered by long compilation times in Julia, it is now possible to initialize Julia with a custom system image. These system images contain precompiled packages and functions which can get rid of the issue that Julia functions are slow the first time they're called.\n\nWhat's next? A few things. First of all, I lost about a week of work on jl-sys because I used git submodules incorrectly, so most of that has to be redone. Additionally, I want to take a look at \"partially inlined\" `Value`s and take another shot at providing experimental async-await support.\n\n[Github](https://github.com/Taaitaaiger/jlrs)\n\n[Docs.rs](https://docs.rs/jlrs/0.5.0/jlrs/index.html)\n\n[Crates.io](https://crates.io/crates/jlrs)", "author_fullname": "t2_4ll2y", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Announcing: jlrs 0.5: Windows support, A more consistent API, custom derives for Julia tuples and structs, system image support, and more!", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_guih33", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.92, "author_flair_background_color": null, "subreddit_type": "public", "ups": 10, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 10, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": 1591011601.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1591037548.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;After a few weeks of work, a new version of jlrs has been released. This version introduces a few new features. Since the previous version Windows is officially supported (but I don&amp;#39;t think I ever announced that).&lt;/p&gt;\n\n&lt;p&gt;First of all, the &lt;code&gt;TryUnbox&lt;/code&gt;-trait has been removed in favour of &lt;code&gt;Cast&lt;/code&gt;. This new trait works the same way as the old one, but can also be used to cast more complex data involving lifetimes. For example, if a function returns a &lt;code&gt;Module&lt;/code&gt; or &lt;code&gt;Array&lt;/code&gt; as a &lt;code&gt;Value&lt;/code&gt;, it can be cast to these types. Similarly, &lt;code&gt;Value::is&lt;/code&gt; now uses the trait &lt;code&gt;JuliaTypecheck&lt;/code&gt; rather than &lt;code&gt;JuliaType&lt;/code&gt; and supports a much larger range of checks; for example, you can check if the value is a mutable struct or a tuple, rather than just a handful of explicit types.  &lt;/p&gt;\n\n&lt;p&gt;If you were using jlrs to work with multidimensional arrays that borrowed or moved data from Rust, you needed to include &lt;code&gt;jlrs.jl&lt;/code&gt; in order to create those arrays. This problem has been solved, the only things defined in there now are two functions that will let you print or acquire the backtrace if an exception is thrown. Another limitation that has been removed is the lack of support for working with arrays that contain bools or chars.&lt;/p&gt;\n\n&lt;p&gt;The major additions to this version are two custom derives, &lt;code&gt;JuliaStruct&lt;/code&gt; and &lt;code&gt;JuliaTuple&lt;/code&gt;, which can be used to work with Julia tuples and structs for which the condition &lt;code&gt;isbitstype(&amp;lt;ty&amp;gt;&lt;/code&gt;) holds true in Julia. Deriving one of these traits provides the same features as supported by primitive types. &lt;/p&gt;\n\n&lt;p&gt;If you were bothered by long compilation times in Julia, it is now possible to initialize Julia with a custom system image. These system images contain precompiled packages and functions which can get rid of the issue that Julia functions are slow the first time they&amp;#39;re called.&lt;/p&gt;\n\n&lt;p&gt;What&amp;#39;s next? A few things. First of all, I lost about a week of work on jl-sys because I used git submodules incorrectly, so most of that has to be redone. Additionally, I want to take a look at &amp;quot;partially inlined&amp;quot; &lt;code&gt;Value&lt;/code&gt;s and take another shot at providing experimental async-await support.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://github.com/Taaitaaiger/jlrs\"&gt;Github&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://docs.rs/jlrs/0.5.0/jlrs/index.html\"&gt;Docs.rs&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://crates.io/crates/jlrs\"&gt;Crates.io&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "guih33", "is_robot_indexable": true, "report_reasons": null, "author": "Theemuts", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/guih33/announcing_jlrs_05_windows_support_a_more/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/guih33/announcing_jlrs_05_windows_support_a_more/", "subreddit_subscribers": 101522, "created_utc": 1591008748.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "[https://rust-lang-nursery.github.io/rust-cookbook/intro.html](https://rust-lang-nursery.github.io/rust-cookbook/intro.html)\n\nShout out to [pickfire](https://github.com/pickfire) who helped the Rust Cookbook get updated to the 2018 version.  \n\nI wrote about some of the problems we had completing this [http://www.yetanother.site/rust/2020/05/31/Rust-Cookbook-Reaches-2018.html](http://www.yetanother.site/rust/2020/05/31/Rust-Cookbook-Reaches-2018.html)", "author_fullname": "t2_11sgib", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Rust Cookbook 2018 update", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_guaznl", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.95, "author_flair_background_color": null, "subreddit_type": "public", "ups": 61, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 61, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1591002306.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;&lt;a href=\"https://rust-lang-nursery.github.io/rust-cookbook/intro.html\"&gt;https://rust-lang-nursery.github.io/rust-cookbook/intro.html&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Shout out to &lt;a href=\"https://github.com/pickfire\"&gt;pickfire&lt;/a&gt; who helped the Rust Cookbook get updated to the 2018 version.  &lt;/p&gt;\n\n&lt;p&gt;I wrote about some of the problems we had completing this &lt;a href=\"http://www.yetanother.site/rust/2020/05/31/Rust-Cookbook-Reaches-2018.html\"&gt;http://www.yetanother.site/rust/2020/05/31/Rust-Cookbook-Reaches-2018.html&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "guaznl", "is_robot_indexable": true, "report_reasons": null, "author": "andygauge", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/guaznl/rust_cookbook_2018_update/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/guaznl/rust_cookbook_2018_update/", "subreddit_subscribers": 101522, "created_utc": 1590973506.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_8ww15", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Oxidised eBPF II: Taming LLVM", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_guhvdn", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 12, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 12, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1591034546.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "blog.redsift.com", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "guhvdn", "is_robot_indexable": true, "report_reasons": null, "author": "rhapsodhy", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/guhvdn/oxidised_ebpf_ii_taming_llvm/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://blog.redsift.com/labs/oxidised-ebpf-ii-taming-llvm/", "subreddit_subscribers": 101522, "created_utc": 1591005746.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_i0j0y", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Adding symbol stripping to Cargo", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_gu1b1d", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.99, "author_flair_background_color": null, "subreddit_type": "public", "ups": 268, "total_awards_received": 1, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 268, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {"gid_3": 1}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1590968710.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "blog.gabrielmajeri.ro", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [{"giver_coin_reward": null, "subreddit_id": null, "is_new": false, "days_of_drip_extension": 31, "coin_price": 1800, "id": "gid_3", "penny_donate": null, "coin_reward": 0, "icon_url": "https://www.redditstatic.com/gold/awards/icon/platinum_512.png", "days_of_premium": 31, "icon_height": 512, "resized_icons": [{"url": "https://www.redditstatic.com/gold/awards/icon/platinum_16.png", "width": 16, "height": 16}, {"url": "https://www.redditstatic.com/gold/awards/icon/platinum_32.png", "width": 32, "height": 32}, {"url": "https://www.redditstatic.com/gold/awards/icon/platinum_48.png", "width": 48, "height": 48}, {"url": "https://www.redditstatic.com/gold/awards/icon/platinum_64.png", "width": 64, "height": 64}, {"url": "https://www.redditstatic.com/gold/awards/icon/platinum_128.png", "width": 128, "height": 128}], "icon_width": 512, "start_date": null, "is_enabled": true, "description": "Gives the author a month of Reddit Premium, which includes %{coin_symbol}700 Coins for that month, and shows a Platinum Award.", "end_date": null, "subreddit_coin_reward": 0, "count": 1, "name": "Platinum", "icon_format": null, "award_sub_type": "GLOBAL", "penny_price": null, "award_type": "global"}], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gu1b1d", "is_robot_indexable": true, "report_reasons": null, "author": "JupiterTheGod", "discussion_type": null, "num_comments": 18, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/gu1b1d/adding_symbol_stripping_to_cargo/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://blog.gabrielmajeri.ro/2020/05/31/adding-symbol-stripping-to-cargo.html", "subreddit_subscribers": 101522, "created_utc": 1590939910.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_tk3j9p7", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Concerns about input latency with Amethyst", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_gueafx", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.92, "author_flair_background_color": null, "subreddit_type": "public", "ups": 11, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 11, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "crosspost_parent_list": [{"approved_at_utc": null, "subreddit": "rust_gamedev", "selftext": "I've known about Amethyst for a while now but I recently wanted to try it out, because I've been wondering about how an engine or framework built from the ground up to work with ECS might feel. Amethyst looks really impressive, however, I've also stumbled upon an issue that scares me.\n\nApparently the input pipeline is less than stellar, and even simple projects can suffer from some serious input latency, as documented by:\n\n* [this bug on github](https://github.com/amethyst/amethyst/issues/1801)\n\n* [this issue on github](https://github.com/amethyst/amethyst/issues/1898)\n\n* [this reddit comment](https://www.reddit.com/r/rust_gamedev/comments/cept5q/comment/eu8942i)\n\nThe issue was brought attention to around summer of last year but appears unresolved. Does anyone know what the current status is, and has anyone here experienced input delay issues with Amethyst?\n\nEdit: I hope I didn't come off as rude in this post. I am genuinely impressed by the work done by the Amethyst team and I'm sure they're working on this as I type this out.", "author_fullname": "t2_tk3j9p7", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "I'd like to try out Amethyst but I have some concerns", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust_gamedev", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_gu8nko", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.96, "author_flair_background_color": null, "subreddit_type": "public", "ups": 50, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 50, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1590969283.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1590993726.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust_gamedev", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;ve known about Amethyst for a while now but I recently wanted to try it out, because I&amp;#39;ve been wondering about how an engine or framework built from the ground up to work with ECS might feel. Amethyst looks really impressive, however, I&amp;#39;ve also stumbled upon an issue that scares me.&lt;/p&gt;\n\n&lt;p&gt;Apparently the input pipeline is less than stellar, and even simple projects can suffer from some serious input latency, as documented by:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;&lt;a href=\"https://github.com/amethyst/amethyst/issues/1801\"&gt;this bug on github&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;a href=\"https://github.com/amethyst/amethyst/issues/1898\"&gt;this issue on github&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;a href=\"https://www.reddit.com/r/rust_gamedev/comments/cept5q/comment/eu8942i\"&gt;this reddit comment&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;The issue was brought attention to around summer of last year but appears unresolved. Does anyone know what the current status is, and has anyone here experienced input delay issues with Amethyst?&lt;/p&gt;\n\n&lt;p&gt;Edit: I hope I didn&amp;#39;t come off as rude in this post. I am genuinely impressed by the work done by the Amethyst team and I&amp;#39;m sure they&amp;#39;re working on this as I type this out.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32iyy", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gu8nko", "is_robot_indexable": true, "report_reasons": null, "author": "Comrade_Comski", "discussion_type": null, "num_comments": 6, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust_gamedev/comments/gu8nko/id_like_to_try_out_amethyst_but_i_have_some/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust_gamedev/comments/gu8nko/id_like_to_try_out_amethyst_but_i_have_some/", "subreddit_subscribers": 13286, "created_utc": 1590964926.0, "num_crossposts": 1, "media": null, "is_video": false}], "created": 1591016380.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust_gamedev", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gueafx", "is_robot_indexable": true, "report_reasons": null, "author": "Comrade_Comski", "discussion_type": null, "num_comments": 1, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "crosspost_parent": "t3_gu8nko", "author_flair_text_color": null, "permalink": "/r/rust/comments/gueafx/concerns_about_input_latency_with_amethyst/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "/r/rust_gamedev/comments/gu8nko/id_like_to_try_out_amethyst_but_i_have_some/", "subreddit_subscribers": 101522, "created_utc": 1590987580.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_o665a", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Mutex in async world", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_guivuf", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 3, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1591039442.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "kitsu.me", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "guivuf", "is_robot_indexable": true, "report_reasons": null, "author": "JustKitsu", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/guivuf/mutex_in_async_world/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://kitsu.me/posts/2020_06_01_mutex_in_async_world", "subreddit_subscribers": 101522, "created_utc": 1591010642.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "Hi, I've decided this spring to really dive deep into Rust and make a complete game with it. It took a while but I think I'm getting the hang of the borrow checker and lifetime analysis. Unfortunately, I'm finding that what seem to be very common, even \"pedestrian\" design cases, are difficult or impossible to model in Rust. I'll show you one example of what I mean, and perhaps someone can show me where I've gone wrong.\n\nI'm using the SDL2 lib, and I'd like a data structure that caches all the different font textures, so that I don't have to recreate them every frame. It looks like this:\n\n    pub struct Fonts&lt;'a&gt;\u00a0{\n        ttf_context:\u00a0Sdl2TtfContext,\n        cache:\u00a0HashMap&lt;&amp;'static str,\u00a0Font&lt;'a,\u00a0'static&gt;&gt;,\n    }\n\nWhat's bad about this, is that we have to use the lifetime `'a`, even though `'a` is guaranteed to be the same as the lifetime of the `ttf_context` (that's what the internal refs inside of Font points to), which Fonts already owns. I'm surprised there isn't a special lifetime (`'struct`), so I could write something like this:\n\n    pub struct Fonts\u00a0{\n        ttf_context:\u00a0Sdl2TtfContext,\n        cache:\u00a0HashMap&lt;&amp;'static str,\u00a0Font&lt;'struct,\u00a0'static&gt;&gt;,\n    }\n\nAnyway, what I ended up doing was this crazy hack (notice the use of `std::mem::transmute` to trick the compiler into accepting my lifetimes):\n\n    pub struct Fonts\u00a0{\n        ttf_context:\u00a0Sdl2TtfContext,\n    \u00a0\u00a0\u00a0\u00a0cache:\u00a0HashMap&lt;&amp;'static str,\u00a0Font&lt;'static,\u00a0'static&gt;&gt;,\n    }\n    \n    impl Fonts\u00a0{\n        fn new()\u00a0-&gt;\u00a0Result&lt;Fonts,\u00a0String&gt;\u00a0{\n            let\u00a0ttf_context\u00a0=\u00a0sdl2::ttf::init().map_err(|e|\u00a0e.to_string())?;\n            let mut\u00a0fonts\u00a0=\u00a0Fonts\u00a0{\n    \u00a0\u00a0 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0      ttf_context,\n         \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 cache:\u00a0HashMap::new(),\n    \u00a0       };\n    \u00a0\u00a0      Ok(fonts)\n        }\n    \n        fn get_cached_font&lt;'a&gt;(&amp;'a mut self,\u00a0name:\u00a0&amp;'static str)\u00a0-&gt;\u00a0&amp;Font&lt;'a,\u00a0'static&gt;\u00a0{\n            if\u00a0!self.cache.contains_key(name)\u00a0{\n                unsafe\u00a0{\u00a0\n                    let\u00a0raw_font\u00a0=\u00a0Self::make_font(&amp;self.ttf_context,\u00a0name);\n                    //\u00a0change\u00a0Font&lt;'a,\u00a0'static&gt;\u00a0to\u00a0Font&lt;'static,\u00a0'static&gt;\n                    let\u00a0font\u00a0=\u00a0std::mem::transmute(raw_font);\u00a0\n                    self.cache.insert(name,\u00a0font);\n     \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n    \u00a0    \u00a0\u00a0\u00a0}\n            self.cache.get(name).unwrap()\n        }\n    \n        fn make_font&lt;'a&gt;(ttf_context:\u00a0&amp;'a\u00a0Sdl2TtfContext,\u00a0name:\u00a0&amp;'static str)\u00a0-&gt;\u00a0Font&lt;'a,\u00a0'static&gt;\u00a0{\n             ttf_context.load_font(name,\u00a0128).unwrap()\n    \u00a0\u00a0\u00a0\u00a0}\n    }\n\nIs there really no better way to do this? After years of rust usage and thousands of contributors, I would suspect that the notion of a \"cache where the items in the cache all point at a central source\" would be very common... and yet this abuse of \"transmute\" is the best solution I've found. Is there a better way to structure this problem, and my thinking is not \"rusty\" enough, or is there some third party crate that does exactly what I want?", "author_fullname": "t2_1zjwybb9", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Self-referential structs, is there really no better way?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_gudr22", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.78, "author_flair_background_color": null, "subreddit_type": "public", "ups": 10, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 10, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1590985255.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1591013853.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi, I&amp;#39;ve decided this spring to really dive deep into Rust and make a complete game with it. It took a while but I think I&amp;#39;m getting the hang of the borrow checker and lifetime analysis. Unfortunately, I&amp;#39;m finding that what seem to be very common, even &amp;quot;pedestrian&amp;quot; design cases, are difficult or impossible to model in Rust. I&amp;#39;ll show you one example of what I mean, and perhaps someone can show me where I&amp;#39;ve gone wrong.&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m using the SDL2 lib, and I&amp;#39;d like a data structure that caches all the different font textures, so that I don&amp;#39;t have to recreate them every frame. It looks like this:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;pub struct Fonts&amp;lt;&amp;#39;a&amp;gt;\u00a0{\n    ttf_context:\u00a0Sdl2TtfContext,\n    cache:\u00a0HashMap&amp;lt;&amp;amp;&amp;#39;static str,\u00a0Font&amp;lt;&amp;#39;a,\u00a0&amp;#39;static&amp;gt;&amp;gt;,\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;What&amp;#39;s bad about this, is that we have to use the lifetime &lt;code&gt;&amp;#39;a&lt;/code&gt;, even though &lt;code&gt;&amp;#39;a&lt;/code&gt; is guaranteed to be the same as the lifetime of the &lt;code&gt;ttf_context&lt;/code&gt; (that&amp;#39;s what the internal refs inside of Font points to), which Fonts already owns. I&amp;#39;m surprised there isn&amp;#39;t a special lifetime (&lt;code&gt;&amp;#39;struct&lt;/code&gt;), so I could write something like this:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;pub struct Fonts\u00a0{\n    ttf_context:\u00a0Sdl2TtfContext,\n    cache:\u00a0HashMap&amp;lt;&amp;amp;&amp;#39;static str,\u00a0Font&amp;lt;&amp;#39;struct,\u00a0&amp;#39;static&amp;gt;&amp;gt;,\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Anyway, what I ended up doing was this crazy hack (notice the use of &lt;code&gt;std::mem::transmute&lt;/code&gt; to trick the compiler into accepting my lifetimes):&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;pub struct Fonts\u00a0{\n    ttf_context:\u00a0Sdl2TtfContext,\n\u00a0\u00a0\u00a0\u00a0cache:\u00a0HashMap&amp;lt;&amp;amp;&amp;#39;static str,\u00a0Font&amp;lt;&amp;#39;static,\u00a0&amp;#39;static&amp;gt;&amp;gt;,\n}\n\nimpl Fonts\u00a0{\n    fn new()\u00a0-&amp;gt;\u00a0Result&amp;lt;Fonts,\u00a0String&amp;gt;\u00a0{\n        let\u00a0ttf_context\u00a0=\u00a0sdl2::ttf::init().map_err(|e|\u00a0e.to_string())?;\n        let mut\u00a0fonts\u00a0=\u00a0Fonts\u00a0{\n\u00a0\u00a0 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0      ttf_context,\n     \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 cache:\u00a0HashMap::new(),\n\u00a0       };\n\u00a0\u00a0      Ok(fonts)\n    }\n\n    fn get_cached_font&amp;lt;&amp;#39;a&amp;gt;(&amp;amp;&amp;#39;a mut self,\u00a0name:\u00a0&amp;amp;&amp;#39;static str)\u00a0-&amp;gt;\u00a0&amp;amp;Font&amp;lt;&amp;#39;a,\u00a0&amp;#39;static&amp;gt;\u00a0{\n        if\u00a0!self.cache.contains_key(name)\u00a0{\n            unsafe\u00a0{\u00a0\n                let\u00a0raw_font\u00a0=\u00a0Self::make_font(&amp;amp;self.ttf_context,\u00a0name);\n                //\u00a0change\u00a0Font&amp;lt;&amp;#39;a,\u00a0&amp;#39;static&amp;gt;\u00a0to\u00a0Font&amp;lt;&amp;#39;static,\u00a0&amp;#39;static&amp;gt;\n                let\u00a0font\u00a0=\u00a0std::mem::transmute(raw_font);\u00a0\n                self.cache.insert(name,\u00a0font);\n \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n\u00a0    \u00a0\u00a0\u00a0}\n        self.cache.get(name).unwrap()\n    }\n\n    fn make_font&amp;lt;&amp;#39;a&amp;gt;(ttf_context:\u00a0&amp;amp;&amp;#39;a\u00a0Sdl2TtfContext,\u00a0name:\u00a0&amp;amp;&amp;#39;static str)\u00a0-&amp;gt;\u00a0Font&amp;lt;&amp;#39;a,\u00a0&amp;#39;static&amp;gt;\u00a0{\n         ttf_context.load_font(name,\u00a0128).unwrap()\n\u00a0\u00a0\u00a0\u00a0}\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Is there really no better way to do this? After years of rust usage and thousands of contributors, I would suspect that the notion of a &amp;quot;cache where the items in the cache all point at a central source&amp;quot; would be very common... and yet this abuse of &amp;quot;transmute&amp;quot; is the best solution I&amp;#39;ve found. Is there a better way to structure this problem, and my thinking is not &amp;quot;rusty&amp;quot; enough, or is there some third party crate that does exactly what I want?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gudr22", "is_robot_indexable": true, "report_reasons": null, "author": "dr_eh", "discussion_type": null, "num_comments": 9, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/gudr22/selfreferential_structs_is_there_really_no_better/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/gudr22/selfreferential_structs_is_there_really_no_better/", "subreddit_subscribers": 101522, "created_utc": 1590985053.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_gudr22", "before": null}}