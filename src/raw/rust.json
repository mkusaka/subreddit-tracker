{"kind": "Listing", "data": {"modhash": "", "dist": 12, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "Mystified about strings? Borrow checker have you in a headlock? Seek help here! There are no stupid questions, only docs that haven't been written yet.\n\nIf you have a [StackOverflow](http://stackoverflow.com/) account, consider asking it there instead! StackOverflow shows up much higher in search results, so having your question there also helps future Rust users (be sure to give it [the \"Rust\" tag](http://stackoverflow.com/questions/tagged/rust) for maximum visibility). Note that this site is very interested in question quality. I've been asked to read a RFC I authored once. If you want your code reviewed or review other's code, there's a [codereview stackexchange](https://codereview.stackexchange.com/questions/tagged/rust), too. If you need to test your code, maybe [the Rust playground](https://play.rust-lang.org) is for you.\n\nHere are some other venues where help may be found:\n\n[/r/learnrust](https://www.reddit.com/r/learnrust) is a subreddit to share your questions and epiphanies learning Rust programming.\n\nThe official Rust user forums: [https://users.rust-lang.org/](https://users.rust-lang.org/).\n\nThe official Rust Programming Language Discord: [https://discord.gg/rust-lang](https://discord.gg/rust-lang)\n\nThe unofficial Rust community Discord: [https://bit.ly/rust-community](https://bit.ly/rust-community)\n\nThe Rust-related IRC channels on irc.mozilla.org (click the links to open a web-based IRC client):\n\n - [#rust](https://chat.mibbit.com/?server=irc.mozilla.org%3A%2B6697&amp;amp;channel=%23rust) (general questions)\n - [#rust-beginners](https://chat.mibbit.com/?server=irc.mozilla.org%3A%2B6697&amp;amp;channel=%23rust-beginners) (beginner questions)\n - [#cargo](https://chat.mibbit.com/?server=irc.mozilla.org%3A%2B6697&amp;amp;channel=%23cargo) (the package manager)\n - [#rust-gamedev](https://chat.mibbit.com/?server=irc.mozilla.org%3A%2B6697&amp;amp;channel=%23rust-gamedev) (graphics and video games, and see also [/r/rust_gamedev](https://www.reddit.com/r/rust_gamedev))\n - [#rust-osdev](https://chat.mibbit.com/?server=irc.mozilla.org%3A%2B6697&amp;amp;channel=%23rust-osdev) (operating systems and embedded systems)\n - [#rust-webdev](https://chat.mibbit.com/?server=irc.mozilla.org%3A%2B6697&amp;amp;channel=%23rust-webdev) (web development)\n - [#rust-networking](https://chat.mibbit.com/?server=irc.mozilla.org%3A%2B6697&amp;amp;channel=%23rust-networking) (computer networking, and see also [/r/rust_networking](https://www.reddit.com/r/rust_networking))\n\nAlso check out [last week's thread](https://reddit.com/r/rust/comments/f1ucwh/hey_rustaceans_got_an_easy_question_ask_here/) with many good questions and answers. And if you believe your question to be either very complex or worthy of larger dissemination, feel free to create a text post.\n\nAlso if you want to be mentored by experienced Rustaceans, tell us the area of expertise that you seek.", "author_fullname": "t2_1kxp4", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Hey Rustaceans! Got an easy question? Ask here (8/2020)!", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_f5413m", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": "", "subreddit_type": "public", "ups": 14, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 14, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": "contrib", "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1581946962.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Mystified about strings? Borrow checker have you in a headlock? Seek help here! There are no stupid questions, only docs that haven&amp;#39;t been written yet.&lt;/p&gt;\n\n&lt;p&gt;If you have a &lt;a href=\"http://stackoverflow.com/\"&gt;StackOverflow&lt;/a&gt; account, consider asking it there instead! StackOverflow shows up much higher in search results, so having your question there also helps future Rust users (be sure to give it &lt;a href=\"http://stackoverflow.com/questions/tagged/rust\"&gt;the &amp;quot;Rust&amp;quot; tag&lt;/a&gt; for maximum visibility). Note that this site is very interested in question quality. I&amp;#39;ve been asked to read a RFC I authored once. If you want your code reviewed or review other&amp;#39;s code, there&amp;#39;s a &lt;a href=\"https://codereview.stackexchange.com/questions/tagged/rust\"&gt;codereview stackexchange&lt;/a&gt;, too. If you need to test your code, maybe &lt;a href=\"https://play.rust-lang.org\"&gt;the Rust playground&lt;/a&gt; is for you.&lt;/p&gt;\n\n&lt;p&gt;Here are some other venues where help may be found:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://www.reddit.com/r/learnrust\"&gt;/r/learnrust&lt;/a&gt; is a subreddit to share your questions and epiphanies learning Rust programming.&lt;/p&gt;\n\n&lt;p&gt;The official Rust user forums: &lt;a href=\"https://users.rust-lang.org/\"&gt;https://users.rust-lang.org/&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;The official Rust Programming Language Discord: &lt;a href=\"https://discord.gg/rust-lang\"&gt;https://discord.gg/rust-lang&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;The unofficial Rust community Discord: &lt;a href=\"https://bit.ly/rust-community\"&gt;https://bit.ly/rust-community&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;The Rust-related IRC channels on irc.mozilla.org (click the links to open a web-based IRC client):&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\"https://chat.mibbit.com/?server=irc.mozilla.org%3A%2B6697&amp;amp;amp;channel=%23rust\"&gt;#rust&lt;/a&gt; (general questions)&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://chat.mibbit.com/?server=irc.mozilla.org%3A%2B6697&amp;amp;amp;channel=%23rust-beginners\"&gt;#rust-beginners&lt;/a&gt; (beginner questions)&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://chat.mibbit.com/?server=irc.mozilla.org%3A%2B6697&amp;amp;amp;channel=%23cargo\"&gt;#cargo&lt;/a&gt; (the package manager)&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://chat.mibbit.com/?server=irc.mozilla.org%3A%2B6697&amp;amp;amp;channel=%23rust-gamedev\"&gt;#rust-gamedev&lt;/a&gt; (graphics and video games, and see also &lt;a href=\"https://www.reddit.com/r/rust_gamedev\"&gt;/r/rust_gamedev&lt;/a&gt;)&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://chat.mibbit.com/?server=irc.mozilla.org%3A%2B6697&amp;amp;amp;channel=%23rust-osdev\"&gt;#rust-osdev&lt;/a&gt; (operating systems and embedded systems)&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://chat.mibbit.com/?server=irc.mozilla.org%3A%2B6697&amp;amp;amp;channel=%23rust-webdev\"&gt;#rust-webdev&lt;/a&gt; (web development)&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://chat.mibbit.com/?server=irc.mozilla.org%3A%2B6697&amp;amp;amp;channel=%23rust-networking\"&gt;#rust-networking&lt;/a&gt; (computer networking, and see also &lt;a href=\"https://www.reddit.com/r/rust_networking\"&gt;/r/rust_networking&lt;/a&gt;)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Also check out &lt;a href=\"https://reddit.com/r/rust/comments/f1ucwh/hey_rustaceans_got_an_easy_question_ask_here/\"&gt;last week&amp;#39;s thread&lt;/a&gt; with many good questions and answers. And if you believe your question to be either very complex or worthy of larger dissemination, feel free to create a text post.&lt;/p&gt;\n\n&lt;p&gt;Also if you want to be mentored by experienced Rustaceans, tell us the area of expertise that you seek.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": "new", "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": "clippy \u00b7 twir \u00b7 rust \u00b7 mutagen \u00b7 flamer \u00b7 overflower \u00b7 bytecount", "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f5413m", "is_robot_indexable": true, "report_reasons": null, "author": "llogiq", "discussion_type": null, "num_comments": 177, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": "dark", "permalink": "/r/rust/comments/f5413m/hey_rustaceans_got_an_easy_question_ask_here_82020/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rust/comments/f5413m/hey_rustaceans_got_an_easy_question_ask_here_82020/", "subreddit_subscribers": 91471, "created_utc": 1581918162.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_pmcr0", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "This Week in Rust 326", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_f6sy2s", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": "", "subreddit_type": "public", "ups": 132, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 132, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": "contrib", "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1582233505.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "this-week-in-rust.org", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": "twir", "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f6sy2s", "is_robot_indexable": true, "report_reasons": null, "author": "nasa42", "discussion_type": null, "num_comments": 8, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": "dark", "permalink": "/r/rust/comments/f6sy2s/this_week_in_rust_326/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://this-week-in-rust.org/blog/2020/02/18/this-week-in-rust-326/", "subreddit_subscribers": 91471, "created_utc": 1582204705.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_q03jv", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Made a rusty rust wallpaper. The other image was larger than 20 MB (24 Mb) and I don't know how to compress PNG images in photoshop.", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_f796ds", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 97, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": true, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 97, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1582309272.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "i.redd.it", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f796ds", "is_robot_indexable": true, "report_reasons": null, "author": "weezylane", "discussion_type": null, "num_comments": 15, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/f796ds/made_a_rusty_rust_wallpaper_the_other_image_was/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://i.redd.it/9t12lnng69i41.png", "subreddit_subscribers": 91471, "created_utc": 1582280472.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "Heya r/rust!\n\nI had posted a while ago about my dbus library [Repo link](https://github.com/KillingSpark/rustbus). \n\nI have since, with the help of PRs (mostly by [okeri](https://github.com/okeri)), fixed hopefully all bugs and would love some feedback on the API. Maybe there is a better way to convert the rust types into the type enums I use for the dbus marshalling that I missed?\n\nThis lib is somewhat similar to libdbus in that it gives the user pretty lowlevel access to the connection and the messages sent. The next natural step would be to build a generic proxy-library on top of this for convenient RPC.\n\n\nThere are currently some other efforts in this direction [as collected by the dbus-rs crate maintainer](https://github.com/diwic/dbus-rs/issues/100#issuecomment-580411226):\n\n* https://gitlab.freedesktop.org/zeenix/zbus/\n* https://github.com/Arnavion/dbus-pure\n* https://github.com/srwalter/dbus-bytestream\n\nI have not yet done a comparison in features/speed/correctness but I might do that in the future.", "author_fullname": "t2_vn6pd", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Update about rustbus, (one of the) pure rust dbus libraries", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": true, "name": "t3_f7a5qc", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 13, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 13, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1582315597.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Heya &lt;a href=\"/r/rust\"&gt;r/rust&lt;/a&gt;!&lt;/p&gt;\n\n&lt;p&gt;I had posted a while ago about my dbus library &lt;a href=\"https://github.com/KillingSpark/rustbus\"&gt;Repo link&lt;/a&gt;. &lt;/p&gt;\n\n&lt;p&gt;I have since, with the help of PRs (mostly by &lt;a href=\"https://github.com/okeri\"&gt;okeri&lt;/a&gt;), fixed hopefully all bugs and would love some feedback on the API. Maybe there is a better way to convert the rust types into the type enums I use for the dbus marshalling that I missed?&lt;/p&gt;\n\n&lt;p&gt;This lib is somewhat similar to libdbus in that it gives the user pretty lowlevel access to the connection and the messages sent. The next natural step would be to build a generic proxy-library on top of this for convenient RPC.&lt;/p&gt;\n\n&lt;p&gt;There are currently some other efforts in this direction &lt;a href=\"https://github.com/diwic/dbus-rs/issues/100#issuecomment-580411226\"&gt;as collected by the dbus-rs crate maintainer&lt;/a&gt;:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\"https://gitlab.freedesktop.org/zeenix/zbus/\"&gt;https://gitlab.freedesktop.org/zeenix/zbus/&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://github.com/Arnavion/dbus-pure\"&gt;https://github.com/Arnavion/dbus-pure&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://github.com/srwalter/dbus-bytestream\"&gt;https://github.com/srwalter/dbus-bytestream&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;I have not yet done a comparison in features/speed/correctness but I might do that in the future.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f7a5qc", "is_robot_indexable": true, "report_reasons": null, "author": "Killing_Spark", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/f7a5qc/update_about_rustbus_one_of_the_pure_rust_dbus/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/f7a5qc/update_about_rustbus_one_of_the_pure_rust_dbus/", "subreddit_subscribers": 91471, "created_utc": 1582286797.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_rrleg", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Using Google Analytics from a Rust Wasm Front-End Web App", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_f7563j", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 22, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 22, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1582284900.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "medium.com", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f7563j", "is_robot_indexable": true, "report_reasons": null, "author": "iamcodemaker", "discussion_type": null, "num_comments": 6, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/f7563j/using_google_analytics_from_a_rust_wasm_frontend/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://medium.com/@matt_78276/using-google-analytics-from-a-rust-wasm-front-end-web-app-12840c420dad", "subreddit_subscribers": 91471, "created_utc": 1582256100.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "Let's say I am writing an emulator and I have two 8 bit registers\n(a and f) which can also be interpreted as one 16 bit register.\n\nIn C, this could be modeled as\n\n\n    struct register {\n        union {\n            struct {\n                unsigned char f;\n                unsigned char a;\n            };\n            unsigned short af;\n        };\n    };\n\n\nwhich is convenient since you can just use `.f` or `.a` to access or set the 8 bit registers\nor `.af` to access or set the 16 bit register.\n\nIn Rust (which I am quite new to), I guess I can do something like:\n\n\n    #[derive(Copy, Clone)]\n    struct FA {\n        f: u8,\n        a: u8,\n    }\n\n\n    union Register {\n        _fa: FA,\n        fa: u16,\n    }\n\n\nbut the syntax to access the `f` and `a` registers are here much more awkward since\nI can't pass through the `.f` access to the `FA` struct. I can, of course, just store the\n`a` and `f` registers as is and then write the methods `get_af(&amp;self)` and `set_af(&amp;mut self, v: u16)` that does the bit\nshifts needed but it doesn't feel really clean (need to write getter and setters).\n\nIs there any nice way to do this or should I just implement the bit shift methods?", "author_fullname": "t2_3ui5f", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Passthrough field access in unions like in C?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": true, "name": "t3_f7ae2j", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 4, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 4, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1582316802.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Let&amp;#39;s say I am writing an emulator and I have two 8 bit registers\n(a and f) which can also be interpreted as one 16 bit register.&lt;/p&gt;\n\n&lt;p&gt;In C, this could be modeled as&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;struct register {\n    union {\n        struct {\n            unsigned char f;\n            unsigned char a;\n        };\n        unsigned short af;\n    };\n};\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;which is convenient since you can just use &lt;code&gt;.f&lt;/code&gt; or &lt;code&gt;.a&lt;/code&gt; to access or set the 8 bit registers\nor &lt;code&gt;.af&lt;/code&gt; to access or set the 16 bit register.&lt;/p&gt;\n\n&lt;p&gt;In Rust (which I am quite new to), I guess I can do something like:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;#[derive(Copy, Clone)]\nstruct FA {\n    f: u8,\n    a: u8,\n}\n\n\nunion Register {\n    _fa: FA,\n    fa: u16,\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;but the syntax to access the &lt;code&gt;f&lt;/code&gt; and &lt;code&gt;a&lt;/code&gt; registers are here much more awkward since\nI can&amp;#39;t pass through the &lt;code&gt;.f&lt;/code&gt; access to the &lt;code&gt;FA&lt;/code&gt; struct. I can, of course, just store the\n&lt;code&gt;a&lt;/code&gt; and &lt;code&gt;f&lt;/code&gt; registers as is and then write the methods &lt;code&gt;get_af(&amp;amp;self)&lt;/code&gt; and &lt;code&gt;set_af(&amp;amp;mut self, v: u16)&lt;/code&gt; that does the bit\nshifts needed but it doesn&amp;#39;t feel really clean (need to write getter and setters).&lt;/p&gt;\n\n&lt;p&gt;Is there any nice way to do this or should I just implement the bit shift methods?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f7ae2j", "is_robot_indexable": true, "report_reasons": null, "author": "Furrier", "discussion_type": null, "num_comments": 5, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/f7ae2j/passthrough_field_access_in_unions_like_in_c/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/f7ae2j/passthrough_field_access_in_unions_like_in_c/", "subreddit_subscribers": 91471, "created_utc": 1582288002.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "Maybe we will see a \"Crash Course Rust?\"\n\n[https://www.youtube.com/watch?v=IwjlCxwcuIc](https://www.youtube.com/watch?v=IwjlCxwcuIc)", "author_fullname": "t2_swfq7", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Hank Green explains the Rust programming language", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_f6tpig", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 201, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 201, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1582237169.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Maybe we will see a &amp;quot;Crash Course Rust?&amp;quot;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://www.youtube.com/watch?v=IwjlCxwcuIc\"&gt;https://www.youtube.com/watch?v=IwjlCxwcuIc&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f6tpig", "is_robot_indexable": true, "report_reasons": null, "author": "Cono52", "discussion_type": null, "num_comments": 42, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/f6tpig/hank_green_explains_the_rust_programming_language/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/f6tpig/hank_green_explains_the_rust_programming_language/", "subreddit_subscribers": 91471, "created_utc": 1582208369.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "Hi folks,\n\nI have a SHM(Secure Hardware Module) which houses my certs and does the signing. I was wondering has anyone here ever worked with a PKCS11 Engine using Rust. The Rust-TLS library doesn't support it, and I was wondering about integrating PKCS11 engine with our TLS library. Has anyone done anything similar here so that I might have some context? Currently I am going through RUST-TLS code and have identified the traits that I would need to implement(Thanks to the author of that crate).", "author_fullname": "t2_414drw34", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "PKCS11 Engine for Rust TLS", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_f77eqk", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 9, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 9, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1582268405.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1582296982.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi folks,&lt;/p&gt;\n\n&lt;p&gt;I have a SHM(Secure Hardware Module) which houses my certs and does the signing. I was wondering has anyone here ever worked with a PKCS11 Engine using Rust. The Rust-TLS library doesn&amp;#39;t support it, and I was wondering about integrating PKCS11 engine with our TLS library. Has anyone done anything similar here so that I might have some context? Currently I am going through RUST-TLS code and have identified the traits that I would need to implement(Thanks to the author of that crate).&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f77eqk", "is_robot_indexable": true, "report_reasons": null, "author": "abcamrx", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/f77eqk/pkcs11_engine_for_rust_tls/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/f77eqk/pkcs11_engine_for_rust_tls/", "subreddit_subscribers": 91471, "created_utc": 1582268182.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_luwkkkq", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Is it possible to get rid of those lines? I am using the rust-analyzer VSCode plugin and I find those extra lines to be more distracting than helpful :/", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_f6yuql", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 66, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": true, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 66, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1582258111.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "i.redd.it", "allow_live_comments": true, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f6yuql", "is_robot_indexable": true, "report_reasons": null, "author": "LechintanTudor", "discussion_type": null, "num_comments": 12, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/f6yuql/is_it_possible_to_get_rid_of_those_lines_i_am/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://i.redd.it/gk2wwhj2y4i41.png", "subreddit_subscribers": 91471, "created_utc": 1582229311.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "[tool site](https://ivanceras.github.io/html2sauron/)\n\n[repo](https://github.com/ivanceras/html2sauron)\n\nThis is a WIP, there will be bugs.", "author_fullname": "t2_s6pen", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "[ANN] I wrote a tool in sauron to convert html to sauron view syntax", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_f79nf9", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 4, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 4, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1582312461.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;&lt;a href=\"https://ivanceras.github.io/html2sauron/\"&gt;tool site&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://github.com/ivanceras/html2sauron\"&gt;repo&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;This is a WIP, there will be bugs.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f79nf9", "is_robot_indexable": true, "report_reasons": null, "author": "ivanceras", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/f79nf9/ann_i_wrote_a_tool_in_sauron_to_convert_html_to/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/f79nf9/ann_i_wrote_a_tool_in_sauron_to_convert_html_to/", "subreddit_subscribers": 91471, "created_utc": 1582283661.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "I was just wondering if anyone has experience with [Rust In Action](https://www.manning.com/books/rust-in-action?query=rust)? Is it worth it, or would I be better off just with the [Rust book](https://doc.rust-lang.org/stable/book/).", "author_fullname": "t2_acnaz", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Experience with Rust In Action?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_f74mga", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 18, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 18, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1582282354.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I was just wondering if anyone has experience with &lt;a href=\"https://www.manning.com/books/rust-in-action?query=rust\"&gt;Rust In Action&lt;/a&gt;? Is it worth it, or would I be better off just with the &lt;a href=\"https://doc.rust-lang.org/stable/book/\"&gt;Rust book&lt;/a&gt;.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f74mga", "is_robot_indexable": true, "report_reasons": null, "author": "Ankhers", "discussion_type": null, "num_comments": 4, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/f74mga/experience_with_rust_in_action/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/f74mga/experience_with_rust_in_action/", "subreddit_subscribers": 91471, "created_utc": 1582253554.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "Fellow no-std Rustaceans! :)\n\nI'm pretty new at both #rustlang and embedded, so I must be asking some obvious questions, but please help me here.\n\nMy application at this point is just supposed to continuously update a counter and show it on an SSD1306 display. The update must be triggered every second by a timer. I understand more or less how it works:  [https://github.com/nebelgrau77/STM32F0\\_blinky\\_IRQ](https://github.com/nebelgrau77/STM32F0_blinky_IRQ)  \\- this is based on an example from the STM32F0xx-HAL crate.\n\n&amp;#x200B;\n\nHere's my currently not working code:  [https://github.com/nebelgrau77/STM32F0-SSD1306-IRQ\\_DRAFT](https://github.com/nebelgrau77/STM32F0-SSD1306-IRQ_DRAFT)\n\nThe problem is the following: in order to be able to display my constantly updated value, the display must be in a loop outside of the critical section, but it also has to be available out there (lines 100 - 112), so it somehow has to be made global. I would assume this has to be done with static/Mutex/RefCell, just like the LEDs are global in the other example:\n\n`type LEDPIN = gpioa::PA4&lt;Output&lt;PushPull&gt;&gt;;` \n\n`static GLED: Mutex&lt;RefCell&lt;Option&lt;LEDPIN&gt;&gt;&gt; = Mutex::new(RefCell::new(None));`\n\nI don't understand how to do it, though: should everything be made global, e.g. RCC and SDA/SCL pins, to set I2C and the display outside of the CS? Or just the display instance, but in that case how do I put it in the Mutex?\n\n&amp;#x200B;\n\nThanks for any help on this!!!\n\n&amp;#x200B;\n\n*ps. contrary to some other crates, e.g. F1 or F4, the F0xx crate specifically requires the Critical Section for setting up the pins, therefore I cannot take the whole display setup out.*", "author_fullname": "t2_2s7buu0v", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "STM32F0", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "hide_score": false, "name": "t3_f784wq", "quarantine": false, "link_flair_text_color": "dark", "author_flair_background_color": null, "subreddit_type": "public", "ups": 6, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 6, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1582301924.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Fellow no-std Rustaceans! :)&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m pretty new at both #rustlang and embedded, so I must be asking some obvious questions, but please help me here.&lt;/p&gt;\n\n&lt;p&gt;My application at this point is just supposed to continuously update a counter and show it on an SSD1306 display. The update must be triggered every second by a timer. I understand more or less how it works:  &lt;a href=\"https://github.com/nebelgrau77/STM32F0_blinky_IRQ\"&gt;https://github.com/nebelgrau77/STM32F0_blinky_IRQ&lt;/a&gt;  - this is based on an example from the STM32F0xx-HAL crate.&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;Here&amp;#39;s my currently not working code:  &lt;a href=\"https://github.com/nebelgrau77/STM32F0-SSD1306-IRQ_DRAFT\"&gt;https://github.com/nebelgrau77/STM32F0-SSD1306-IRQ_DRAFT&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;The problem is the following: in order to be able to display my constantly updated value, the display must be in a loop outside of the critical section, but it also has to be available out there (lines 100 - 112), so it somehow has to be made global. I would assume this has to be done with static/Mutex/RefCell, just like the LEDs are global in the other example:&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;type LEDPIN = gpioa::PA4&amp;lt;Output&amp;lt;PushPull&amp;gt;&amp;gt;;&lt;/code&gt; &lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;static GLED: Mutex&amp;lt;RefCell&amp;lt;Option&amp;lt;LEDPIN&amp;gt;&amp;gt;&amp;gt; = Mutex::new(RefCell::new(None));&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;I don&amp;#39;t understand how to do it, though: should everything be made global, e.g. RCC and SDA/SCL pins, to set I2C and the display outside of the CS? Or just the display instance, but in that case how do I put it in the Mutex?&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;Thanks for any help on this!!!&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;&lt;em&gt;ps. contrary to some other crates, e.g. F1 or F4, the F0xx crate specifically requires the Critical Section for setting up the pins, therefore I cannot take the whole display setup out.&lt;/em&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "f784wq", "is_robot_indexable": true, "report_reasons": null, "author": "nebelgrau", "discussion_type": null, "num_comments": 6, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/f784wq/stm32f0/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/f784wq/stm32f0/", "subreddit_subscribers": 91471, "created_utc": 1582273124.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_f784wq", "before": null}}