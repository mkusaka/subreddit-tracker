{"kind": "Listing", "data": {"modhash": "", "dist": 11, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "In this thread you can showcase your personal pet project to other redditors.\n\nNeed help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!\n\nA suggested format to get you started:\n\n1. **Name of your project**\n2. **A short description**\n3. **Application stack**\n4. **Link to Live app**\n5. **Link to GitHub**\n6. **You experience level**\n7. **Other information or areas that you would like advice on**\n\n\u00a0\n\n^(Many thanks to Kritnc for getting the ball rolling.)", "author_fullname": "t2_6l4z3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Personal Projects - Show off your own project and/or ask for advice", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hja8kx", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 5, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 5, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1593639168.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;In this thread you can showcase your personal pet project to other redditors.&lt;/p&gt;\n\n&lt;p&gt;Need help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!&lt;/p&gt;\n\n&lt;p&gt;A suggested format to get you started:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;Name of your project&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;A short description&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Application stack&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to Live app&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to GitHub&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;You experience level&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Other information or areas that you would like advice on&lt;/strong&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;\u00a0&lt;/p&gt;\n\n&lt;p&gt;&lt;sup&gt;Many thanks to Kritnc for getting the ball rolling.&lt;/sup&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hja8kx", "is_robot_indexable": true, "report_reasons": null, "author": "AutoModerator", "discussion_type": null, "num_comments": 0, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hja8kx/personal_projects_show_off_your_own_project_andor/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rails/comments/hja8kx/personal_projects_show_off_your_own_project_andor/", "subreddit_subscribers": 44928, "created_utc": 1593610368.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "The title is kind confusing but I don't know how to express my issue...\n\nI'm working on a simple blog app. I have an Article model and Comment model. The comments are only shown on the /views/articles/show from given article.\n\nThe page has a form to post a comment. It's working fine to add a comment but the issue is to how to reload this page again with my shared/\\_errors partial if the user try to post a blanked commentary.\n\nFor instance, in my articles controller my create function just render 'new' again if the article can't be saved.\n\nHow it would be in my create function on comments controller since comments only have two partials to render  (\\_form and the \\_comment to display all the comments). I don't know how to simply keep in this show page for article and render again the form with the errors message. You can check the code [here](https://github.com/Gregory280/alpha-blog-5.1.4).\n\n&amp;#x200B;\n\n    def createarticle = Article.find(params[:article_id])\n    \n    u/comment = u/article.comments.create(params[:comment].permit(:name, :comment))\n    \n    u/comment.user = current_user\n    \n    if u/comment.saveflash[:notice] = \"Comment posted successfully!\"redirect_to article_path(@article)\n    \n    elseflash.now[:notice] = 'Cant be blank'\n    \n    render 'comments/_form'\n    end\n    end \n\n(Don't why but reddit is changing a little bit my code)\n\nCurrently the controller is sending me from the route 'http://localhost:3000/articles/26 ' to '[http://localhost:3000/articles/26/comments](http://localhost:3000/articles/26/comments)' witch its a view with just the comment form.\n\n&amp;#x200B;", "author_fullname": "t2_2ylymv4t", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How to render a form partial from a model in other model template if it fails to save into database ?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_ho09wu", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1594288745.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594316600.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;The title is kind confusing but I don&amp;#39;t know how to express my issue...&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m working on a simple blog app. I have an Article model and Comment model. The comments are only shown on the /views/articles/show from given article.&lt;/p&gt;\n\n&lt;p&gt;The page has a form to post a comment. It&amp;#39;s working fine to add a comment but the issue is to how to reload this page again with my shared/_errors partial if the user try to post a blanked commentary.&lt;/p&gt;\n\n&lt;p&gt;For instance, in my articles controller my create function just render &amp;#39;new&amp;#39; again if the article can&amp;#39;t be saved.&lt;/p&gt;\n\n&lt;p&gt;How it would be in my create function on comments controller since comments only have two partials to render  (_form and the _comment to display all the comments). I don&amp;#39;t know how to simply keep in this show page for article and render again the form with the errors message. You can check the code &lt;a href=\"https://github.com/Gregory280/alpha-blog-5.1.4\"&gt;here&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;def createarticle = Article.find(params[:article_id])\n\nu/comment = u/article.comments.create(params[:comment].permit(:name, :comment))\n\nu/comment.user = current_user\n\nif u/comment.saveflash[:notice] = &amp;quot;Comment posted successfully!&amp;quot;redirect_to article_path(@article)\n\nelseflash.now[:notice] = &amp;#39;Cant be blank&amp;#39;\n\nrender &amp;#39;comments/_form&amp;#39;\nend\nend \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;(Don&amp;#39;t why but reddit is changing a little bit my code)&lt;/p&gt;\n\n&lt;p&gt;Currently the controller is sending me from the route &amp;#39;http://localhost:3000/articles/26 &amp;#39; to &amp;#39;&lt;a href=\"http://localhost:3000/articles/26/comments\"&gt;http://localhost:3000/articles/26/comments&lt;/a&gt;&amp;#39; witch its a view with just the comment form.&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "ho09wu", "is_robot_indexable": true, "report_reasons": null, "author": "gregory280", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/ho09wu/how_to_render_a_form_partial_from_a_model_in/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/ho09wu/how_to_render_a_form_partial_from_a_model_in/", "subreddit_subscribers": 44928, "created_utc": 1594287800.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "The [activejob-uniqueness](https://github.com/veeqo/activejob-uniqueness) is an attempt to implement something similar to sidekiq-unique-jobs, but working on more high-level abstraction, like ActiveJob callbacks, what makes it compatible with any ActiveJob adapter (including Sidekiq). It uses [redlock-rb](https://github.com/leandromoreira/redlock-rb) (implementation of [Redlock algorithm](https://redis.io/topics/distlock)) and therefore depends on Redis.", "author_fullname": "t2_llws8", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Job uniqueness for ActiveJob", "link_flair_richtext": [{"e": "text", "t": "Gem"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "gem", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hnmbq8", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.95, "author_flair_background_color": null, "subreddit_type": "public", "ups": 14, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Gem", "can_mod_post": false, "score": 14, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594261232.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;The &lt;a href=\"https://github.com/veeqo/activejob-uniqueness\"&gt;activejob-uniqueness&lt;/a&gt; is an attempt to implement something similar to sidekiq-unique-jobs, but working on more high-level abstraction, like ActiveJob callbacks, what makes it compatible with any ActiveJob adapter (including Sidekiq). It uses &lt;a href=\"https://github.com/leandromoreira/redlock-rb\"&gt;redlock-rb&lt;/a&gt; (implementation of &lt;a href=\"https://redis.io/topics/distlock\"&gt;Redlock algorithm&lt;/a&gt;) and therefore depends on Redis.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "617bc232-b02e-11e4-916e-22000b230ae2", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hnmbq8", "is_robot_indexable": true, "report_reasons": null, "author": "sharshenov", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hnmbq8/job_uniqueness_for_activejob/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hnmbq8/job_uniqueness_for_activejob/", "subreddit_subscribers": 44928, "created_utc": 1594232432.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hey everyone! \n\nI just finished a Full Stack Development bootcamp (based on the Rails framework) and I loved everything about Rails !\n\nBefore doing the bootcamp, I was working on my own website about dogs, built with WordPress. Now, I look at it and I think about all the stuff I could add with my Rails knowledge (instead of only being a pure content website, i could really add web app features, like a way to find the nearest vets, breeders, etc.)\n\nI could try to learn some PHP and do it on WordPress but I honestly really don't want to do that, and Rails and PHP work differently.\n\nI was then thinking about taking all the already existing content and migrate it in a Rails CMS. That could be doable but i dont really know which CMS suits my needs.\n\nDo you guys have any experience with this? Thanks a lot in advance !", "author_fullname": "t2_12dedv", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Migrate WordPress site to Rails CMS", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hnmder", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.92, "author_flair_background_color": null, "subreddit_type": "public", "ups": 9, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 9, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594261372.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey everyone! &lt;/p&gt;\n\n&lt;p&gt;I just finished a Full Stack Development bootcamp (based on the Rails framework) and I loved everything about Rails !&lt;/p&gt;\n\n&lt;p&gt;Before doing the bootcamp, I was working on my own website about dogs, built with WordPress. Now, I look at it and I think about all the stuff I could add with my Rails knowledge (instead of only being a pure content website, i could really add web app features, like a way to find the nearest vets, breeders, etc.)&lt;/p&gt;\n\n&lt;p&gt;I could try to learn some PHP and do it on WordPress but I honestly really don&amp;#39;t want to do that, and Rails and PHP work differently.&lt;/p&gt;\n\n&lt;p&gt;I was then thinking about taking all the already existing content and migrate it in a Rails CMS. That could be doable but i dont really know which CMS suits my needs.&lt;/p&gt;\n\n&lt;p&gt;Do you guys have any experience with this? Thanks a lot in advance !&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hnmder", "is_robot_indexable": true, "report_reasons": null, "author": "buzzlightday_", "discussion_type": null, "num_comments": 19, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hnmder/migrate_wordpress_site_to_rails_cms/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hnmder/migrate_wordpress_site_to_rails_cms/", "subreddit_subscribers": 44928, "created_utc": 1594232572.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Just curious. While going for a Rails and React webapp which code architecture is recommended.\n\n1. React stack in the same Rails codebase OR\n\n2.  a separate Rails api code base and a separate React stack.  \n\nWhen it comes to community support and efficiency, which one is recommended?", "author_fullname": "t2_4mnmgohr", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Ruby on rails and React stack", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hnjauk", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 6, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 6, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594251628.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Just curious. While going for a Rails and React webapp which code architecture is recommended.&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;React stack in the same Rails codebase OR&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;a separate Rails api code base and a separate React stack.  &lt;/p&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;When it comes to community support and efficiency, which one is recommended?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hnjauk", "is_robot_indexable": true, "report_reasons": null, "author": "maverick_ahead", "discussion_type": null, "num_comments": 12, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hnjauk/ruby_on_rails_and_react_stack/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hnjauk/ruby_on_rails_and_react_stack/", "subreddit_subscribers": 44928, "created_utc": 1594222828.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I am currently working on integrating friendly_id gem into some of the models in Talenox. Basically, it makes our in app URLs look nicer with human and company names in front, instead of just incremental primary key IDs. Oh boy\u2026 `Employee.all.each(&amp;:save)` is fucking slow in production.\n\nThere are several things that can cause update and insert to slow down a lot for an ActiveRecord model:\n\n* Validations - especially when it involves multiple models\n* Callbacks - especially when they cause a chain of callbacks in other models\n* `belongs_to :parent, touch: true` - technically a callback to bust russian doll caches, but adding a slug does not necessitate busting caches\n\nGuess what, we can skip all those. How? By backfilling with an empty model class.\n\nAssuming we have an Employee model with a relation employees, what you can do is: Create an ActiveRecord model class in that migration class with none of the callbacks EXCEPT friendly_id and slug_candidate method.\n\n    class BackfillEmployeesWithFriendlyId &lt; ActiveRecord::Migration[5.0]\n    \n      # Using a blank class allows us to easily skip all callbacks that can make\n      # mass migration slow.\n      class FriendlyIdEmployee &lt; ActiveRecord::Base\n        self.table_name = 'employees'\n        extend FriendlyId\n        friendly_id :slug_candidate, use: [:slugged, :finders]\n    \n        def slug_candidate\n          if first_name || last_name\n            \"#{first_name} #{last_name}\"[0, 20]\n          else\n            \"employee\"\n          end + \" #{SecureRandom.hex[0, 8]}\"\n        end\n      end\n    \n      def up\n        print \"Updating friendly_id slug for employees\"\n        FriendlyIdEmployee.where(slug: nil).each do |row|\n          row.save; print('.')\n        end\n        puts ''\n      end\n    end\n    \nHowever, I couldn\u2019t get the friendly_id history plug in to work properly yet. friendly_id history is implemented using ActiveRecord polymorphic. When the backfilling migration above is run, it will end up creating FriendlyId::Slug records with sluggable type of `BackfillEmployeesWithFriendlyId::FriendlyIdEmployee` instead of just `Employee`. That also means you can\u2019t do subclassing of ActiveRecord models with friendly_id and expect history to work. Luckily we don\u2019t need it.\n\n[Source](https://anonoz.github.io/tech/2020/07/08/faster-friendly_id-mass-migration.html)", "author_fullname": "t2_1smql8y", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How to make friendly_id backfilling migration faster? You can skip all the callbacks.", "link_flair_richtext": [{"e": "text", "t": "Tutorial"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "tutorial", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hndvj5", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 13, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Tutorial", "can_mod_post": false, "score": 13, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594228733.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I am currently working on integrating friendly_id gem into some of the models in Talenox. Basically, it makes our in app URLs look nicer with human and company names in front, instead of just incremental primary key IDs. Oh boy\u2026 &lt;code&gt;Employee.all.each(&amp;amp;:save)&lt;/code&gt; is fucking slow in production.&lt;/p&gt;\n\n&lt;p&gt;There are several things that can cause update and insert to slow down a lot for an ActiveRecord model:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Validations - especially when it involves multiple models&lt;/li&gt;\n&lt;li&gt;Callbacks - especially when they cause a chain of callbacks in other models&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;belongs_to :parent, touch: true&lt;/code&gt; - technically a callback to bust russian doll caches, but adding a slug does not necessitate busting caches&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Guess what, we can skip all those. How? By backfilling with an empty model class.&lt;/p&gt;\n\n&lt;p&gt;Assuming we have an Employee model with a relation employees, what you can do is: Create an ActiveRecord model class in that migration class with none of the callbacks EXCEPT friendly_id and slug_candidate method.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;class BackfillEmployeesWithFriendlyId &amp;lt; ActiveRecord::Migration[5.0]\n\n  # Using a blank class allows us to easily skip all callbacks that can make\n  # mass migration slow.\n  class FriendlyIdEmployee &amp;lt; ActiveRecord::Base\n    self.table_name = &amp;#39;employees&amp;#39;\n    extend FriendlyId\n    friendly_id :slug_candidate, use: [:slugged, :finders]\n\n    def slug_candidate\n      if first_name || last_name\n        &amp;quot;#{first_name} #{last_name}&amp;quot;[0, 20]\n      else\n        &amp;quot;employee&amp;quot;\n      end + &amp;quot; #{SecureRandom.hex[0, 8]}&amp;quot;\n    end\n  end\n\n  def up\n    print &amp;quot;Updating friendly_id slug for employees&amp;quot;\n    FriendlyIdEmployee.where(slug: nil).each do |row|\n      row.save; print(&amp;#39;.&amp;#39;)\n    end\n    puts &amp;#39;&amp;#39;\n  end\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;However, I couldn\u2019t get the friendly_id history plug in to work properly yet. friendly_id history is implemented using ActiveRecord polymorphic. When the backfilling migration above is run, it will end up creating FriendlyId::Slug records with sluggable type of &lt;code&gt;BackfillEmployeesWithFriendlyId::FriendlyIdEmployee&lt;/code&gt; instead of just &lt;code&gt;Employee&lt;/code&gt;. That also means you can\u2019t do subclassing of ActiveRecord models with friendly_id and expect history to work. Luckily we don\u2019t need it.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://anonoz.github.io/tech/2020/07/08/faster-friendly_id-mass-migration.html\"&gt;Source&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "2a348462-af75-11e4-abe9-22000b3d0989", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hndvj5", "is_robot_indexable": true, "report_reasons": null, "author": "TheWolfOfBlk71", "discussion_type": null, "num_comments": 11, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hndvj5/how_to_make_friendly_id_backfilling_migration/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hndvj5/how_to_make_friendly_id_backfilling_migration/", "subreddit_subscribers": 44928, "created_utc": 1594199933.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hi everyone, \n\nI've been doing Ruby and RoR for a couple of years now, but have always worked on API only projects with little or no frontend at all. Im looking for resources to learn the concepts of structuring a frontend rails app, guides on how to properly use layouts, view helpers etc. If anyone has any tutorials, books or videos that would be helpful I would really appreciate if you could share them. Thanks", "author_fullname": "t2_2byphfh9", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Rails Frontend Development Resources", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hnhez6", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.72, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 3, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594245099.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi everyone, &lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;ve been doing Ruby and RoR for a couple of years now, but have always worked on API only projects with little or no frontend at all. Im looking for resources to learn the concepts of structuring a frontend rails app, guides on how to properly use layouts, view helpers etc. If anyone has any tutorials, books or videos that would be helpful I would really appreciate if you could share them. Thanks&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hnhez6", "is_robot_indexable": true, "report_reasons": null, "author": "harisp9631", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hnhez6/rails_frontend_development_resources/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hnhez6/rails_frontend_development_resources/", "subreddit_subscribers": 44928, "created_utc": 1594216299.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I have an ecommerce app on rails and was wondering what's the best architecture for ordering products on a page. I'm aware of how to use .order(:table_attribute), but was wondering if there is a cleaner/more dynamic way to bubble offerings to the top that you want to highlight. Any recommended practices for this?", "author_fullname": "t2_kd61d", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Best architecture for preferred sort for e-commerce products?", "link_flair_richtext": [{"e": "text", "t": "Architecture"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "architecture", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hn78ue", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.91, "author_flair_background_color": null, "subreddit_type": "public", "ups": 8, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Architecture", "can_mod_post": false, "score": 8, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594198885.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have an ecommerce app on rails and was wondering what&amp;#39;s the best architecture for ordering products on a page. I&amp;#39;m aware of how to use .order(:table_attribute), but was wondering if there is a cleaner/more dynamic way to bubble offerings to the top that you want to highlight. Any recommended practices for this?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "3deb1b86-b085-11e4-ac4b-22000b3c80d5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hn78ue", "is_robot_indexable": true, "report_reasons": null, "author": "Teucer90", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hn78ue/best_architecture_for_preferred_sort_for/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hn78ue/best_architecture_for_preferred_sort_for/", "subreddit_subscribers": 44928, "created_utc": 1594170085.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I am looking for ways to work on an external (i.e. not the rails-backend) database from within a rails app, preferably in a very user-friendly and powerful way like ActiveAdmin/Rails\\_admin allow. \n\n&amp;#x200B;\n\nDoes anyone know of a ready-made solution? To my knowledge you can't just point the two former tools to a different DB.", "author_fullname": "t2_77a90tlb", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Database administration tool like ActiveAdmin/Rails_admin", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hnchui", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594221122.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I am looking for ways to work on an external (i.e. not the rails-backend) database from within a rails app, preferably in a very user-friendly and powerful way like ActiveAdmin/Rails_admin allow. &lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;Does anyone know of a ready-made solution? To my knowledge you can&amp;#39;t just point the two former tools to a different DB.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hnchui", "is_robot_indexable": true, "report_reasons": null, "author": "PerspectiveUpbeat354", "discussion_type": null, "num_comments": 4, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hnchui/database_administration_tool_like/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hnchui/database_administration_tool_like/", "subreddit_subscribers": 44928, "created_utc": 1594192322.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "We have a relatively new Rails API project (full Rails, not API only) that is using ActiveModelSerializer. We're considering switching due to some frustrations with the project, it's documentation, the current state of it, and a desire to get away from the confusing DSL. If you were starting a new project is there a serializer you recommend? fast-json-api comes to mind, but I haven't fully explored all the alternatives.", "author_fullname": "t2_l098n", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "If you were creating a new Rails API, what serializer would you use and why?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hmymab", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.94, "author_flair_background_color": null, "subreddit_type": "public", "ups": 23, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 23, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594170670.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;We have a relatively new Rails API project (full Rails, not API only) that is using ActiveModelSerializer. We&amp;#39;re considering switching due to some frustrations with the project, it&amp;#39;s documentation, the current state of it, and a desire to get away from the confusing DSL. If you were starting a new project is there a serializer you recommend? fast-json-api comes to mind, but I haven&amp;#39;t fully explored all the alternatives.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hmymab", "is_robot_indexable": true, "report_reasons": null, "author": "justaguy1020", "discussion_type": null, "num_comments": 39, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hmymab/if_you_were_creating_a_new_rails_api_what/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hmymab/if_you_were_creating_a_new_rails_api_what/", "subreddit_subscribers": 44928, "created_utc": 1594141870.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "The ruby documentation for Stripe is specific to Sinatra and not rails. Heroku for the ruby documentation also defaults to Sinatra, and has Rails in a separate section. With rails being the most popular ruby framework, is there some a reason these products don't include rails as the default? Is there some historical reason for this? Just curious.", "author_fullname": "t2_152zr1", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Why does Stripe only have documentation for Sinatra?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hn72ht", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 3, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594198213.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;The ruby documentation for Stripe is specific to Sinatra and not rails. Heroku for the ruby documentation also defaults to Sinatra, and has Rails in a separate section. With rails being the most popular ruby framework, is there some a reason these products don&amp;#39;t include rails as the default? Is there some historical reason for this? Just curious.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hn72ht", "is_robot_indexable": true, "report_reasons": null, "author": "1meese", "discussion_type": null, "num_comments": 6, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hn72ht/why_does_stripe_only_have_documentation_for/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hn72ht/why_does_stripe_only_have_documentation_for/", "subreddit_subscribers": 44928, "created_utc": 1594169413.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_hn72ht", "before": null}}