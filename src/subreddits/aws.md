# aws
## [1][AWS Workspace - Windows updates?](https://www.reddit.com/r/aws/comments/gix9sw/aws_workspace_windows_updates/)
- url: https://www.reddit.com/r/aws/comments/gix9sw/aws_workspace_windows_updates/
---
Hey guys,

how do you manage your windows updates?   
We are using 50 aws machines and I got some problemes with the windows updates.   
For example, an employee want to login but he cant connect because of 10 minutes windows updates.   


Maybe WSUS + GPOs?   


Thanks in advance.
## [2][Amazon Kendra is Now Generally Available](https://www.reddit.com/r/aws/comments/gigvdn/amazon_kendra_is_now_generally_available/)
- url: https://aws.amazon.com/blogs/aws/reinventing-enterprise-search-amazon-kendra-is-now-generally-available/
---

## [3][AWS Summit Fail](https://www.reddit.com/r/aws/comments/giqtd6/aws_summit_fail/)
- url: https://www.reddit.com/r/aws/comments/giqtd6/aws_summit_fail/
---
Serious issues with the streaming platform for AWS Summit 2020.

Question is: why didn't they go with twitch.tv as it worked quite well for Summit last year..
## [4][Help with S3 hosting &amp; Cloudfront](https://www.reddit.com/r/aws/comments/givsdu/help_with_s3_hosting_cloudfront/)
- url: https://www.reddit.com/r/aws/comments/givsdu/help_with_s3_hosting_cloudfront/
---
I posted the other day and the folks here were great.

I'm getting really close to having my site working and was hoping for a little more help.

I can just use an EC2 instance with an elastic IP and LAMP like years ago, but I'm trying to use S3 for it's scalability and modern approach.


So here is my setup (all in Ireland region unless stated):

**S3 bucket 1:**

* named - www.mydomain.ie

* setup with public access bucket policy

* endpoint URL works and I can access the files in any browser


**S3 bucket 2:**

* named - mydomain.ie

* setup with public access bucket policy

* set to redirect to bucket 1, www.mydomain.ie

That was working great and I had a CNAME set to point to the bucket 1 URL.

Then I decided I wanted to have HTTPS.


Enter ACM, I requested a cert from Virginia (as per https://docs.aws.amazon.com/acm/latest/userguide/acm-regions.html), and then I read in the AWS docs that I needed to link my cert to my S3 bucket via Cloudfront.

Using a CDN was something I thought companies like Netflix did, however it seemed to be the only way, so I setup a distribution.

I configured it as per the docs, I was able to select my cert generated by ACM (and confirmed successfully via DNS).

The distribution URL from Cloudfront works, it looks like "djixc4b3hcn.cloudfront.net", when I visit it I see my site with HTTPS!!

So, finally I went to point my CNAME in my registrar at this new CloudFront URL (which I think is the right thing to do), however I get a 403 when I visit www.mydomain.ie despite the Cloudfront URL working.

**403 ERROR - The request could not be satisfied.**



Finally I went through all of the steps here: https://aws.amazon.com/premiumsupport/knowledge-center/s3-website-cloudfront-error-403/

But none resolved it.

Any ideas what I can do next?

I can post screenshots of my config if that helps?
## [5][Lightsail email deliverability issues to outlook.com](https://www.reddit.com/r/aws/comments/girukg/lightsail_email_deliverability_issues_to/)
- url: https://www.reddit.com/r/aws/comments/girukg/lightsail_email_deliverability_issues_to/
---
When I try to send to [outlook.com](https://outlook.com) or anyone hosted by them I get 

550 5.7.1

    Unfortunately, messages from \[XX.XX.XX.XX\] weren't sent. Please contact your Internet service provider since part of their network is on our block list (S3140). 

That's followed by a link to an irrelevant troubleshooting page.

Is anyone else seeing the same?  My email config is good, not an open relay, SPF, DKIM, DMARC all working fine.  Not on any blacklists.  It looks like the outlook team have just blackholed all of Lightsail.
## [6][Is AWS Lambda billed when serving static files from S3 ?](https://www.reddit.com/r/aws/comments/gipcq8/is_aws_lambda_billed_when_serving_static_files/)
- url: https://www.reddit.com/r/aws/comments/gipcq8/is_aws_lambda_billed_when_serving_static_files/
---
Suppose I am hosting a website that runs on AWS Lambda and uses AWS S3 for storing static files. My question am I billed for the entire page load time or a few milliseconds to render the html ?
## [7][Parsing SSM parameters - escaping quotes woes!](https://www.reddit.com/r/aws/comments/gixw6p/parsing_ssm_parameters_escaping_quotes_woes/)
- url: https://www.reddit.com/r/aws/comments/gixw6p/parsing_ssm_parameters_escaping_quotes_woes/
---
I am trying to run the following command:

    aws ssm send-command --targets "Key=instanceids,Values=${ID_STREAM}" --document-name "AWS-RunShellScript" --comment "Enabling Safemode in ${ENV}" --parameters "commands=sudo -H -u hdfs bash -c \'hadoop dfsadmin -safemode enter\'" --profile ${ENV_ACC} --output text

However when it runs:

    Error parsing parameter '--parameters': Expected: ',', received: ''' for input:
    commands=sudo -H -u hdfs bash -c \'hadoop dfsadmin -safemode enter\'
    
So it clearly doesn't like the quotes. How would you guys go about solving this problem? I'm aware I could parse this as raw JSON but I'm not sure how to format that in this instance.

Thanks
## [8][Tell us more about your AWS Step Functions business use cases.](https://www.reddit.com/r/aws/comments/gi9xi3/tell_us_more_about_your_aws_step_functions/)
- url: https://www.reddit.com/r/aws/comments/gi9xi3/tell_us_more_about_your_aws_step_functions/
---
How many of you are using AWS Step Functions **to handle business logic**? Are you satisfied? Where do you develop the state machines? What tooling/frameworks to you use? How do you handle refactors? Do you test your code? How much do you pay? Is it worth the hassle? Is local development hell or is it actually doable/mockable?

I personally liked my experience with AWS Step Functions to automate some "technical burden" like replacing old EC2 AMIs or upgrading a database. Step Functions also play huge part in automating machine learning in AWS (as can be read in AWS WAF Machine Learning Lens). I have yet to meet anyone using it for business logic though and this is how AWS advertises it(mostly). 

I'd love to hear your stories.
## [9][Is the Amazon EMR runtime contributed back to Apache Spark?](https://www.reddit.com/r/aws/comments/giuwqq/is_the_amazon_emr_runtime_contributed_back_to/)
- url: https://www.reddit.com/r/aws/comments/giuwqq/is_the_amazon_emr_runtime_contributed_back_to/
---
When running an EMR cluster on Amazon with spot instances, almost 30% of the cost is the EMR "license fee".

&amp;#x200B;

I wonder, given the millions of $ that Amazon has made from Apache Spark, if the EMR runtime they announced last year is being contributed back to the project?  Basically, is EMR a closed source system with Apache Spark compatibility, or Spark running on AWS?
## [10][AWS EC2 Underlying Network Layer](https://www.reddit.com/r/aws/comments/gimova/aws_ec2_underlying_network_layer/)
- url: https://www.reddit.com/r/aws/comments/gimova/aws_ec2_underlying_network_layer/
---
Does anyone have a link for any information on the underlying network layer for EC2 instances and how it deals with L2/L3 broadcasts, security, arp, etc.?

Edits

[Good post explains arp in AWS.](http://txens.io/index.php/2016/12/16/a-deep-dive-into-the-aws-network/)
