{"kind": "Listing", "data": {"modhash": "", "dist": 10, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "The business that I\u2019m designing for has a lot of stubborn, crotchety customers, and in this new infrastructure, I\u2019m trying to save the employees as much time as possible by empowering customers (who don\u2019t know how to search their email, or google a tracking number, or make it two clicks past a login page).\n\nWhat\u2019s the best way for including params in a link that then update the value of an input?\n\nI feel like I could just sit down and build a param trigger to render JS and put logic in a js.erb file, but something in my gut is saying that tailoring to unique params situations is usually a job for a pack full of jquery", "author_fullname": "t2_3z9pk1lk", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Resources for Fancy Links? Specifically trying to populate user/email field if redirected to login after click", "link_flair_richtext": [{"e": "text", "t": "Question"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "question", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_gv3ydx", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Question", "can_mod_post": false, "score": 3, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1591117951.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;The business that I\u2019m designing for has a lot of stubborn, crotchety customers, and in this new infrastructure, I\u2019m trying to save the employees as much time as possible by empowering customers (who don\u2019t know how to search their email, or google a tracking number, or make it two clicks past a login page).&lt;/p&gt;\n\n&lt;p&gt;What\u2019s the best way for including params in a link that then update the value of an input?&lt;/p&gt;\n\n&lt;p&gt;I feel like I could just sit down and build a param trigger to render JS and put logic in a js.erb file, but something in my gut is saying that tailoring to unique params situations is usually a job for a pack full of jquery&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "fdfc6806-aea7-11e4-bf37-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gv3ydx", "is_robot_indexable": true, "report_reasons": null, "author": "snek2go", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/gv3ydx/resources_for_fancy_links_specifically_trying_to/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/gv3ydx/resources_for_fancy_links_specifically_trying_to/", "subreddit_subscribers": 44315, "created_utc": 1591089151.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I have a model say \\`Item\\` which has a method called on \\`after\\_commit\\` but at the same time, the item model also has an Observer called \\`ItemObserver\\`. The observer also has an \\`after\\_commit\\` callback which resets the cache.\n\nNow my issue is on the update of the \\`item\\` model the \\`after\\_commit\\` on the model is called first before the \\`after\\_commit\\` on the observer hence the cache isn't reset and the \\`after\\_commit\\` runs on stale data learning to invalid actions.\n\nI wanted to know if it's possible to force the observer's \\`after\\_commit\\` to run first so that is refreshed with the latest portal for all subsequent callbacks.", "author_fullname": "t2_pgq24c7", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Order of Callbacks in rails 4", "link_flair_richtext": [{"e": "text", "t": "Help"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_gv3k0n", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.75, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Help", "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1591115855.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have a model say `Item` which has a method called on `after_commit` but at the same time, the item model also has an Observer called `ItemObserver`. The observer also has an `after_commit` callback which resets the cache.&lt;/p&gt;\n\n&lt;p&gt;Now my issue is on the update of the `item` model the `after_commit` on the model is called first before the `after_commit` on the observer hence the cache isn&amp;#39;t reset and the `after_commit` runs on stale data learning to invalid actions.&lt;/p&gt;\n\n&lt;p&gt;I wanted to know if it&amp;#39;s possible to force the observer&amp;#39;s `after_commit` to run first so that is refreshed with the latest portal for all subsequent callbacks.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "eef0b990-adfb-11e4-8e15-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gv3k0n", "is_robot_indexable": true, "report_reasons": null, "author": "bennyman32", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/gv3k0n/order_of_callbacks_in_rails_4/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/gv3k0n/order_of_callbacks_in_rails_4/", "subreddit_subscribers": 44315, "created_utc": 1591087055.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hi all,\n\nI have a class which is initialised with 3 arguments.\n\n`def initialize(arg1:, arg2:, array_of_objects:)\n  @arg1 = arg1\n  @arg2 = arg2\n  @array_of_objects = array_of_objects\nend`\n\nMy code requires that I run a method on each object in my_class_instance.array_of_objects. There can be one or more objects in that array.\n\nAt the moment I'm initializing like this:\n\n`MyClass.new(\"foo\", \"bar\", [MyOtherClass.new])`\n\nIf I don't do it this way, then when I try to run .each on the array_of_objects, it throws an error.\n\nIs this bad practice? And if so, how should I be supplying n number of objects to the initialize method?\n\nThanks and apologies for the formatting, I only have access to my phone right now.", "author_fullname": "t2_xktv3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Is it poor form to have to supply an array as an argument to initialize, even if there's only one object in the array?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_guv73y", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 8, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 8, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1591081296.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi all,&lt;/p&gt;\n\n&lt;p&gt;I have a class which is initialised with 3 arguments.&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;def initialize(arg1:, arg2:, array_of_objects:)\n  @arg1 = arg1\n  @arg2 = arg2\n  @array_of_objects = array_of_objects\nend&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;My code requires that I run a method on each object in my_class_instance.array_of_objects. There can be one or more objects in that array.&lt;/p&gt;\n\n&lt;p&gt;At the moment I&amp;#39;m initializing like this:&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;MyClass.new(&amp;quot;foo&amp;quot;, &amp;quot;bar&amp;quot;, [MyOtherClass.new])&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;If I don&amp;#39;t do it this way, then when I try to run .each on the array_of_objects, it throws an error.&lt;/p&gt;\n\n&lt;p&gt;Is this bad practice? And if so, how should I be supplying n number of objects to the initialize method?&lt;/p&gt;\n\n&lt;p&gt;Thanks and apologies for the formatting, I only have access to my phone right now.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "guv73y", "is_robot_indexable": true, "report_reasons": null, "author": "spinsilo", "discussion_type": null, "num_comments": 6, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/guv73y/is_it_poor_form_to_have_to_supply_an_array_as_an/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/guv73y/is_it_poor_form_to_have_to_supply_an_array_as_an/", "subreddit_subscribers": 44315, "created_utc": 1591052496.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Just got a freelance offer from them stating a budget and what they need. It's a static informational site which I'm hoping to code top-bottom from scratch. More for practice, though I could just as easily go with a hosting service like GoDaddy, WordPress, Wix, etc. by the looks of it. Curious if anyone has experience with this and knows more or less how I should handle billing to make sure everything plays out well for both parties. Rails related because I'm enjoying using rails and want to bring a hammer to do a scissor's job.", "author_fullname": "t2_6iyxev6q", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Anybody have any experience with House of Dubs?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_gutn5u", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.92, "author_flair_background_color": null, "subreddit_type": "public", "ups": 10, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 10, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1591076242.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Just got a freelance offer from them stating a budget and what they need. It&amp;#39;s a static informational site which I&amp;#39;m hoping to code top-bottom from scratch. More for practice, though I could just as easily go with a hosting service like GoDaddy, WordPress, Wix, etc. by the looks of it. Curious if anyone has experience with this and knows more or less how I should handle billing to make sure everything plays out well for both parties. Rails related because I&amp;#39;m enjoying using rails and want to bring a hammer to do a scissor&amp;#39;s job.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gutn5u", "is_robot_indexable": true, "report_reasons": null, "author": "CodaDev", "discussion_type": null, "num_comments": 16, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/gutn5u/anybody_have_any_experience_with_house_of_dubs/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/gutn5u/anybody_have_any_experience_with_house_of_dubs/", "subreddit_subscribers": 44315, "created_utc": 1591047442.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "", "author_fullname": "t2_1szauu7h", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "donorbox - what is it like working for them?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_guynpd", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.5, "author_flair_background_color": null, "subreddit_type": "public", "ups": 0, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 0, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1591093524.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "guynpd", "is_robot_indexable": true, "report_reasons": null, "author": "oystersauce8", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/guynpd/donorbox_what_is_it_like_working_for_them/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/guynpd/donorbox_what_is_it_like_working_for_them/", "subreddit_subscribers": 44315, "created_utc": 1591064724.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Ruby on Rails Conventions is important to develop as a  team. \ud83d\ude0a\n\n&amp;#x200B;\n\nController -&gt; plural.\n\nModel -&gt; singular\n\nMigration -&gt; plural.\n\n&amp;#x200B;\n\nbut sometimes weird when generate them \ud83d\ude05", "author_fullname": "t2_48qiy5az", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Conventions...", "link_flair_richtext": [{"e": "text", "t": "Deployment"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "deployment", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_guuqg5", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.67, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Deployment", "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1591079748.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Ruby on Rails Conventions is important to develop as a  team. \ud83d\ude0a&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;Controller -&amp;gt; plural.&lt;/p&gt;\n\n&lt;p&gt;Model -&amp;gt; singular&lt;/p&gt;\n\n&lt;p&gt;Migration -&amp;gt; plural.&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;but sometimes weird when generate them \ud83d\ude05&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "1721fb16-af75-11e4-8726-22000bc18a73", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "guuqg5", "is_robot_indexable": true, "report_reasons": null, "author": "we_are_noknow", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/guuqg5/conventions/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/guuqg5/conventions/", "subreddit_subscribers": 44315, "created_utc": 1591050948.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Suppose I would like to add a condition inside a transaction block which would raise an exception that would be raised, rescued, but I would still like all previous saves to be rolled back:\n\n    ActiveRecord::Base.transaction do\n        object1.save!\n        object2.save!\n        if condition_is_met\n            raise CustomNameStandardError.new error_msg_string\n        end\n        object3.save!\n    rescue CustomNameStandardError =&gt; e\n        flash[:danger] = e.message\n        redirect_to page\n    end\n\nwith defining CustomNameStandardError within the same controller class like so\n\n    class CustomNameStandardError &lt; StandardError; end\n\nThis will not rollback saves to object1 and object2. This is because by rescuing the exception I do not trigger rollback. How can I trigger rollback, but still be able to redirect myself back to the current page with an error message?\n\n**EDIT: I found the answer and should have read the docs carefully. Apperantly raising ActiveRecord::Rollback does exactly what I wanted in my post:**\n\n    ActiveRecord::Base.transaction do\n        object1.save!\n        object2.save!\n        if condition_is_met\n            flash[:danger] = error_msg_string\n            raise ActiveRecord::Rollback\n        end\n        object3.save!\n        redirect_to success_page\n    end\n    \n    redirect_to where_i_came_from", "author_fullname": "t2_3sweig51", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How to rescue custom exceptionin transaction block while still rolling back everything?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_guk18l", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 10, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 10, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1591016838.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1591044450.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Suppose I would like to add a condition inside a transaction block which would raise an exception that would be raised, rescued, but I would still like all previous saves to be rolled back:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;ActiveRecord::Base.transaction do\n    object1.save!\n    object2.save!\n    if condition_is_met\n        raise CustomNameStandardError.new error_msg_string\n    end\n    object3.save!\nrescue CustomNameStandardError =&amp;gt; e\n    flash[:danger] = e.message\n    redirect_to page\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;with defining CustomNameStandardError within the same controller class like so&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;class CustomNameStandardError &amp;lt; StandardError; end\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This will not rollback saves to object1 and object2. This is because by rescuing the exception I do not trigger rollback. How can I trigger rollback, but still be able to redirect myself back to the current page with an error message?&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;EDIT: I found the answer and should have read the docs carefully. Apperantly raising ActiveRecord::Rollback does exactly what I wanted in my post:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;ActiveRecord::Base.transaction do\n    object1.save!\n    object2.save!\n    if condition_is_met\n        flash[:danger] = error_msg_string\n        raise ActiveRecord::Rollback\n    end\n    object3.save!\n    redirect_to success_page\nend\n\nredirect_to where_i_came_from\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "guk18l", "is_robot_indexable": true, "report_reasons": null, "author": "railsprogrammer94", "discussion_type": null, "num_comments": 5, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/guk18l/how_to_rescue_custom_exceptionin_transaction/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/guk18l/how_to_rescue_custom_exceptionin_transaction/", "subreddit_subscribers": 44315, "created_utc": 1591015650.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hey there Rails community! I am building a beginner web app . \n\nThe app contains users that register/log in (using devise) and bus tickets that are shown on the welcome page. Everyone can see the bus tickets, but only users that are registered+logged in can buy (its fake buying :D). Additionally, users that have bought the ticket have the option to cancel it (no later than 1 hour before bus starts).\n\nThe tricky part here for me is how to display the tickets that the user already bought, and then to add the option of cancelling. I thought maybe to add a third table that would connect users and tickets, and then display that on the \"My tickets\" page? Not sure how to accomplish that. \n\nIf anyone could chip in with a bit of advice I would be really grateful! Thanks guys.\n\ntickets(bus:string, time:datetime, quantity:integer, price:integer)\nusers (standard devise table with email, password and so on)", "author_fullname": "t2_8plnz", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Absolute beginner building a web app! :D", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_gugj7a", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.9, "author_flair_background_color": null, "subreddit_type": "public", "ups": 8, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 8, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1591027563.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey there Rails community! I am building a beginner web app . &lt;/p&gt;\n\n&lt;p&gt;The app contains users that register/log in (using devise) and bus tickets that are shown on the welcome page. Everyone can see the bus tickets, but only users that are registered+logged in can buy (its fake buying :D). Additionally, users that have bought the ticket have the option to cancel it (no later than 1 hour before bus starts).&lt;/p&gt;\n\n&lt;p&gt;The tricky part here for me is how to display the tickets that the user already bought, and then to add the option of cancelling. I thought maybe to add a third table that would connect users and tickets, and then display that on the &amp;quot;My tickets&amp;quot; page? Not sure how to accomplish that. &lt;/p&gt;\n\n&lt;p&gt;If anyone could chip in with a bit of advice I would be really grateful! Thanks guys.&lt;/p&gt;\n\n&lt;p&gt;tickets(bus:string, time:datetime, quantity:integer, price:integer)\nusers (standard devise table with email, password and so on)&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gugj7a", "is_robot_indexable": true, "report_reasons": null, "author": "daredevil1302", "discussion_type": null, "num_comments": 7, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/gugj7a/absolute_beginner_building_a_web_app_d/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/gugj7a/absolute_beginner_building_a_web_app_d/", "subreddit_subscribers": 44315, "created_utc": 1590998763.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hi all,  \n\n\nHaving trouble implementing a coding challenge.  \n\n\nSo I have an array of objects:\n\n    [{\n        :color=&gt;\"red\",\n        :fruit=&gt;\"apple\"\n      },\n      {\n        :color=&gt;\"green\",\n        :fruit=&gt;\"pear\"\n      },\n      {\n        :color=&gt;\"red\",\n        :fruit=&gt;\"tomato\"\n      }]\n\nNow, I want to sort this into separate arrays so that I can count the number of fruit of each color. So in this case I'll have one array with `apple` and `tomato`, and another with `pear`.  \n\n\nOne additional catch is that I can have infinite fruit to sort, and I can have infinite different colors represented by the fruit, and I don't know what those colors will be. So this method needs to be dynamic enough to handle that.  \n\n\nI just need it to recognise each unique color which is present in the objects within the array, and then put them in a corresponding array of other fruits of that unique color. So desired output will in this case be:  \n\n\n    [\n      {\n        :color=&gt;\"red\",\n        :fruit=&gt;\"apple\"\n      },\n      {\n        :color=&gt;\"red\",\n        :fruit=&gt;\"tomato\"\n      }\n    ],\n    [\n      {\n        :color=&gt;\"green\",\n        :fruit=&gt;\"pear\"\n      }\n    ]\n\n\nHope this makes sense.  \n\n\nThanks", "author_fullname": "t2_xktv3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How can I sort an array of hashes into separate arrays based on key value uniqueness?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_gu8nmc", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.82, "author_flair_background_color": null, "subreddit_type": "public", "ups": 7, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 7, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1590993730.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi all,  &lt;/p&gt;\n\n&lt;p&gt;Having trouble implementing a coding challenge.  &lt;/p&gt;\n\n&lt;p&gt;So I have an array of objects:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;[{\n    :color=&amp;gt;&amp;quot;red&amp;quot;,\n    :fruit=&amp;gt;&amp;quot;apple&amp;quot;\n  },\n  {\n    :color=&amp;gt;&amp;quot;green&amp;quot;,\n    :fruit=&amp;gt;&amp;quot;pear&amp;quot;\n  },\n  {\n    :color=&amp;gt;&amp;quot;red&amp;quot;,\n    :fruit=&amp;gt;&amp;quot;tomato&amp;quot;\n  }]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Now, I want to sort this into separate arrays so that I can count the number of fruit of each color. So in this case I&amp;#39;ll have one array with &lt;code&gt;apple&lt;/code&gt; and &lt;code&gt;tomato&lt;/code&gt;, and another with &lt;code&gt;pear&lt;/code&gt;.  &lt;/p&gt;\n\n&lt;p&gt;One additional catch is that I can have infinite fruit to sort, and I can have infinite different colors represented by the fruit, and I don&amp;#39;t know what those colors will be. So this method needs to be dynamic enough to handle that.  &lt;/p&gt;\n\n&lt;p&gt;I just need it to recognise each unique color which is present in the objects within the array, and then put them in a corresponding array of other fruits of that unique color. So desired output will in this case be:  &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;[\n  {\n    :color=&amp;gt;&amp;quot;red&amp;quot;,\n    :fruit=&amp;gt;&amp;quot;apple&amp;quot;\n  },\n  {\n    :color=&amp;gt;&amp;quot;red&amp;quot;,\n    :fruit=&amp;gt;&amp;quot;tomato&amp;quot;\n  }\n],\n[\n  {\n    :color=&amp;gt;&amp;quot;green&amp;quot;,\n    :fruit=&amp;gt;&amp;quot;pear&amp;quot;\n  }\n]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Hope this makes sense.  &lt;/p&gt;\n\n&lt;p&gt;Thanks&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gu8nmc", "is_robot_indexable": true, "report_reasons": null, "author": "spinsilo", "discussion_type": null, "num_comments": 8, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/gu8nmc/how_can_i_sort_an_array_of_hashes_into_separate/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/gu8nmc/how_can_i_sort_an_array_of_hashes_into_separate/", "subreddit_subscribers": 44315, "created_utc": 1590964930.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I took something I learned with rails and revisited JavaEE recreating the rails crud with JSF, it is not fashionable but seems better than nowaday development.  Rails developers can identify what I did here?  [JSF-PERFECT-CRUD](https://github.com/lazaronixon/jsf-perfect-crud)", "author_fullname": "t2_3jx09i", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "JavaEE ala Rails", "link_flair_richtext": [{"e": "text", "t": "Discussion"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "discussion", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_gu4h9q", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.89, "author_flair_background_color": null, "subreddit_type": "public", "ups": 7, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Discussion", "can_mod_post": false, "score": 7, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1590979586.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I took something I learned with rails and revisited JavaEE recreating the rails crud with JSF, it is not fashionable but seems better than nowaday development.  Rails developers can identify what I did here?  &lt;a href=\"https://github.com/lazaronixon/jsf-perfect-crud\"&gt;JSF-PERFECT-CRUD&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "a5131406-c185-11e4-b5eb-22000bc14795", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "gu4h9q", "is_robot_indexable": true, "report_reasons": null, "author": "lazaronixon", "discussion_type": null, "num_comments": 13, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/gu4h9q/javaee_ala_rails/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/gu4h9q/javaee_ala_rails/", "subreddit_subscribers": 44315, "created_utc": 1590950786.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_gu4h9q", "before": null}}