{"kind": "Listing", "data": {"modhash": "", "dist": 11, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "In this thread you can showcase your personal pet project to other redditors.\n\nNeed help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!\n\nA suggested format to get you started:\n\n1. **Name of your project**\n2. **A short description**\n3. **Application stack**\n4. **Link to Live app**\n5. **Link to GitHub**\n6. **You experience level**\n7. **Other information or areas that you would like advice on**\n\n\u00a0\n\n^(Many thanks to Kritnc for getting the ball rolling.)", "author_fullname": "t2_6l4z3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Personal Projects - Show off your own project and/or ask for advice", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hja8kx", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 6, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 6, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1593639168.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;In this thread you can showcase your personal pet project to other redditors.&lt;/p&gt;\n\n&lt;p&gt;Need help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!&lt;/p&gt;\n\n&lt;p&gt;A suggested format to get you started:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;Name of your project&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;A short description&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Application stack&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to Live app&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to GitHub&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;You experience level&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Other information or areas that you would like advice on&lt;/strong&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;\u00a0&lt;/p&gt;\n\n&lt;p&gt;&lt;sup&gt;Many thanks to Kritnc for getting the ball rolling.&lt;/sup&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hja8kx", "is_robot_indexable": true, "report_reasons": null, "author": "AutoModerator", "discussion_type": null, "num_comments": 0, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hja8kx/personal_projects_show_off_your_own_project_andor/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rails/comments/hja8kx/personal_projects_show_off_your_own_project_andor/", "subreddit_subscribers": 44908, "created_utc": 1593610368.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I am currently working on integrating friendly_id gem into some of the models in Talenox. Basically, it makes our in app URLs look nicer with human and company names in front, instead of just incremental primary key IDs. Oh boy\u2026 `Employee.all.each(&amp;:save)` is fucking slow in production.\n\nThere are several things that can cause update and insert to slow down a lot for an ActiveRecord model:\n\n* Validations - especially when it involves multiple models\n* Callbacks - especially when they cause a chain of callbacks in other models\n* `belongs_to :parent, touch: true` - technically a callback to bust russian doll caches, but adding a slug does not necessitate busting caches\n\nGuess what, we can skip all those. How? By backfilling with an empty model class.\n\nAssuming we have an Employee model with a relation employees, what you can do is: Create an ActiveRecord model class in that migration class with none of the callbacks EXCEPT friendly_id and slug_candidate method.\n\n    class BackfillEmployeesWithFriendlyId &lt; ActiveRecord::Migration[5.0]\n    \n      # Using a blank class allows us to easily skip all callbacks that can make\n      # mass migration slow.\n      class FriendlyIdEmployee &lt; ActiveRecord::Base\n        self.table_name = 'employees'\n        extend FriendlyId\n        friendly_id :slug_candidate, use: [:slugged, :finders]\n    \n        def slug_candidate\n          if first_name || last_name\n            \"#{first_name} #{last_name}\"[0, 20]\n          else\n            \"employee\"\n          end + \" #{SecureRandom.hex[0, 8]}\"\n        end\n      end\n    \n      def up\n        print \"Updating friendly_id slug for employees\"\n        FriendlyIdEmployee.where(slug: nil).each do |row|\n          row.save; print('.')\n        end\n        puts ''\n      end\n    end\n    \nHowever, I couldn\u2019t get the friendly_id history plug in to work properly yet. friendly_id history is implemented using ActiveRecord polymorphic. When the backfilling migration above is run, it will end up creating FriendlyId::Slug records with sluggable type of `BackfillEmployeesWithFriendlyId::FriendlyIdEmployee` instead of just `Employee`. That also means you can\u2019t do subclassing of ActiveRecord models with friendly_id and expect history to work. Luckily we don\u2019t need it.\n\n[Source](https://anonoz.github.io/tech/2020/07/08/faster-friendly_id-mass-migration.html)", "author_fullname": "t2_1smql8y", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How to make friendly_id backfilling migration faster? You can skip all the callbacks.", "link_flair_richtext": [{"e": "text", "t": "Tutorial"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "tutorial", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hndvj5", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.88, "author_flair_background_color": null, "subreddit_type": "public", "ups": 6, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Tutorial", "can_mod_post": false, "score": 6, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594228733.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I am currently working on integrating friendly_id gem into some of the models in Talenox. Basically, it makes our in app URLs look nicer with human and company names in front, instead of just incremental primary key IDs. Oh boy\u2026 &lt;code&gt;Employee.all.each(&amp;amp;:save)&lt;/code&gt; is fucking slow in production.&lt;/p&gt;\n\n&lt;p&gt;There are several things that can cause update and insert to slow down a lot for an ActiveRecord model:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Validations - especially when it involves multiple models&lt;/li&gt;\n&lt;li&gt;Callbacks - especially when they cause a chain of callbacks in other models&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;belongs_to :parent, touch: true&lt;/code&gt; - technically a callback to bust russian doll caches, but adding a slug does not necessitate busting caches&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Guess what, we can skip all those. How? By backfilling with an empty model class.&lt;/p&gt;\n\n&lt;p&gt;Assuming we have an Employee model with a relation employees, what you can do is: Create an ActiveRecord model class in that migration class with none of the callbacks EXCEPT friendly_id and slug_candidate method.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;class BackfillEmployeesWithFriendlyId &amp;lt; ActiveRecord::Migration[5.0]\n\n  # Using a blank class allows us to easily skip all callbacks that can make\n  # mass migration slow.\n  class FriendlyIdEmployee &amp;lt; ActiveRecord::Base\n    self.table_name = &amp;#39;employees&amp;#39;\n    extend FriendlyId\n    friendly_id :slug_candidate, use: [:slugged, :finders]\n\n    def slug_candidate\n      if first_name || last_name\n        &amp;quot;#{first_name} #{last_name}&amp;quot;[0, 20]\n      else\n        &amp;quot;employee&amp;quot;\n      end + &amp;quot; #{SecureRandom.hex[0, 8]}&amp;quot;\n    end\n  end\n\n  def up\n    print &amp;quot;Updating friendly_id slug for employees&amp;quot;\n    FriendlyIdEmployee.where(slug: nil).each do |row|\n      row.save; print(&amp;#39;.&amp;#39;)\n    end\n    puts &amp;#39;&amp;#39;\n  end\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;However, I couldn\u2019t get the friendly_id history plug in to work properly yet. friendly_id history is implemented using ActiveRecord polymorphic. When the backfilling migration above is run, it will end up creating FriendlyId::Slug records with sluggable type of &lt;code&gt;BackfillEmployeesWithFriendlyId::FriendlyIdEmployee&lt;/code&gt; instead of just &lt;code&gt;Employee&lt;/code&gt;. That also means you can\u2019t do subclassing of ActiveRecord models with friendly_id and expect history to work. Luckily we don\u2019t need it.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://anonoz.github.io/tech/2020/07/08/faster-friendly_id-mass-migration.html\"&gt;Source&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "2a348462-af75-11e4-abe9-22000b3d0989", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hndvj5", "is_robot_indexable": true, "report_reasons": null, "author": "TheWolfOfBlk71", "discussion_type": null, "num_comments": 6, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hndvj5/how_to_make_friendly_id_backfilling_migration/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hndvj5/how_to_make_friendly_id_backfilling_migration/", "subreddit_subscribers": 44908, "created_utc": 1594199933.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I have an ecommerce app on rails and was wondering what's the best architecture for ordering products on a page. I'm aware of how to use .order(:table_attribute), but was wondering if there is a cleaner/more dynamic way to bubble offerings to the top that you want to highlight. Any recommended practices for this?", "author_fullname": "t2_kd61d", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Best architecture for preferred sort for e-commerce products?", "link_flair_richtext": [{"e": "text", "t": "Architecture"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "architecture", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hn78ue", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 8, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Architecture", "can_mod_post": false, "score": 8, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594198885.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have an ecommerce app on rails and was wondering what&amp;#39;s the best architecture for ordering products on a page. I&amp;#39;m aware of how to use .order(:table_attribute), but was wondering if there is a cleaner/more dynamic way to bubble offerings to the top that you want to highlight. Any recommended practices for this?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "3deb1b86-b085-11e4-ac4b-22000b3c80d5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hn78ue", "is_robot_indexable": true, "report_reasons": null, "author": "Teucer90", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hn78ue/best_architecture_for_preferred_sort_for/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hn78ue/best_architecture_for_preferred_sort_for/", "subreddit_subscribers": 44908, "created_utc": 1594170085.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I am looking for ways to work on an external (i.e. not the rails-backend) database from within a rails app, preferably in a very user-friendly and powerful way like ActiveAdmin/Rails\\_admin allow. \n\n&amp;#x200B;\n\nDoes anyone know of a ready-made solution? To my knowledge you can't just point the two former tools to a different DB.", "author_fullname": "t2_77a90tlb", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Database administration tool like ActiveAdmin/Rails_admin", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hnchui", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594221122.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I am looking for ways to work on an external (i.e. not the rails-backend) database from within a rails app, preferably in a very user-friendly and powerful way like ActiveAdmin/Rails_admin allow. &lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;Does anyone know of a ready-made solution? To my knowledge you can&amp;#39;t just point the two former tools to a different DB.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hnchui", "is_robot_indexable": true, "report_reasons": null, "author": "PerspectiveUpbeat354", "discussion_type": null, "num_comments": 4, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hnchui/database_administration_tool_like/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hnchui/database_administration_tool_like/", "subreddit_subscribers": 44908, "created_utc": 1594192322.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "We have a relatively new Rails API project (full Rails, not API only) that is using ActiveModelSerializer. We're considering switching due to some frustrations with the project, it's documentation, the current state of it, and a desire to get away from the confusing DSL. If you were starting a new project is there a serializer you recommend? fast-json-api comes to mind, but I haven't fully explored all the alternatives.", "author_fullname": "t2_l098n", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "If you were creating a new Rails API, what serializer would you use and why?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hmymab", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.96, "author_flair_background_color": null, "subreddit_type": "public", "ups": 20, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 20, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594170670.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;We have a relatively new Rails API project (full Rails, not API only) that is using ActiveModelSerializer. We&amp;#39;re considering switching due to some frustrations with the project, it&amp;#39;s documentation, the current state of it, and a desire to get away from the confusing DSL. If you were starting a new project is there a serializer you recommend? fast-json-api comes to mind, but I haven&amp;#39;t fully explored all the alternatives.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hmymab", "is_robot_indexable": true, "report_reasons": null, "author": "justaguy1020", "discussion_type": null, "num_comments": 36, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hmymab/if_you_were_creating_a_new_rails_api_what/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hmymab/if_you_were_creating_a_new_rails_api_what/", "subreddit_subscribers": 44908, "created_utc": 1594141870.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "The ruby documentation for Stripe is specific to Sinatra and not rails. Heroku for the ruby documentation also defaults to Sinatra, and has Rails in a separate section. With rails being the most popular ruby framework, is there some a reason these products don't include rails as the default? Is there some historical reason for this? Just curious.", "author_fullname": "t2_152zr1", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Why does Stripe only have documentation for Sinatra?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hn72ht", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594198213.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;The ruby documentation for Stripe is specific to Sinatra and not rails. Heroku for the ruby documentation also defaults to Sinatra, and has Rails in a separate section. With rails being the most popular ruby framework, is there some a reason these products don&amp;#39;t include rails as the default? Is there some historical reason for this? Just curious.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hn72ht", "is_robot_indexable": true, "report_reasons": null, "author": "1meese", "discussion_type": null, "num_comments": 5, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hn72ht/why_does_stripe_only_have_documentation_for/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hn72ht/why_does_stripe_only_have_documentation_for/", "subreddit_subscribers": 44908, "created_utc": 1594169413.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Here's a salary poll for the group, if anybody's interested in playing.\n\nIf so, how about some guidelines?\n\n- amounts are in USD (or equivalent)\n- intended for those working as FTE doing Rails/Ruby work either mostly or exclusively\n\nCan contractors play too? I think so, but too bad there's no radio button option.\n\nShould amounts include total compensation?\n\n[View Poll](https://www.reddit.com/poll/hn6p3s)", "author_fullname": "t2_5qu29772", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "r/rails salary poll", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hn6p3s", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.6, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 1, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594196827.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Here&amp;#39;s a salary poll for the group, if anybody&amp;#39;s interested in playing.&lt;/p&gt;\n\n&lt;p&gt;If so, how about some guidelines?&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;amounts are in USD (or equivalent)&lt;/li&gt;\n&lt;li&gt;intended for those working as FTE doing Rails/Ruby work either mostly or exclusively&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Can contractors play too? I think so, but too bad there&amp;#39;s no radio button option.&lt;/p&gt;\n\n&lt;p&gt;Should amounts include total compensation?&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://www.reddit.com/poll/hn6p3s\"&gt;View Poll&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hn6p3s", "is_robot_indexable": true, "report_reasons": null, "author": "hk492", "discussion_type": null, "num_comments": 13, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "poll_data": {"user_selection": null, "options": [{"text": "$50,000 - $100,000", "id": "1767639"}, {"text": "$100,000 - $150,000", "id": "1767640"}, {"text": "$150,000 - $200,000", "id": "1767641"}, {"text": "$200,000 - $250,000", "id": "1767642"}, {"text": "$250,000+", "id": "1767643"}], "voting_end_timestamp": 1594772827947, "total_vote_count": 177}, "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hn6p3s/rrails_salary_poll/", "parent_whitelist_status": "all_ads", "stickied": false, "mod_reports": [], "url": "https://www.reddit.com/r/rails/comments/hn6p3s/rrails_salary_poll/", "subreddit_subscribers": 44908, "created_utc": 1594168027.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Greetings guys. \n\nI was searching about JWT authentication in rails, and first I found this guy explained how you can make an API with JWT authentication system : \n\n[https://medium.com/@nandhae/2019-how-i-set-up-authentication-with-jwt-in-just-a-few-lines-of-code-with-rails-5-api-devise-9db7d3cee2c0](https://medium.com/@nandhae/2019-how-i-set-up-authentication-with-jwt-in-just-a-few-lines-of-code-with-rails-5-api-devise-9db7d3cee2c0) \n\nhe uses devise, which is really good. but I couldn't find how I can do signup and sign-in and get tokens, etc. Should I write methods? (his git project didn't have methods written). \n\nAnd I also find this one: \n\n[https://medium.com/better-programming/build-a-rails-api-with-jwt-61fb8a52d833](https://medium.com/better-programming/build-a-rails-api-with-jwt-61fb8a52d833)\n\nand this guy, created user model himself. I think it's less secure and became my second priority to implement my project like this. \n\nSo, I ask you guys, do you have any advice/guide for me?", "author_fullname": "t2_1lai2din", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Creating a rest API with devise-jwt, advice and guide needed", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hmwm3s", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.67, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 3, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594164381.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Greetings guys. &lt;/p&gt;\n\n&lt;p&gt;I was searching about JWT authentication in rails, and first I found this guy explained how you can make an API with JWT authentication system : &lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://medium.com/@nandhae/2019-how-i-set-up-authentication-with-jwt-in-just-a-few-lines-of-code-with-rails-5-api-devise-9db7d3cee2c0\"&gt;https://medium.com/@nandhae/2019-how-i-set-up-authentication-with-jwt-in-just-a-few-lines-of-code-with-rails-5-api-devise-9db7d3cee2c0&lt;/a&gt; &lt;/p&gt;\n\n&lt;p&gt;he uses devise, which is really good. but I couldn&amp;#39;t find how I can do signup and sign-in and get tokens, etc. Should I write methods? (his git project didn&amp;#39;t have methods written). &lt;/p&gt;\n\n&lt;p&gt;And I also find this one: &lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://medium.com/better-programming/build-a-rails-api-with-jwt-61fb8a52d833\"&gt;https://medium.com/better-programming/build-a-rails-api-with-jwt-61fb8a52d833&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;and this guy, created user model himself. I think it&amp;#39;s less secure and became my second priority to implement my project like this. &lt;/p&gt;\n\n&lt;p&gt;So, I ask you guys, do you have any advice/guide for me?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hmwm3s", "is_robot_indexable": true, "report_reasons": null, "author": "Haghiri75", "discussion_type": null, "num_comments": 4, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hmwm3s/creating_a_rest_api_with_devisejwt_advice_and/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hmwm3s/creating_a_rest_api_with_devisejwt_advice_and/", "subreddit_subscribers": 44908, "created_utc": 1594135581.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I am trying to update a product model and also create any new option\\_types/option\\_values at that time. I am getting an error that option\\_type is an unpermitted parameter. I'm all tripped up on this. Any ideas what I have wrong?\n\n    09:51:10 web.1     |   \u21b3 app/controllers/admin/products_controller.rb:88:in `set_product'\n    09:51:10 web.1     | Unpermitted parameter: :option_type\n    09:51:10 web.1     | Redirected to http://localhost:5000/admin/products/30\n\nproducts form section:\n\n&amp;#x200B;\n\n    &lt;%= form_with(model: [:admin, product], local: true) do |form| %&gt;        \n    \n    &lt;div class=\"pt-8\" &gt;\n              &lt;div class=\"grid md:grid-cols-1 row-gap-6 col-gap-4 lg:grid-cols-3\"&gt;\n    \n               &lt;% u/option_types.each do |option_type| %&gt;\n                 &lt;%= content_tag :tr, id: dom_id(option_type), class: dom_class(option_type) do %&gt;\n                   &lt;td&gt;&lt;%= link_to option_type.name, edit_admin_product_option_type_path(@product, option_type.id) %&gt;&lt;/td&gt;\n                 &lt;% end %&gt;\n               &lt;% end %&gt;\n    \n               &lt;%= form.fields_for :option_type, OptionType.new do |options|%&gt;\n    \n                 &lt;div&gt;\n                   &lt;%= options.label \"Option Type Name\", class: \"text-gray-700\" %&gt;\n                   &lt;%= options.text_field :name, class: 'w-full mt-2 px-4 py-2 block rounded bg-gray-200 text-gray-800 border border-gray-300 focus:outline-none focus:bg-white' %&gt;\n                 &lt;/div&gt;\n    \n                 &lt;div data-controller=\"nested-form\"&gt;\n                   &lt;%= options.fields_for :option_values, OptionValue.new, child_index: 'NEW_RECORD' do |ov| %&gt;\n                     &lt;%= render \"admin/option_types/option_values_fields\", form: ov %&gt;\n                   &lt;% end %&gt;\n                 &lt;/div&gt;\n    \n                 &lt;div class=\"form-group\"&gt;\n                   &lt;%= options.hidden_field 'product_id', :value =&gt; params[:product_id] %&gt;\n                   &lt;%= options.submit class: 'inline-block px-5 py-3 shadow-lg rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 cursor-pointer' %&gt;\n                 &lt;/div&gt;\n    \n               &lt;% end %&gt;\n             &lt;/div&gt;\n          &lt;/div&gt;\n    &lt;% end %&gt;\n\n&amp;#x200B;\n\nproduct Controller:\n\n&amp;#x200B;\n\n    class Admin::ProductsController &lt; Admin::ApplicationController\n      before_action :set_product, only: [:show, :edit, :update, :destroy]\n    \n      # GET /products\n      # GET /products.json\n      def index\n    \n        @products = Product.all\n        add_breadcrumb('Products')\n        @pagetitle = \"View Products\"\n      end\n    \n      # GET /products/1\n      # GET /products/1.json\n      def show\n      end\n    \n      # GET /products/new\n      def new\n        @option_types = @product.option_types\n        @product = Product.new\n        add_breadcrumb('Products', admin_products_path)\n        add_breadcrumb(@product.name)\n        @pagetitle = \"Create Product\"\n      end\n    \n      # GET /products/1/edit\n      def edit\n        @option_types = @product.option_types\n        add_breadcrumb('Products', admin_products_path)\n        add_breadcrumb(@product.name)\n        @pagetitle = \"Edit Product\"\n      end\n    \n      # POST /products\n      # POST /products.json\n      def create\n        @product = Product.new(product_params)\n    \n        respond_to do |format|\n          if @product.save\n    \n            format.html { redirect_to admin_products_url, notice: 'Product was successfully created.' }\n            format.json { render :show, status: :created, location: @product }\n          else\n            format.html { render :new }\n            format.json { render json: @product.errors, status: :unprocessable_entity }\n          end\n        end\n      end\n    \n      # PATCH/PUT /products/1\n      # PATCH/PUT /products/1.json\n      def update\n        respond_to do |format|\n          if @product.update(product_params)\n    \n            format.html { redirect_to admin_product_url, notice: 'Product was successfully updated.' }\n            format.json { render :show, status: :ok, location: @product }\n          else\n            format.html { render :edit }\n            format.json { render json: @product.errors, status: :unprocessable_entity }\n          end\n        end\n      end\n    \n      # DELETE /products/1\n      # DELETE /products/1.json\n      def destroy\n        @product.destroy\n        respond_to do |format|\n          format.html { redirect_to admin_products_url, notice: 'Product was successfully destroyed.' }\n          format.json { head :no_content }\n        end\n      end\n    \n      def delete_image_attachment\n        @image = ActiveStorage::Attachment.find(params[:id])\n        @image.purge\n        redirect_back(fallback_location: request.referer)\n      end\n    \n    \n      private\n        # Use callbacks to share common setup or constraints between actions.\n        def set_product\n          @product = Product.find(params[:id])\n        end\n    \n        # Only allow a list of trusted parameters through.\n        def product_params\n          params.require(:product).permit(:name, :description, :available_on, :slug, :meta_description, :meta_keywords, :price, :main_image, :option_type_id, :option_type, images: [])\n        end\n    end\n\nproduct model:\n\n    class Product &lt; ApplicationRecord\n      has_many_attached :images, :dependent =&gt; :delete_all\n      has_one_attached :main_image, :dependent =&gt; :delete_all\n      has_many :product_option_types, dependent: :destroy, inverse_of: :product\n      has_many :option_types, through: :product_option_types, dependent: :destroy\n      accepts_nested_attributes_for :option_types\n      has_many :variants, inverse_of: :product, dependent: :destroy\n    end\n\noption\\_type model:\n\n    class OptionType &lt; ApplicationRecord\n      belongs_to :product\n      has_many :option_values, dependent: :destroy\n      accepts_nested_attributes_for :option_values, reject_if: :all_blank, allow_destroy: true\n      has_many :product_option_types, dependent: :destroy\n    end", "author_fullname": "t2_b2i6s", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Unpermitted Parameter", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hmuzt3", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 4, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 4, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1594131643.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594159022.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I am trying to update a product model and also create any new option_types/option_values at that time. I am getting an error that option_type is an unpermitted parameter. I&amp;#39;m all tripped up on this. Any ideas what I have wrong?&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;09:51:10 web.1     |   \u21b3 app/controllers/admin/products_controller.rb:88:in `set_product&amp;#39;\n09:51:10 web.1     | Unpermitted parameter: :option_type\n09:51:10 web.1     | Redirected to http://localhost:5000/admin/products/30\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;products form section:&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;&amp;lt;%= form_with(model: [:admin, product], local: true) do |form| %&amp;gt;        \n\n&amp;lt;div class=&amp;quot;pt-8&amp;quot; &amp;gt;\n          &amp;lt;div class=&amp;quot;grid md:grid-cols-1 row-gap-6 col-gap-4 lg:grid-cols-3&amp;quot;&amp;gt;\n\n           &amp;lt;% u/option_types.each do |option_type| %&amp;gt;\n             &amp;lt;%= content_tag :tr, id: dom_id(option_type), class: dom_class(option_type) do %&amp;gt;\n               &amp;lt;td&amp;gt;&amp;lt;%= link_to option_type.name, edit_admin_product_option_type_path(@product, option_type.id) %&amp;gt;&amp;lt;/td&amp;gt;\n             &amp;lt;% end %&amp;gt;\n           &amp;lt;% end %&amp;gt;\n\n           &amp;lt;%= form.fields_for :option_type, OptionType.new do |options|%&amp;gt;\n\n             &amp;lt;div&amp;gt;\n               &amp;lt;%= options.label &amp;quot;Option Type Name&amp;quot;, class: &amp;quot;text-gray-700&amp;quot; %&amp;gt;\n               &amp;lt;%= options.text_field :name, class: &amp;#39;w-full mt-2 px-4 py-2 block rounded bg-gray-200 text-gray-800 border border-gray-300 focus:outline-none focus:bg-white&amp;#39; %&amp;gt;\n             &amp;lt;/div&amp;gt;\n\n             &amp;lt;div data-controller=&amp;quot;nested-form&amp;quot;&amp;gt;\n               &amp;lt;%= options.fields_for :option_values, OptionValue.new, child_index: &amp;#39;NEW_RECORD&amp;#39; do |ov| %&amp;gt;\n                 &amp;lt;%= render &amp;quot;admin/option_types/option_values_fields&amp;quot;, form: ov %&amp;gt;\n               &amp;lt;% end %&amp;gt;\n             &amp;lt;/div&amp;gt;\n\n             &amp;lt;div class=&amp;quot;form-group&amp;quot;&amp;gt;\n               &amp;lt;%= options.hidden_field &amp;#39;product_id&amp;#39;, :value =&amp;gt; params[:product_id] %&amp;gt;\n               &amp;lt;%= options.submit class: &amp;#39;inline-block px-5 py-3 shadow-lg rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 cursor-pointer&amp;#39; %&amp;gt;\n             &amp;lt;/div&amp;gt;\n\n           &amp;lt;% end %&amp;gt;\n         &amp;lt;/div&amp;gt;\n      &amp;lt;/div&amp;gt;\n&amp;lt;% end %&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;product Controller:&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;class Admin::ProductsController &amp;lt; Admin::ApplicationController\n  before_action :set_product, only: [:show, :edit, :update, :destroy]\n\n  # GET /products\n  # GET /products.json\n  def index\n\n    @products = Product.all\n    add_breadcrumb(&amp;#39;Products&amp;#39;)\n    @pagetitle = &amp;quot;View Products&amp;quot;\n  end\n\n  # GET /products/1\n  # GET /products/1.json\n  def show\n  end\n\n  # GET /products/new\n  def new\n    @option_types = @product.option_types\n    @product = Product.new\n    add_breadcrumb(&amp;#39;Products&amp;#39;, admin_products_path)\n    add_breadcrumb(@product.name)\n    @pagetitle = &amp;quot;Create Product&amp;quot;\n  end\n\n  # GET /products/1/edit\n  def edit\n    @option_types = @product.option_types\n    add_breadcrumb(&amp;#39;Products&amp;#39;, admin_products_path)\n    add_breadcrumb(@product.name)\n    @pagetitle = &amp;quot;Edit Product&amp;quot;\n  end\n\n  # POST /products\n  # POST /products.json\n  def create\n    @product = Product.new(product_params)\n\n    respond_to do |format|\n      if @product.save\n\n        format.html { redirect_to admin_products_url, notice: &amp;#39;Product was successfully created.&amp;#39; }\n        format.json { render :show, status: :created, location: @product }\n      else\n        format.html { render :new }\n        format.json { render json: @product.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n\n  # PATCH/PUT /products/1\n  # PATCH/PUT /products/1.json\n  def update\n    respond_to do |format|\n      if @product.update(product_params)\n\n        format.html { redirect_to admin_product_url, notice: &amp;#39;Product was successfully updated.&amp;#39; }\n        format.json { render :show, status: :ok, location: @product }\n      else\n        format.html { render :edit }\n        format.json { render json: @product.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n\n  # DELETE /products/1\n  # DELETE /products/1.json\n  def destroy\n    @product.destroy\n    respond_to do |format|\n      format.html { redirect_to admin_products_url, notice: &amp;#39;Product was successfully destroyed.&amp;#39; }\n      format.json { head :no_content }\n    end\n  end\n\n  def delete_image_attachment\n    @image = ActiveStorage::Attachment.find(params[:id])\n    @image.purge\n    redirect_back(fallback_location: request.referer)\n  end\n\n\n  private\n    # Use callbacks to share common setup or constraints between actions.\n    def set_product\n      @product = Product.find(params[:id])\n    end\n\n    # Only allow a list of trusted parameters through.\n    def product_params\n      params.require(:product).permit(:name, :description, :available_on, :slug, :meta_description, :meta_keywords, :price, :main_image, :option_type_id, :option_type, images: [])\n    end\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;product model:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;class Product &amp;lt; ApplicationRecord\n  has_many_attached :images, :dependent =&amp;gt; :delete_all\n  has_one_attached :main_image, :dependent =&amp;gt; :delete_all\n  has_many :product_option_types, dependent: :destroy, inverse_of: :product\n  has_many :option_types, through: :product_option_types, dependent: :destroy\n  accepts_nested_attributes_for :option_types\n  has_many :variants, inverse_of: :product, dependent: :destroy\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;option_type model:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;class OptionType &amp;lt; ApplicationRecord\n  belongs_to :product\n  has_many :option_values, dependent: :destroy\n  accepts_nested_attributes_for :option_values, reject_if: :all_blank, allow_destroy: true\n  has_many :product_option_types, dependent: :destroy\nend\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hmuzt3", "is_robot_indexable": true, "report_reasons": null, "author": "spacerobotTR", "discussion_type": null, "num_comments": 8, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hmuzt3/unpermitted_parameter/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hmuzt3/unpermitted_parameter/", "subreddit_subscribers": 44908, "created_utc": 1594130222.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I want to create a form that lives in my app but I can then embed it into any other website that I give a piece of code to place into their website.\n\n&amp;#x200B;\n\nWhat is the best way to go about this with Rails?\n\n&amp;#x200B;\n\nI assume I should be using an iframe but wondering any obstacles I may need to watch out for and any opinions on how I should go about doing this?", "author_fullname": "t2_n8vlx", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How to create a form to embed into other websites?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hmrp3q", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.81, "author_flair_background_color": null, "subreddit_type": "public", "ups": 6, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 6, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594144719.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I want to create a form that lives in my app but I can then embed it into any other website that I give a piece of code to place into their website.&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;What is the best way to go about this with Rails?&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;I assume I should be using an iframe but wondering any obstacles I may need to watch out for and any opinions on how I should go about doing this?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hmrp3q", "is_robot_indexable": true, "report_reasons": null, "author": "unohowdashigo", "discussion_type": null, "num_comments": 9, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hmrp3q/how_to_create_a_form_to_embed_into_other_websites/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hmrp3q/how_to_create_a_form_to_embed_into_other_websites/", "subreddit_subscribers": 44908, "created_utc": 1594115919.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hey guys. I'm looking to get into rails development and I'm wondering if there are any recommended up to date resources. The JHU Coursera course seemed tempting but it is from 2015 and uses rails 4 which I feel like is a bad place to start. There's also the learn enough [railstutorial.org](https://railstutorial.org) which seems tempting, but I'd like to look around for a free resource first. \n\nAny recommendations and advice are appreciated.\n\nCheers.", "author_fullname": "t2_nla8d", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Up to date resource for starting to learn rails", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hmod8i", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.85, "author_flair_background_color": null, "subreddit_type": "public", "ups": 9, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 9, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594127792.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey guys. I&amp;#39;m looking to get into rails development and I&amp;#39;m wondering if there are any recommended up to date resources. The JHU Coursera course seemed tempting but it is from 2015 and uses rails 4 which I feel like is a bad place to start. There&amp;#39;s also the learn enough &lt;a href=\"https://railstutorial.org\"&gt;railstutorial.org&lt;/a&gt; which seems tempting, but I&amp;#39;d like to look around for a free resource first. &lt;/p&gt;\n\n&lt;p&gt;Any recommendations and advice are appreciated.&lt;/p&gt;\n\n&lt;p&gt;Cheers.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hmod8i", "is_robot_indexable": true, "report_reasons": null, "author": "the_endr", "discussion_type": null, "num_comments": 10, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/hmod8i/up_to_date_resource_for_starting_to_learn_rails/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/hmod8i/up_to_date_resource_for_starting_to_learn_rails/", "subreddit_subscribers": 44908, "created_utc": 1594098992.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_hmod8i", "before": null}}