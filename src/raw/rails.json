{"kind": "Listing", "data": {"modhash": "", "dist": 12, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Please use this thread to discuss **cool** but relatively **unknown** gems you've found.\n\nYou **should not** post popular gems such as [those listed in wiki](https://www.reddit.com/r/rails/wiki/index#wiki_popular_gems) that are already well known.\n\nPlease include a **description** and a **link** to the gem's homepage in your comment.", "author_fullname": "t2_6l4z3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Gimme Gems Thursdays - Found an awesome new gem? Post it here!", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jbmadq", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 14, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 14, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1602792387.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Please use this thread to discuss &lt;strong&gt;cool&lt;/strong&gt; but relatively &lt;strong&gt;unknown&lt;/strong&gt; gems you&amp;#39;ve found.&lt;/p&gt;\n\n&lt;p&gt;You &lt;strong&gt;should not&lt;/strong&gt; post popular gems such as &lt;a href=\"https://www.reddit.com/r/rails/wiki/index#wiki_popular_gems\"&gt;those listed in wiki&lt;/a&gt; that are already well known.&lt;/p&gt;\n\n&lt;p&gt;Please include a &lt;strong&gt;description&lt;/strong&gt; and a &lt;strong&gt;link&lt;/strong&gt; to the gem&amp;#39;s homepage in your comment.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jbmadq", "is_robot_indexable": true, "report_reasons": null, "author": "AutoModerator", "discussion_type": null, "num_comments": 1, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jbmadq/gimme_gems_thursdays_found_an_awesome_new_gem/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rails/comments/jbmadq/gimme_gems_thursdays_found_an_awesome_new_gem/", "subreddit_subscribers": 46353, "created_utc": 1602763587.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "In this thread you can showcase your personal pet project to other redditors.\n\nNeed help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!\n\nA suggested format to get you started:\n\n1. **Name of your project**\n2. **A short description**\n3. **Application stack**\n4. **Link to Live app**\n5. **Link to GitHub**\n6. **You experience level**\n7. **Other information or areas that you would like advice on**\n\n\u00a0\n\n^(Many thanks to Kritnc for getting the ball rolling.)", "author_fullname": "t2_6l4z3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Personal Projects - Show off your own project and/or ask for advice", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jfcv1r", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 14, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 14, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603315962.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;In this thread you can showcase your personal pet project to other redditors.&lt;/p&gt;\n\n&lt;p&gt;Need help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!&lt;/p&gt;\n\n&lt;p&gt;A suggested format to get you started:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;Name of your project&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;A short description&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Application stack&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to Live app&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to GitHub&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;You experience level&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Other information or areas that you would like advice on&lt;/strong&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;\u00a0&lt;/p&gt;\n\n&lt;p&gt;&lt;sup&gt;Many thanks to Kritnc for getting the ball rolling.&lt;/sup&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jfcv1r", "is_robot_indexable": true, "report_reasons": null, "author": "AutoModerator", "discussion_type": null, "num_comments": 0, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jfcv1r/personal_projects_show_off_your_own_project_andor/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rails/comments/jfcv1r/personal_projects_show_off_your_own_project_andor/", "subreddit_subscribers": 46353, "created_utc": 1603287162.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hey everyone\n\nI'm building a social-network-like platform with a Rails API and React all on AWS EBS. This isn't a hobby project, so I need to be careful about my design choices and would therefore appreciate some advice.\n\nWhat's worrying me is how I will introduce realtime functionality. Like most social networks, my app will have a feed, likes, and maybe comments--all of which need to be updated in (near) realtime when something happens in the database. There is also a 1-to-1 chat component.\n\nBecause I'm kind of on a ticking clock, I'm thinking about taking the easy way out with the chat and using Firebase for that (chat is not really relevant to my biz logic). From what I'm reading, realtime chat seems to be finicky with Rails and ActionCable. I hypothesize that ActionCable will do the job for all the other realtime stuff. Would you agree?\n\nI've seen alternatives like Pusher and Pubnub and they look great, but they're also quite pricey. Anyone run into a similar situation?", "author_fullname": "t2_3pq7pprj", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Advice on Application Architecture", "link_flair_richtext": [{"e": "text", "t": "Architecture"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "architecture", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jh42dn", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 6, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Architecture", "can_mod_post": false, "score": 6, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603548995.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey everyone&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m building a social-network-like platform with a Rails API and React all on AWS EBS. This isn&amp;#39;t a hobby project, so I need to be careful about my design choices and would therefore appreciate some advice.&lt;/p&gt;\n\n&lt;p&gt;What&amp;#39;s worrying me is how I will introduce realtime functionality. Like most social networks, my app will have a feed, likes, and maybe comments--all of which need to be updated in (near) realtime when something happens in the database. There is also a 1-to-1 chat component.&lt;/p&gt;\n\n&lt;p&gt;Because I&amp;#39;m kind of on a ticking clock, I&amp;#39;m thinking about taking the easy way out with the chat and using Firebase for that (chat is not really relevant to my biz logic). From what I&amp;#39;m reading, realtime chat seems to be finicky with Rails and ActionCable. I hypothesize that ActionCable will do the job for all the other realtime stuff. Would you agree?&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;ve seen alternatives like Pusher and Pubnub and they look great, but they&amp;#39;re also quite pricey. Anyone run into a similar situation?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "3deb1b86-b085-11e4-ac4b-22000b3c80d5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jh42dn", "is_robot_indexable": true, "report_reasons": null, "author": "Pickle39", "discussion_type": null, "num_comments": 6, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jh42dn/advice_on_application_architecture/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jh42dn/advice_on_application_architecture/", "subreddit_subscribers": 46353, "created_utc": 1603520195.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hi guys,\n\nin the page in view app/view/books/edit.html.erb I have this to delete the page\n\n    &lt;%= link_to \"Destroy\", book_path(id: @book.slug), method: :delete, data: { confirm: \"are you sure?\" } %&gt;\n\nI want to move it in a custom popup. So I edited it in this way\n\n    &lt;%= link_to \"Destroy\", warning_path(:type =&gt; 'delete_book'), remote: true, data: { load_popup: true } %&gt;\n\nand in app/views/warning/index.html.erb I added this\n\n    &lt;% if params[:type] == 'delete_book' %&gt;\n    \t&lt;%= link_to \"Destroy\", book_path(id: @book.slug), method: :delete, data: { confirm: \"are you sure?\" } %&gt;\n    &lt;% end %&gt;\n\nBut I have this error: `Undefined method 'slug' for nil:NilClass`. How to fix?", "author_fullname": "t2_ujrp7", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Moving a method: :delete in another page", "link_flair_richtext": [{"e": "text", "t": "Help"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "top_awarded_type": null, "hide_score": true, "name": "t3_jh7teq", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Help", "can_mod_post": false, "score": 1, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603569980.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi guys,&lt;/p&gt;\n\n&lt;p&gt;in the page in view app/view/books/edit.html.erb I have this to delete the page&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;&amp;lt;%= link_to &amp;quot;Destroy&amp;quot;, book_path(id: @book.slug), method: :delete, data: { confirm: &amp;quot;are you sure?&amp;quot; } %&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I want to move it in a custom popup. So I edited it in this way&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;&amp;lt;%= link_to &amp;quot;Destroy&amp;quot;, warning_path(:type =&amp;gt; &amp;#39;delete_book&amp;#39;), remote: true, data: { load_popup: true } %&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;and in app/views/warning/index.html.erb I added this&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;&amp;lt;% if params[:type] == &amp;#39;delete_book&amp;#39; %&amp;gt;\n    &amp;lt;%= link_to &amp;quot;Destroy&amp;quot;, book_path(id: @book.slug), method: :delete, data: { confirm: &amp;quot;are you sure?&amp;quot; } %&amp;gt;\n&amp;lt;% end %&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;But I have this error: &lt;code&gt;Undefined method &amp;#39;slug&amp;#39; for nil:NilClass&lt;/code&gt;. How to fix?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "eef0b990-adfb-11e4-8e15-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jh7teq", "is_robot_indexable": true, "report_reasons": null, "author": "Freank", "discussion_type": null, "num_comments": 0, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jh7teq/moving_a_method_delete_in_another_page/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jh7teq/moving_a_method_delete_in_another_page/", "subreddit_subscribers": 46353, "created_utc": 1603541180.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "EDIT: Solved changing port 8000 seemed to do the trick thanks for your help\n\nI'm new to rails development and only have a couple of simple projects. All of my projects are stored in a wsl2 Ubuntu 18.04LTS vm. I have always been able to run \\`rails s\\` and view my project on localhost:3000. Even last night I was able to view 2 separate projects this way. Now, today when I start rails server everything looks like it works as expected within the terminal (starting on [127.0.0.1:3000](https://127.0.0.1:3000)) but when I try to load in my browser I get \\`ERR\\_CONNECTION\\_REFUSED\\`. Other than the message in the browser the server in the terminal looks just like normal and shows no error messages. Any help would be greatly appreciated.", "author_fullname": "t2_bbjtk", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "[Help] Rails Server gives error \"ERR_CONNECTION_REFUSED\" in browser", "link_flair_richtext": [{"e": "text", "t": "Help"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jgx048", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 8, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Help", "can_mod_post": false, "score": 8, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1603492476.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603519850.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;EDIT: Solved changing port 8000 seemed to do the trick thanks for your help&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m new to rails development and only have a couple of simple projects. All of my projects are stored in a wsl2 Ubuntu 18.04LTS vm. I have always been able to run `rails s` and view my project on localhost:3000. Even last night I was able to view 2 separate projects this way. Now, today when I start rails server everything looks like it works as expected within the terminal (starting on &lt;a href=\"https://127.0.0.1:3000\"&gt;127.0.0.1:3000&lt;/a&gt;) but when I try to load in my browser I get `ERR_CONNECTION_REFUSED`. Other than the message in the browser the server in the terminal looks just like normal and shows no error messages. Any help would be greatly appreciated.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jgx048", "is_robot_indexable": true, "report_reasons": null, "author": "jo_blow421", "discussion_type": null, "num_comments": 9, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jgx048/help_rails_server_gives_error_err_connection/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jgx048/help_rails_server_gives_error_err_connection/", "subreddit_subscribers": 46353, "created_utc": 1603491050.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "If user wants to register to my app and enter a too short password, is it bad practice to fill again this password in the rendered template ? (Or for a JSON request, show this \"bad\" password in the JSON response).", "author_fullname": "t2_14z3on", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Security : Is sending back an invalid password is a good or bad practice ?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jgop0h", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.92, "author_flair_background_color": null, "subreddit_type": "public", "ups": 11, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 11, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603493884.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;If user wants to register to my app and enter a too short password, is it bad practice to fill again this password in the rendered template ? (Or for a JSON request, show this &amp;quot;bad&amp;quot; password in the JSON response).&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jgop0h", "is_robot_indexable": true, "report_reasons": null, "author": "bdavidxyz", "discussion_type": null, "num_comments": 23, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jgop0h/security_is_sending_back_an_invalid_password_is_a/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jgop0h/security_is_sending_back_an_invalid_password_is_a/", "subreddit_subscribers": 46353, "created_utc": 1603465084.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I am having THE issue, but I am cannot find the fix. My problem is intermittent and only in production. JQuery works like a champ in my development enviroment, but when I push out my app to Production, I am constantly teetering back and forth between no Jquery and it working mostly. I have dug through countless tutorials, reddit posts, and stackoverflow questions looking for my answer, I am hoping that someone can see where I went astray and help me never have to worry about this again. \n\n&amp;#x200B;\n\nenvironment.js\n\n    const { environment } = require('@rails/webpacker')\n    const webpack = require('webpack')\n    environment.plugins.append('Provide', new webpack.ProvidePlugin({\n      $: 'jquery',\n      jQuery: 'jquery',\n      Popper: ['popper.js', 'default'],\n     })\n    )\n    module.exports = environment\n\napplication.js\n\n    import \"bootstrap\"\n    require(\"@rails/ujs\").start()\n    require(\"turbolinks\").start()\n    require(\"channels\")\n    require(\"jquery\")\n    \n    \n    \n    import flatpickr from \"flatpickr\"\n    require(\"flatpickr/dist/flatpickr.css\")\n    \n    document.addEventListener(\"turbolinks:load\", () =&gt; {\n    \tflatpickr(\"[data-behavior='flatpickr']\", {\n    \t\t\n    \t})\n    })\n    \n    import 'controllers'\n     \n    var componentRequireContext = require.context(\"components\", true);\n    var ReactRailsUJS = require(\"react_ujs\");\n    ReactRailsUJS.useContext(componentRequireContext);\n    \n    $(function () {\n      $('[data-toggle=\"tooltip\"]').tooltip()\n    })\n\nApplication.html.erb\n\n    &lt;head&gt;\n        &lt;%= csrf_meta_tags %&gt;\n        &lt;%= csp_meta_tag %&gt;\n        &lt;%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %&gt;\n        &lt;%= stylesheet_pack_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %&gt;\n        &lt;%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %&gt;\n        &lt;script async src=\"location\"&gt;&lt;/script&gt;\n        &lt;%= javascript_include_tag 'analytics', async: true %&gt;\n        &lt;%= favicon_link_tag asset_path('nsfav16.ico') %&gt;\n      &lt;/head&gt;\n\nI am happy to post any other info someone may need to help me figure this out.", "author_fullname": "t2_18yv97ai", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Rails 6 vs JQuery", "link_flair_richtext": [{"e": "text", "t": "Help"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jgrfwq", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.9, "author_flair_background_color": null, "subreddit_type": "public", "ups": 7, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Help", "can_mod_post": false, "score": 7, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603502318.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I am having THE issue, but I am cannot find the fix. My problem is intermittent and only in production. JQuery works like a champ in my development enviroment, but when I push out my app to Production, I am constantly teetering back and forth between no Jquery and it working mostly. I have dug through countless tutorials, reddit posts, and stackoverflow questions looking for my answer, I am hoping that someone can see where I went astray and help me never have to worry about this again. &lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;environment.js&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;const { environment } = require(&amp;#39;@rails/webpacker&amp;#39;)\nconst webpack = require(&amp;#39;webpack&amp;#39;)\nenvironment.plugins.append(&amp;#39;Provide&amp;#39;, new webpack.ProvidePlugin({\n  $: &amp;#39;jquery&amp;#39;,\n  jQuery: &amp;#39;jquery&amp;#39;,\n  Popper: [&amp;#39;popper.js&amp;#39;, &amp;#39;default&amp;#39;],\n })\n)\nmodule.exports = environment\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;application.js&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;import &amp;quot;bootstrap&amp;quot;\nrequire(&amp;quot;@rails/ujs&amp;quot;).start()\nrequire(&amp;quot;turbolinks&amp;quot;).start()\nrequire(&amp;quot;channels&amp;quot;)\nrequire(&amp;quot;jquery&amp;quot;)\n\n\n\nimport flatpickr from &amp;quot;flatpickr&amp;quot;\nrequire(&amp;quot;flatpickr/dist/flatpickr.css&amp;quot;)\n\ndocument.addEventListener(&amp;quot;turbolinks:load&amp;quot;, () =&amp;gt; {\n    flatpickr(&amp;quot;[data-behavior=&amp;#39;flatpickr&amp;#39;]&amp;quot;, {\n\n    })\n})\n\nimport &amp;#39;controllers&amp;#39;\n\nvar componentRequireContext = require.context(&amp;quot;components&amp;quot;, true);\nvar ReactRailsUJS = require(&amp;quot;react_ujs&amp;quot;);\nReactRailsUJS.useContext(componentRequireContext);\n\n$(function () {\n  $(&amp;#39;[data-toggle=&amp;quot;tooltip&amp;quot;]&amp;#39;).tooltip()\n})\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Application.html.erb&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;&amp;lt;head&amp;gt;\n    &amp;lt;%= csrf_meta_tags %&amp;gt;\n    &amp;lt;%= csp_meta_tag %&amp;gt;\n    &amp;lt;%= stylesheet_link_tag &amp;#39;application&amp;#39;, media: &amp;#39;all&amp;#39;, &amp;#39;data-turbolinks-track&amp;#39;: &amp;#39;reload&amp;#39; %&amp;gt;\n    &amp;lt;%= stylesheet_pack_tag &amp;#39;application&amp;#39;, media: &amp;#39;all&amp;#39;, &amp;#39;data-turbolinks-track&amp;#39;: &amp;#39;reload&amp;#39; %&amp;gt;\n    &amp;lt;%= javascript_pack_tag &amp;#39;application&amp;#39;, &amp;#39;data-turbolinks-track&amp;#39;: &amp;#39;reload&amp;#39; %&amp;gt;\n    &amp;lt;script async src=&amp;quot;location&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;\n    &amp;lt;%= javascript_include_tag &amp;#39;analytics&amp;#39;, async: true %&amp;gt;\n    &amp;lt;%= favicon_link_tag asset_path(&amp;#39;nsfav16.ico&amp;#39;) %&amp;gt;\n  &amp;lt;/head&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I am happy to post any other info someone may need to help me figure this out.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "eef0b990-adfb-11e4-8e15-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jgrfwq", "is_robot_indexable": true, "report_reasons": null, "author": "lostrennie", "discussion_type": null, "num_comments": 8, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jgrfwq/rails_6_vs_jquery/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jgrfwq/rails_6_vs_jquery/", "subreddit_subscribers": 46353, "created_utc": 1603473518.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hi, \n\nI wrote a little guide with 5 ways to fix a kind \"n+1 queries\" problem, that I called the \"latest-comment\".\n\nI called it that way because one example/instance of the problem, is when you want a list of posts with the last comment, but it can also be extrapolated to \"the last review in a list of products\", or \"the cheapest price\", etc..\n\n[https://bhserna.com/5-ways-to-fix-the-latest-comment-n-1-problem.html](https://bhserna.com/5-ways-to-fix-the-latest-comment-n-1-problem.html)\n\nI hope it can be useful for someone :)", "author_fullname": "t2_i08m8", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "5 ways to fix the latest-comment n+1 problem", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jgam27", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.96, "author_flair_background_color": null, "subreddit_type": "public", "ups": 30, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 30, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603435966.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi, &lt;/p&gt;\n\n&lt;p&gt;I wrote a little guide with 5 ways to fix a kind &amp;quot;n+1 queries&amp;quot; problem, that I called the &amp;quot;latest-comment&amp;quot;.&lt;/p&gt;\n\n&lt;p&gt;I called it that way because one example/instance of the problem, is when you want a list of posts with the last comment, but it can also be extrapolated to &amp;quot;the last review in a list of products&amp;quot;, or &amp;quot;the cheapest price&amp;quot;, etc..&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://bhserna.com/5-ways-to-fix-the-latest-comment-n-1-problem.html\"&gt;https://bhserna.com/5-ways-to-fix-the-latest-comment-n-1-problem.html&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;I hope it can be useful for someone :)&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jgam27", "is_robot_indexable": true, "report_reasons": null, "author": "bhserna", "discussion_type": null, "num_comments": 6, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jgam27/5_ways_to_fix_the_latestcomment_n1_problem/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jgam27/5_ways_to_fix_the_latestcomment_n1_problem/", "subreddit_subscribers": 46353, "created_utc": 1603407166.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I was looking at [https://github.com/procore/blueprinter](https://github.com/procore/blueprinter) over ActiveModel Serializer but I'm not sure of any best practices when implementing this in a large project. I like the idea of its view and having multiple views in a single file to use for the required API.   \n\n\nI have two questions, \n\n1. Do you have any ideas from your usage of blueprinter for JSON serialization?\n2. Also, do you know of any public repo on GitHub that uses this so I can skim its code to understand how they use it?", "author_fullname": "t2_7m8mv9r7", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "What serializers do you use in rails API?", "link_flair_richtext": [{"e": "text", "t": "Question"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "question", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jg2he7", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 16, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Question", "can_mod_post": false, "score": 16, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603411529.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I was looking at &lt;a href=\"https://github.com/procore/blueprinter\"&gt;https://github.com/procore/blueprinter&lt;/a&gt; over ActiveModel Serializer but I&amp;#39;m not sure of any best practices when implementing this in a large project. I like the idea of its view and having multiple views in a single file to use for the required API.   &lt;/p&gt;\n\n&lt;p&gt;I have two questions, &lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;Do you have any ideas from your usage of blueprinter for JSON serialization?&lt;/li&gt;\n&lt;li&gt;Also, do you know of any public repo on GitHub that uses this so I can skim its code to understand how they use it?&lt;/li&gt;\n&lt;/ol&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "fdfc6806-aea7-11e4-bf37-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jg2he7", "is_robot_indexable": true, "report_reasons": null, "author": "prosperousdoggo", "discussion_type": null, "num_comments": 16, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jg2he7/what_serializers_do_you_use_in_rails_api/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jg2he7/what_serializers_do_you_use_in_rails_api/", "subreddit_subscribers": 46353, "created_utc": 1603382729.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Stimulus deserves to have a big and qualitative ecosystem with plug'n'play controllers like in other modern JS frameworks. \n\nMore info here \ud83d\udc49 [https://guillaumebriday.fr/introducing-stimulus-components](https://guillaumebriday.fr/introducing-stimulus-components)\n\nAll the available controllers are here \ud83d\udc49 [https://github.com/stimulus-components](https://github.com/stimulus-components)\n\nFeel free to open PRs and issues \ud83e\udd73", "author_fullname": "t2_cirse", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Introducing Stimulus components with a first class support for Rails", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jfvgem", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.99, "author_flair_background_color": null, "subreddit_type": "public", "ups": 69, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 69, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603382238.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Stimulus deserves to have a big and qualitative ecosystem with plug&amp;#39;n&amp;#39;play controllers like in other modern JS frameworks. &lt;/p&gt;\n\n&lt;p&gt;More info here \ud83d\udc49 &lt;a href=\"https://guillaumebriday.fr/introducing-stimulus-components\"&gt;https://guillaumebriday.fr/introducing-stimulus-components&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;All the available controllers are here \ud83d\udc49 &lt;a href=\"https://github.com/stimulus-components\"&gt;https://github.com/stimulus-components&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Feel free to open PRs and issues \ud83e\udd73&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jfvgem", "is_robot_indexable": true, "report_reasons": null, "author": "ZiiCEagle", "discussion_type": null, "num_comments": 11, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jfvgem/introducing_stimulus_components_with_a_first/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jfvgem/introducing_stimulus_components_with_a_first/", "subreddit_subscribers": 46353, "created_utc": 1603353438.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I am following a tutorial that consumes a google translate API and allows the app to translate from one language to another. Everything is going fine until I try to run the code in the controller. Then I get \"NoMethodError in TranslationsController#index\"\n\n        undefined method `[]' for nil:NilClass\n        Extracted source (around line #37):\n\n\n        languages = api_request('language/translate/v2/languages')\n\n        keys = languages['data']['languages'].map { |l| l['language'].upcase }\n\n        I18nData\n        .languages\n\n\nThis is my controller code:\n\n    class TranslationsController &lt; ApplicationController\n    before_action :set_defaults\n\n    def index\n    end\n\n    def translate\n    end\n\n    private\n\n    def set_defaults\n      @languages = fetch_languages\n    end\n\n    def api_request(path, method: :get, body: nil)\n      params = {\n        headers: {\n          'x-rapidapi-key': 'YOUR_API_KEY',\n          'content-type': 'application/x-www-form-urlencoded'\n        }\n      }\n\n     params[:body] = body if body\n\n      response = Excon.send(method,\n        \"https://google-translate1.p.rapidapi.com/#{path}\",\n        params\n      )\n\n    JSON.parse(response.body)\n    end\n\n    def fetch_languages\n      languages = api_request('language/translate/v2/languages')\n\n     keys = languages['data']['languages'].map { |l| l['language'].upcase }\n\n      I18nData\n        .languages\n        .slice(*keys)\n        .each_with_object([]) do |(iso, name), memo|\n          memo &lt;&lt; [name, iso]\n        end\n      end\n    end\n\n\n\n\n\nI don't know what I'm doing wrong.", "author_fullname": "t2_84h260cr", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "No method error", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jggb6t", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.67, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 1, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1603429829.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603456908.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I am following a tutorial that consumes a google translate API and allows the app to translate from one language to another. Everything is going fine until I try to run the code in the controller. Then I get &amp;quot;NoMethodError in TranslationsController#index&amp;quot;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;    undefined method `[]&amp;#39; for nil:NilClass\n    Extracted source (around line #37):\n\n\n    languages = api_request(&amp;#39;language/translate/v2/languages&amp;#39;)\n\n    keys = languages[&amp;#39;data&amp;#39;][&amp;#39;languages&amp;#39;].map { |l| l[&amp;#39;language&amp;#39;].upcase }\n\n    I18nData\n    .languages\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This is my controller code:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;class TranslationsController &amp;lt; ApplicationController\nbefore_action :set_defaults\n\ndef index\nend\n\ndef translate\nend\n\nprivate\n\ndef set_defaults\n  @languages = fetch_languages\nend\n\ndef api_request(path, method: :get, body: nil)\n  params = {\n    headers: {\n      &amp;#39;x-rapidapi-key&amp;#39;: &amp;#39;YOUR_API_KEY&amp;#39;,\n      &amp;#39;content-type&amp;#39;: &amp;#39;application/x-www-form-urlencoded&amp;#39;\n    }\n  }\n\n params[:body] = body if body\n\n  response = Excon.send(method,\n    &amp;quot;https://google-translate1.p.rapidapi.com/#{path}&amp;quot;,\n    params\n  )\n\nJSON.parse(response.body)\nend\n\ndef fetch_languages\n  languages = api_request(&amp;#39;language/translate/v2/languages&amp;#39;)\n\n keys = languages[&amp;#39;data&amp;#39;][&amp;#39;languages&amp;#39;].map { |l| l[&amp;#39;language&amp;#39;].upcase }\n\n  I18nData\n    .languages\n    .slice(*keys)\n    .each_with_object([]) do |(iso, name), memo|\n      memo &amp;lt;&amp;lt; [name, iso]\n    end\n  end\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I don&amp;#39;t know what I&amp;#39;m doing wrong.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jggb6t", "is_robot_indexable": true, "report_reasons": null, "author": "BoyFromASmallTown", "discussion_type": null, "num_comments": 6, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jggb6t/no_method_error/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jggb6t/no_method_error/", "subreddit_subscribers": 46353, "created_utc": 1603428108.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I am working on a rails engine. I have no access to Devise or its helper methods since those are in the host application. We also don't have a user model so we have to mock the model\n\n&amp;#x200B;\n\nI have a controller defined as\n\n&amp;#x200B;\n\n\\`\\`\\`\n\n    require_dependency \"sample/application_controller\"\n    \n    module Sample\n     class ExampleController &lt; ApplicationController\n      def list_estates\n        if current_user.has_access_to?(:communities)\n           u/estates = Estate.all\n        end\n      end\n     end\n    end\n\n\\`\\`\\`\n\n&amp;#x200B;\n\nI would like to test that the method actually performs xyz if current\\_user has access to communities.\n\n&amp;#x200B;\n\n&amp;#x200B;\n\n\\`\\`\\`\n\n    require 'rails_helper'\n    module PremierSaAgreementSigning\n    class User\n    \n    \tattr\\_reader :email, :password\n    \n    \tdef initialize(email, password)\n    \n    \t\tu/email = email\n    \n    \t\tu/password = password\n    \n    \tend\n    \n    end\n\n&amp;#x200B;\n\n    describe ExampleController, type: :request do\n      context 'user is signed in' do\n        let(:user) { [User.new](https://User.new)('test@example.com', 'password') }\n        let(:estate) { create(:estate) }\n    \n         before do\n            ActionView::Base.any_instance.stub(:current_user) { user }\n         end\n    \n    \n         it 'returns a list of estates' do\n            get \"/sample/example/list_estates\"\n            expect(assigns(:estates)).to include(estate)\n         end\n       end\n    end\n\n\\`\\`\\`\n\n&amp;#x200B;\n\nSince I have no access to devise or a user model.\n\nHow do I get \\`current\\_user\\` instance on the \\`ExampleController\\` to be equal to the user I have created here. Then how do I get the now new current\\_user to mock the \\`has\\_access\\_to?\\` method which is also not defined in this engine.\n\n&amp;#x200B;\n\nMy method above returns\n\n    `ActionView::Base does not implement #current_user`\n\n&amp;#x200B;\n\n&amp;#x200B;\n\nPlease note that I do not need to create or expose any session/login logic here as that is handled on the host application and not required on the engine.\n\n    I just need to mock the `current_user` object and run another fake method..`has_access_to?` on this object\n\nHow can I do this. I am a beginner and this has been quite challenging", "author_fullname": "t2_3kor3c0", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Rspec stub current user on a request spec for a rails engine with no access to Devise", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_jg3j7y", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 6, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 6, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1603414607.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I am working on a rails engine. I have no access to Devise or its helper methods since those are in the host application. We also don&amp;#39;t have a user model so we have to mock the model&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;I have a controller defined as&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;```&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;require_dependency &amp;quot;sample/application_controller&amp;quot;\n\nmodule Sample\n class ExampleController &amp;lt; ApplicationController\n  def list_estates\n    if current_user.has_access_to?(:communities)\n       u/estates = Estate.all\n    end\n  end\n end\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;```&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;I would like to test that the method actually performs xyz if current_user has access to communities.&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;```&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;require &amp;#39;rails_helper&amp;#39;\nmodule PremierSaAgreementSigning\nclass User\n\n    attr\\_reader :email, :password\n\n    def initialize(email, password)\n\n        u/email = email\n\n        u/password = password\n\n    end\n\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;describe ExampleController, type: :request do\n  context &amp;#39;user is signed in&amp;#39; do\n    let(:user) { [User.new](https://User.new)(&amp;#39;test@example.com&amp;#39;, &amp;#39;password&amp;#39;) }\n    let(:estate) { create(:estate) }\n\n     before do\n        ActionView::Base.any_instance.stub(:current_user) { user }\n     end\n\n\n     it &amp;#39;returns a list of estates&amp;#39; do\n        get &amp;quot;/sample/example/list_estates&amp;quot;\n        expect(assigns(:estates)).to include(estate)\n     end\n   end\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;```&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;Since I have no access to devise or a user model.&lt;/p&gt;\n\n&lt;p&gt;How do I get `current_user` instance on the `ExampleController` to be equal to the user I have created here. Then how do I get the now new current_user to mock the `has_access_to?` method which is also not defined in this engine.&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;My method above returns&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;`ActionView::Base does not implement #current_user`\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;Please note that I do not need to create or expose any session/login logic here as that is handled on the host application and not required on the engine.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;I just need to mock the `current_user` object and run another fake method..`has_access_to?` on this object\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;How can I do this. I am a beginner and this has been quite challenging&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "jg3j7y", "is_robot_indexable": true, "report_reasons": null, "author": "coremuscle", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/jg3j7y/rspec_stub_current_user_on_a_request_spec_for_a/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/jg3j7y/rspec_stub_current_user_on_a_request_spec_for_a/", "subreddit_subscribers": 46353, "created_utc": 1603385807.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_jg3j7y", "before": null}}