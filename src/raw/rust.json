{"kind": "Listing", "data": {"modhash": "", "dist": 12, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "Mystified about strings? Borrow checker have you in a headlock? Seek help here! There are no stupid questions, only docs that haven't been written yet.\n\nIf you have a [StackOverflow](http://stackoverflow.com/) account, consider asking it there instead! StackOverflow shows up much higher in search results, so having your question there also helps future Rust users (be sure to give it [the \"Rust\" tag](http://stackoverflow.com/questions/tagged/rust) for maximum visibility). Note that this site is very interested in question quality. I've been asked to read a RFC I authored once. If you want your code reviewed or review other's code, there's a [codereview stackexchange](https://codereview.stackexchange.com/questions/tagged/rust), too. If you need to test your code, maybe [the Rust playground](https://play.rust-lang.org) is for you.\n\nHere are some other venues where help may be found:\n\n[/r/learnrust](https://www.reddit.com/r/learnrust) is a subreddit to share your questions and epiphanies learning Rust programming.\n\nThe official Rust user forums: [https://users.rust-lang.org/](https://users.rust-lang.org/).\n\nThe official Rust Programming Language Discord: [https://discord.gg/rust-lang](https://discord.gg/rust-lang)\n\nThe unofficial Rust community Discord: [https://bit.ly/rust-community](https://bit.ly/rust-community)\n\nAlso check out [last week's thread](https://reddit.com/r/rust/comments/hm1pws/hey_rustaceans_got_an_easy_question_ask_here/) with many good questions and answers. And if you believe your question to be either very complex or worthy of larger dissemination, feel free to create a text post.\n\nAlso if you want to be mentored by experienced Rustaceans, tell us the area of expertise that you seek.", "author_fullname": "t2_1kxp4", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Hey Rustaceans! Got an easy question? Ask here (29/2020)!", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hq8id7", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.91, "author_flair_background_color": "", "subreddit_type": "public", "ups": 16, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 16, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": "contrib", "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594642115.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Mystified about strings? Borrow checker have you in a headlock? Seek help here! There are no stupid questions, only docs that haven&amp;#39;t been written yet.&lt;/p&gt;\n\n&lt;p&gt;If you have a &lt;a href=\"http://stackoverflow.com/\"&gt;StackOverflow&lt;/a&gt; account, consider asking it there instead! StackOverflow shows up much higher in search results, so having your question there also helps future Rust users (be sure to give it &lt;a href=\"http://stackoverflow.com/questions/tagged/rust\"&gt;the &amp;quot;Rust&amp;quot; tag&lt;/a&gt; for maximum visibility). Note that this site is very interested in question quality. I&amp;#39;ve been asked to read a RFC I authored once. If you want your code reviewed or review other&amp;#39;s code, there&amp;#39;s a &lt;a href=\"https://codereview.stackexchange.com/questions/tagged/rust\"&gt;codereview stackexchange&lt;/a&gt;, too. If you need to test your code, maybe &lt;a href=\"https://play.rust-lang.org\"&gt;the Rust playground&lt;/a&gt; is for you.&lt;/p&gt;\n\n&lt;p&gt;Here are some other venues where help may be found:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://www.reddit.com/r/learnrust\"&gt;/r/learnrust&lt;/a&gt; is a subreddit to share your questions and epiphanies learning Rust programming.&lt;/p&gt;\n\n&lt;p&gt;The official Rust user forums: &lt;a href=\"https://users.rust-lang.org/\"&gt;https://users.rust-lang.org/&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;The official Rust Programming Language Discord: &lt;a href=\"https://discord.gg/rust-lang\"&gt;https://discord.gg/rust-lang&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;The unofficial Rust community Discord: &lt;a href=\"https://bit.ly/rust-community\"&gt;https://bit.ly/rust-community&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Also check out &lt;a href=\"https://reddit.com/r/rust/comments/hm1pws/hey_rustaceans_got_an_easy_question_ask_here/\"&gt;last week&amp;#39;s thread&lt;/a&gt; with many good questions and answers. And if you believe your question to be either very complex or worthy of larger dissemination, feel free to create a text post.&lt;/p&gt;\n\n&lt;p&gt;Also if you want to be mentored by experienced Rustaceans, tell us the area of expertise that you seek.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": "new", "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": "clippy \u00b7 twir \u00b7 rust \u00b7 mutagen \u00b7 flamer \u00b7 overflower \u00b7 bytecount", "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hq8id7", "is_robot_indexable": true, "report_reasons": null, "author": "llogiq", "discussion_type": null, "num_comments": 43, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": "dark", "permalink": "/r/rust/comments/hq8id7/hey_rustaceans_got_an_easy_question_ask_here/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rust/comments/hq8id7/hey_rustaceans_got_an_easy_question_ask_here/", "subreddit_subscribers": 106665, "created_utc": 1594613315.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_eki22", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "This Week in Rust 347", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hrc4dt", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.96, "author_flair_background_color": "", "subreddit_type": "public", "ups": 64, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 64, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1594796631.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "this-week-in-rust.org", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://this-week-in-rust.org/blog/2020/07/14/this-week-in-rust-347/", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": "twir", "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hrc4dt", "is_robot_indexable": true, "report_reasons": null, "author": "seino_chan", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": "dark", "permalink": "/r/rust/comments/hrc4dt/this_week_in_rust_347/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://this-week-in-rust.org/blog/2020/07/14/this-week-in-rust-347/", "subreddit_subscribers": 106665, "created_utc": 1594767831.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_22wcpskj", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "IntelliJ Rust 0.3: New Macro Expansion Engine", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hrknxy", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.98, "author_flair_background_color": null, "subreddit_type": "public", "ups": 120, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 120, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1594834989.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "blog.jetbrains.com", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://blog.jetbrains.com/clion/2020/07/intellij-rust-0-3-new-macro-expansion-engine/", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hrknxy", "is_robot_indexable": true, "report_reasons": null, "author": "furious_warrior", "discussion_type": null, "num_comments": 10, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/hrknxy/intellij_rust_03_new_macro_expansion_engine/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://blog.jetbrains.com/clion/2020/07/intellij-rust-0-3-new-macro-expansion-engine/", "subreddit_subscribers": 106665, "created_utc": 1594806189.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_ow319", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Why even unused data needs to be valid", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hrlozh", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.98, "author_flair_background_color": null, "subreddit_type": "public", "ups": 38, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 38, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1594840425.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "ralfj.de", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://www.ralfj.de/blog/2020/07/15/unused-data.html", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hrlozh", "is_robot_indexable": true, "report_reasons": null, "author": "ralfj", "discussion_type": null, "num_comments": 7, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/hrlozh/why_even_unused_data_needs_to_be_valid/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.ralfj.de/blog/2020/07/15/unused-data.html", "subreddit_subscribers": 106665, "created_utc": 1594811625.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_5z6po", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Security advisory for crates.io", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hr7pt1", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.99, "author_flair_background_color": null, "subreddit_type": "public", "ups": 287, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 287, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1594782455.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "blog.rust-lang.org", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://blog.rust-lang.org/2020/07/14/crates-io-security-advisory.html", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hr7pt1", "is_robot_indexable": true, "report_reasons": null, "author": "rabidferret", "discussion_type": null, "num_comments": 57, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/hr7pt1/security_advisory_for_cratesio/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://blog.rust-lang.org/2020/07/14/crates-io-security-advisory.html", "subreddit_subscribers": 106665, "created_utc": 1594753655.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "[pre](https://github.com/aticu/pre) is a library that helps you keep tabs on what exactly needs to be true in order for `unsafe` code to be safe.\n\nYou can think of it essentially like a `Safety` comment at the definition and call site, except that the compiler checks that the comments actually talk about the same thing.\nThis does not incur any cost at runtime in a release build.\n\nIt works by annotating functions with preconditions that need to be upheld when calling them.\nThese preconditions are transformed into an additional (*zero-sized*) argument to the function.\nCallers then have to assure that the preconditions are upheld. Those assurances make up the additional argument at the call site and must match the original preconditions in order for the argument to type-check.\nThis avoids missing any changes in the safety requirements later. So it is most useful in larger projects with multiple people or for library authors, who want to make their preconditions part of the API.\nThe burden of proof still lies with the programmer however.\n\nYou can also think of it as a combination of the [`safety-guard` crate](https://crates.io/crates/safety-guard) and the [`safe` crate](https://crates.io/crates/safe).\n\n\n## Example\n\nSuppose you have this code:\n\n```rust\nfn init_foo() {\n    /* ... */\n}\n\n/// # Safety\n/// \n/// `init_foo` must be called before you can call `use_foo`.\nunsafe fn use_foo() {\n    /* ... */\n}\n\nfn main() {\n    init_foo();\n\n    unsafe {\n        // Safety: This is safe, because `init_foo` was called first.\n        use_foo();\n    }\n}\n```\n\nUsing pre, it could be rewritten into this code:\n\n```rust\nfn init_foo() {\n    /* ... */\n}\n\nuse pre::pre;\n\n#[pre(\"is only called after `init_foo` was called\")]\nunsafe fn use_foo() {\n    /* ... */\n}\n\n#[pre]\nfn main() {\n    init_foo();\n\n    unsafe {\n        #[assure(\n            \"is only called after `init_foo` was called\",\n            reason = \"`init_foo` was called first\"\n        )]\n        use_foo();\n    }\n}\n```\n\nNow if someone who isn't aware of the relationship between the two functions writes this code somewhere else:\n\n```rust\nuse pre::pre;\n\n#[pre]\nfn not_main() {\n    unsafe {\n        use_foo(); // Oops, didn't call `init_foo` first\n    }\n}\n```\n\nThe code will fail to compile:\n\n```text\nerror[E0061]: this function takes 1 argument but 0 arguments were supplied\n  --&gt; src/main.rs:28:9\n   |\n7  |   #[pre(\"is only called after `init_foo` was called\")]\n   |  _______-\n8  | | unsafe fn use_foo() {\n9  | |     /* ... */\n10 | | }\n   | |_- defined here\n...\n28 |           use_foo(); // Oops, didn't call `init_foo` first\n   |           ^^^^^^^-- supplied 0 arguments\n   |           |\n   |           expected 1 argument\n```\n\nThe error message is not the most readable one, but I think it's better to spend a little time to understand an error than it is to have bugs in my program.\n\n## Background\n\nI'm writing this library for my bachelor's thesis and I'd be very happy if you could give me feedback about it.\n\nWould you use it? If not, why not?\n\nFeel free to [give it a try](https://github.com/aticu/pre) and let me know how it went.\n\nAlso if you are an author of a crate that might benefit from something like this, but don't have the time to integrate it yourself, feel free to contact me.", "author_fullname": "t2_7rvsr7", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "pre: a crate to offer compile-time assistance for working with unsafe code", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hrixq7", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.92, "author_flair_background_color": null, "subreddit_type": "public", "ups": 34, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 34, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594825429.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;&lt;a href=\"https://github.com/aticu/pre\"&gt;pre&lt;/a&gt; is a library that helps you keep tabs on what exactly needs to be true in order for &lt;code&gt;unsafe&lt;/code&gt; code to be safe.&lt;/p&gt;\n\n&lt;p&gt;You can think of it essentially like a &lt;code&gt;Safety&lt;/code&gt; comment at the definition and call site, except that the compiler checks that the comments actually talk about the same thing.\nThis does not incur any cost at runtime in a release build.&lt;/p&gt;\n\n&lt;p&gt;It works by annotating functions with preconditions that need to be upheld when calling them.\nThese preconditions are transformed into an additional (&lt;em&gt;zero-sized&lt;/em&gt;) argument to the function.\nCallers then have to assure that the preconditions are upheld. Those assurances make up the additional argument at the call site and must match the original preconditions in order for the argument to type-check.\nThis avoids missing any changes in the safety requirements later. So it is most useful in larger projects with multiple people or for library authors, who want to make their preconditions part of the API.\nThe burden of proof still lies with the programmer however.&lt;/p&gt;\n\n&lt;p&gt;You can also think of it as a combination of the &lt;a href=\"https://crates.io/crates/safety-guard\"&gt;&lt;code&gt;safety-guard&lt;/code&gt; crate&lt;/a&gt; and the &lt;a href=\"https://crates.io/crates/safe\"&gt;&lt;code&gt;safe&lt;/code&gt; crate&lt;/a&gt;.&lt;/p&gt;\n\n&lt;h2&gt;Example&lt;/h2&gt;\n\n&lt;p&gt;Suppose you have this code:&lt;/p&gt;\n\n&lt;p&gt;```rust\nfn init_foo() {\n    /* ... */\n}&lt;/p&gt;\n\n&lt;p&gt;/// # Safety\n/// \n/// &lt;code&gt;init_foo&lt;/code&gt; must be called before you can call &lt;code&gt;use_foo&lt;/code&gt;.\nunsafe fn use_foo() {\n    /* ... */\n}&lt;/p&gt;\n\n&lt;p&gt;fn main() {\n    init_foo();&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;unsafe {\n    // Safety: This is safe, because `init_foo` was called first.\n    use_foo();\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;}\n```&lt;/p&gt;\n\n&lt;p&gt;Using pre, it could be rewritten into this code:&lt;/p&gt;\n\n&lt;p&gt;```rust\nfn init_foo() {\n    /* ... */\n}&lt;/p&gt;\n\n&lt;p&gt;use pre::pre;&lt;/p&gt;\n\n&lt;h1&gt;[pre(&amp;quot;is only called after &lt;code&gt;init_foo&lt;/code&gt; was called&amp;quot;)]&lt;/h1&gt;\n\n&lt;p&gt;unsafe fn use_foo() {\n    /* ... */\n}&lt;/p&gt;\n\n&lt;h1&gt;[pre]&lt;/h1&gt;\n\n&lt;p&gt;fn main() {\n    init_foo();&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;unsafe {\n    #[assure(\n        &amp;quot;is only called after `init_foo` was called&amp;quot;,\n        reason = &amp;quot;`init_foo` was called first&amp;quot;\n    )]\n    use_foo();\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;}\n```&lt;/p&gt;\n\n&lt;p&gt;Now if someone who isn&amp;#39;t aware of the relationship between the two functions writes this code somewhere else:&lt;/p&gt;\n\n&lt;p&gt;```rust\nuse pre::pre;&lt;/p&gt;\n\n&lt;h1&gt;[pre]&lt;/h1&gt;\n\n&lt;p&gt;fn not_main() {\n    unsafe {\n        use_foo(); // Oops, didn&amp;#39;t call &lt;code&gt;init_foo&lt;/code&gt; first\n    }\n}\n```&lt;/p&gt;\n\n&lt;p&gt;The code will fail to compile:&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;text\nerror[E0061]: this function takes 1 argument but 0 arguments were supplied\n  --&amp;gt; src/main.rs:28:9\n   |\n7  |   #[pre(&amp;quot;is only called after `init_foo` was called&amp;quot;)]\n   |  _______-\n8  | | unsafe fn use_foo() {\n9  | |     /* ... */\n10 | | }\n   | |_- defined here\n...\n28 |           use_foo(); // Oops, didn&amp;#39;t call `init_foo` first\n   |           ^^^^^^^-- supplied 0 arguments\n   |           |\n   |           expected 1 argument\n&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;The error message is not the most readable one, but I think it&amp;#39;s better to spend a little time to understand an error than it is to have bugs in my program.&lt;/p&gt;\n\n&lt;h2&gt;Background&lt;/h2&gt;\n\n&lt;p&gt;I&amp;#39;m writing this library for my bachelor&amp;#39;s thesis and I&amp;#39;d be very happy if you could give me feedback about it.&lt;/p&gt;\n\n&lt;p&gt;Would you use it? If not, why not?&lt;/p&gt;\n\n&lt;p&gt;Feel free to &lt;a href=\"https://github.com/aticu/pre\"&gt;give it a try&lt;/a&gt; and let me know how it went.&lt;/p&gt;\n\n&lt;p&gt;Also if you are an author of a crate that might benefit from something like this, but don&amp;#39;t have the time to integrate it yourself, feel free to contact me.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hrixq7", "is_robot_indexable": true, "report_reasons": null, "author": "aticuu", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/hrixq7/pre_a_crate_to_offer_compiletime_assistance_for/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/hrixq7/pre_a_crate_to_offer_compiletime_assistance_for/", "subreddit_subscribers": 106665, "created_utc": 1594796629.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "[DISCLAIMER: Story time]\n\nHello everyone, I\u2019m new to reddit and I heard the rust community is welcoming so I really thought I\u2019d share my story of getting to use Rust.\n\nSo I\u2019m a Computing student (just finished my first year) and I kept searching for an interesting language to pick up and master. I\u2019ve done about 3-4 years of C# and Java (.NET, Xamarin, Unity frameworks and Java in AndroidStudio and console apps) accumulated and by this point I\u2019ve grown tired of it. I\u2019ve also done C, Haskell and SQL and tried some html/vanilla js but the front-end dev life is not for me. I\u2019ve seen really nice features (especially in Haskell, but it\u2019s too purely functional for my taste) in each of those technologies but each of them lacked something. \n\nSo, I kept searching while doing my webdev vanilla js course when I stumbled upon a load of talks about this \u201crust lang\u201d thing. Binged like 10 talks for the fun of it and it looked really interesting, but I thought \u201cehhh maybe later\u201d. After a week or two I ran out of things to watch and was too burned out from a game emulator I was working on in C# and thought \u201chey, what the hell, I\u2019ve done C I liked it, Rust is just as efficient and has a load of interesting features I\u2019ve never seen before [ownership, borrowing, lifetimes], so might as well try it\u201d *also the cargo system is easy to use and extensible\n\nI\u2019ve gone through half of the official book in like 2 nights from 10pm-2am and I can\u2019t begin to tell you how interesting this language is. It\u2019s not like I have a lot of experience in the industry, but I haven\u2019t seen anything like it, so it feels like it fills the hole. Also, a big reassurance is the fairly formal (i.e fairly abusive :D) compiler, which is a great help. Most of the time if the code compiles I can be pretty sure I won\u2019t be able to break the code by dereferencing null pointers (because there are no nulls hah) or segfault it randomly (maybe I\u2019m just bad at C), and I can be pretty sure the code works as intended. People talk a lot about rust and the compiler, comparing it with C gcc, doing benchmarks (which is a very fair match for the benchmarks I\u2019ve seen, rust usually winning it out), but code safety is just as important and then cherry on top.\n\nThis was a long post, thanks for everyone who tagged along, but I just wanted to share my absolute and total hype.\n\nFor the ones still here, can you recommend me some good rust books that I can follow to become an expert in rust (yeah obviously will take a while but I think in 5-6 years\u2019 time Rust will attract even more popularity, so it\u2019s worth investing the time, since I\u2019m a beginner-intermediate in most languages I\u2019ve used)?\n\nGood day everyone", "author_fullname": "t2_7a4xcs9b", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "My journey of stumbling upon Rust", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hrjt11", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.87, "author_flair_background_color": null, "subreddit_type": "public", "ups": 25, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 25, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1594804454.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594830212.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;[DISCLAIMER: Story time]&lt;/p&gt;\n\n&lt;p&gt;Hello everyone, I\u2019m new to reddit and I heard the rust community is welcoming so I really thought I\u2019d share my story of getting to use Rust.&lt;/p&gt;\n\n&lt;p&gt;So I\u2019m a Computing student (just finished my first year) and I kept searching for an interesting language to pick up and master. I\u2019ve done about 3-4 years of C# and Java (.NET, Xamarin, Unity frameworks and Java in AndroidStudio and console apps) accumulated and by this point I\u2019ve grown tired of it. I\u2019ve also done C, Haskell and SQL and tried some html/vanilla js but the front-end dev life is not for me. I\u2019ve seen really nice features (especially in Haskell, but it\u2019s too purely functional for my taste) in each of those technologies but each of them lacked something. &lt;/p&gt;\n\n&lt;p&gt;So, I kept searching while doing my webdev vanilla js course when I stumbled upon a load of talks about this \u201crust lang\u201d thing. Binged like 10 talks for the fun of it and it looked really interesting, but I thought \u201cehhh maybe later\u201d. After a week or two I ran out of things to watch and was too burned out from a game emulator I was working on in C# and thought \u201chey, what the hell, I\u2019ve done C I liked it, Rust is just as efficient and has a load of interesting features I\u2019ve never seen before [ownership, borrowing, lifetimes], so might as well try it\u201d *also the cargo system is easy to use and extensible&lt;/p&gt;\n\n&lt;p&gt;I\u2019ve gone through half of the official book in like 2 nights from 10pm-2am and I can\u2019t begin to tell you how interesting this language is. It\u2019s not like I have a lot of experience in the industry, but I haven\u2019t seen anything like it, so it feels like it fills the hole. Also, a big reassurance is the fairly formal (i.e fairly abusive :D) compiler, which is a great help. Most of the time if the code compiles I can be pretty sure I won\u2019t be able to break the code by dereferencing null pointers (because there are no nulls hah) or segfault it randomly (maybe I\u2019m just bad at C), and I can be pretty sure the code works as intended. People talk a lot about rust and the compiler, comparing it with C gcc, doing benchmarks (which is a very fair match for the benchmarks I\u2019ve seen, rust usually winning it out), but code safety is just as important and then cherry on top.&lt;/p&gt;\n\n&lt;p&gt;This was a long post, thanks for everyone who tagged along, but I just wanted to share my absolute and total hype.&lt;/p&gt;\n\n&lt;p&gt;For the ones still here, can you recommend me some good rust books that I can follow to become an expert in rust (yeah obviously will take a while but I think in 5-6 years\u2019 time Rust will attract even more popularity, so it\u2019s worth investing the time, since I\u2019m a beginner-intermediate in most languages I\u2019ve used)?&lt;/p&gt;\n\n&lt;p&gt;Good day everyone&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hrjt11", "is_robot_indexable": true, "report_reasons": null, "author": "mikezyisra", "discussion_type": null, "num_comments": 5, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/hrjt11/my_journey_of_stumbling_upon_rust/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/hrjt11/my_journey_of_stumbling_upon_rust/", "subreddit_subscribers": 106665, "created_utc": 1594801412.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_11a6aw", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Ayu theme is now available on nightly rustdoc!", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hrfi8k", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.93, "author_flair_background_color": null, "subreddit_type": "public", "ups": 65, "total_awards_received": 1, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 65, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1594809673.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "doc.rust-lang.org", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://doc.rust-lang.org/nightly/std/", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [{"giver_coin_reward": 0, "subreddit_id": null, "is_new": false, "days_of_drip_extension": 0, "coin_price": 50, "id": "award_02d9ab2c-162e-4c01-8438-317a016ed3d9", "penny_donate": 0, "award_sub_type": "GLOBAL", "coin_reward": 0, "icon_url": "https://i.redd.it/award_images/t5_22cerq/898sygoknoo41_TakeMyEnergy.png", "days_of_premium": 0, "resized_icons": [{"url": "https://preview.redd.it/award_images/t5_22cerq/898sygoknoo41_TakeMyEnergy.png?width=16&amp;height=16&amp;auto=webp&amp;s=92e96be1dbd278dc987fbd9acc1bd5078566f254", "width": 16, "height": 16}, {"url": "https://preview.redd.it/award_images/t5_22cerq/898sygoknoo41_TakeMyEnergy.png?width=32&amp;height=32&amp;auto=webp&amp;s=83e14655f2b162b295f7d2c7058b9ad94cf8b73c", "width": 32, "height": 32}, {"url": "https://preview.redd.it/award_images/t5_22cerq/898sygoknoo41_TakeMyEnergy.png?width=48&amp;height=48&amp;auto=webp&amp;s=83038a4d6181d3c8f5107dbca4ddb735ca6c2231", "width": 48, "height": 48}, {"url": "https://preview.redd.it/award_images/t5_22cerq/898sygoknoo41_TakeMyEnergy.png?width=64&amp;height=64&amp;auto=webp&amp;s=3c4e39a7664d799ff50f32e9a3f96c3109d2e266", "width": 64, "height": 64}, {"url": "https://preview.redd.it/award_images/t5_22cerq/898sygoknoo41_TakeMyEnergy.png?width=128&amp;height=128&amp;auto=webp&amp;s=390bf9706b8e1a6215716ebcf6363373f125c339", "width": 128, "height": 128}], "icon_width": 2048, "static_icon_width": 2048, "start_date": null, "is_enabled": true, "description": "I'm in this with you.", "end_date": null, "subreddit_coin_reward": 0, "count": 1, "static_icon_height": 2048, "name": "Take My Energy", "resized_static_icons": [{"url": "https://preview.redd.it/award_images/t5_22cerq/898sygoknoo41_TakeMyEnergy.png?width=16&amp;height=16&amp;auto=webp&amp;s=92e96be1dbd278dc987fbd9acc1bd5078566f254", "width": 16, "height": 16}, {"url": "https://preview.redd.it/award_images/t5_22cerq/898sygoknoo41_TakeMyEnergy.png?width=32&amp;height=32&amp;auto=webp&amp;s=83e14655f2b162b295f7d2c7058b9ad94cf8b73c", "width": 32, "height": 32}, {"url": "https://preview.redd.it/award_images/t5_22cerq/898sygoknoo41_TakeMyEnergy.png?width=48&amp;height=48&amp;auto=webp&amp;s=83038a4d6181d3c8f5107dbca4ddb735ca6c2231", "width": 48, "height": 48}, {"url": "https://preview.redd.it/award_images/t5_22cerq/898sygoknoo41_TakeMyEnergy.png?width=64&amp;height=64&amp;auto=webp&amp;s=3c4e39a7664d799ff50f32e9a3f96c3109d2e266", "width": 64, "height": 64}, {"url": "https://preview.redd.it/award_images/t5_22cerq/898sygoknoo41_TakeMyEnergy.png?width=128&amp;height=128&amp;auto=webp&amp;s=390bf9706b8e1a6215716ebcf6363373f125c339", "width": 128, "height": 128}], "icon_format": "PNG", "icon_height": 2048, "penny_price": 0, "award_type": "global", "static_icon_url": "https://i.redd.it/award_images/t5_22cerq/898sygoknoo41_TakeMyEnergy.png"}], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hrfi8k", "is_robot_indexable": true, "report_reasons": null, "author": "Cldfire", "discussion_type": null, "num_comments": 21, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/hrfi8k/ayu_theme_is_now_available_on_nightly_rustdoc/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://doc.rust-lang.org/nightly/std/", "subreddit_subscribers": 106665, "created_utc": 1594780873.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_nhskb", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Adventures rewriting scientific FORTRAN software in Rust", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hr9xgn", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.99, "author_flair_background_color": null, "subreddit_type": "public", "ups": 176, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 176, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1594789341.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "mckeogh.tech", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://mckeogh.tech/post/shallow-water/", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hr9xgn", "is_robot_indexable": true, "report_reasons": null, "author": "chocol4tebubble5", "discussion_type": null, "num_comments": 30, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/hr9xgn/adventures_rewriting_scientific_fortran_software/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://mckeogh.tech/post/shallow-water/", "subreddit_subscribers": 106665, "created_utc": 1594760541.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "", "author_fullname": "t2_eiueu", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Learn Rust: Comprehensive Study Notes", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hrkbzz", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.94, "author_flair_background_color": null, "subreddit_type": "public", "ups": 16, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 16, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "created": 1594833154.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "github.com", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://github.com/inancgumus/learnrust/", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hrkbzz", "is_robot_indexable": true, "report_reasons": null, "author": "blackflicker", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/hrkbzz/learn_rust_comprehensive_study_notes/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://github.com/inancgumus/learnrust/", "subreddit_subscribers": 106665, "created_utc": 1594804354.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "A few years ago I worked on a project to for typesetting a subset of LaTeX. When I started the project, my primary goal was to reach feature parity with KaTeX. This never happened, but I was relatively close. I never took the time to polish up a command line interface or develop appropriate APIs to ever consider it a released project. Like always, life got in the way and eventually the project was mostly forgotten about and remained dormant. But I think there is value in this prototype nonetheless.\n\nSo, I want to take a few minutes to describe this project, with the hope that it might inspire someone to pick it back up. I would be willing to mentor someone if they were curious about the overall structure if someone is interested. I only ask that we keep the mascot for a little bit longer :)\n\nGithub link: [https://github.com/ReTeX/ReX](https://github.com/ReTeX/ReX) \n\nThere four main components to ReX:\n\n1. Lexer -- This is a very simple parsing passing that streams to a parser. It categorizes everything as either a symbol, command, whitespace, or the end of the file.\n2. Parser -- This parses the input into a abstract syntax tree. If I remember correctly, commands, like \\\\frac{1}{2} are resolved here into something more primitive -- a ParseNode::GenFraction in this case.\n3. Layout -- The job of the layout engine is to take the abstract syntax tree and essentially output a format that can be used to actually render content. Generally you can think of this as a bunch of vertical and horizontal boxes of glyphs -- a collection of glyphs in a vertical box will be displayed stacked on top of eachother, and a collection of glyphs in a horizontal box will place glyphs one after the other. It's helpful to think of this as div versus span.\n4. Render -- The renderer will take horizontal and vertical boxes of glyphs and produce something user facing. Only SVG is supported right now, but you could easily write a new renderer to rasterize this glyphs if you happen to have access to code that knows how to rasterize opentype fonts.\n\nAnd that's basically it, it's relatively simple. There are a few other things worth mentioning:\n\n1. The unit test framework is kind of nice. It will take a yaml of expressions to layout, then compare the layout with the last recorder layout, and generate an SVG diff for any expression that has changed. One expression will be shown in green (I think the old one?) and the other in red.\n2. ReTeX needs to reference various attributes in the opentype font file. It wouldn't be terribly difficult to parse these out from the file themselves (except for maybe the dimensions of a glyph?), but during development I just wrote a python script to create lookup tables. This made it possible for the executable to run without being provided a reference to a valid font file. These are stored in hashmaps that are generated at compile time:\n   1.  [https://github.com/ReTeX/ReX/blob/master/fonts/stix2/src/symbols.rs](https://github.com/ReTeX/ReX/blob/master/fonts/stix2/src/symbols.rs) \\- Maps common commands to code points.\n   2.  [https://raw.githubusercontent.com/ReTeX/ReX/master/fonts/stix2/src/glyphs.rs](https://raw.githubusercontent.com/ReTeX/ReX/master/fonts/stix2/src/glyphs.rs) \\- Maps codepoints to glyph dimensions.\n   3.  [https://github.com/ReTeX/ReX/blob/master/fonts/stix2/src/variants.rs](https://github.com/ReTeX/ReX/blob/master/fonts/stix2/src/variants.rs) \\- Encodes the glyphs that should be used for various constructs -- like how should glyphs be pasted together to construct an infinitely tall parenthesis.\n3. Oh yes, font parsing. That's a big part of this project. There are a bunch of python scripts that did a bunch of things to prepare fonts for use:  [https://github.com/ReTeX/rex-fonts/tree/master/tools](https://github.com/ReTeX/rex-fonts/tree/master/tools)\n   1. I guess that some glyphs aren't accessible and it wouldn't be possible to put them in an SVG, so I wrote a script to take all inaccessible glyphs and place them in an private region:  [https://github.com/ReTeX/rex-fonts/blob/master/tools/accessible.py](https://github.com/ReTeX/rex-fonts/blob/master/tools/accessible.py) \n   2. The other scripts in that folder extract the relevant parameters that are needed from a font and exports them .rs file as a static hashmap.\n\nSo that's it for now. It used to compile. I don't know if it still does -- have there been any breaking changes in rustc in the past 2 years? I would like to work on this again, but I don't have much time. But more importantly, this project is now looking for *consumers*. If we can find consumers, then maybe we can get around to developing that command line interface or library. Currently, it's just an over complicated project that lets you run tests :)", "author_fullname": "t2_ocd5g", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "ReTeX - Typesetting mathematics", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_hrd8hx", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.93, "author_flair_background_color": null, "subreddit_type": "public", "ups": 61, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 61, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594800730.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;A few years ago I worked on a project to for typesetting a subset of LaTeX. When I started the project, my primary goal was to reach feature parity with KaTeX. This never happened, but I was relatively close. I never took the time to polish up a command line interface or develop appropriate APIs to ever consider it a released project. Like always, life got in the way and eventually the project was mostly forgotten about and remained dormant. But I think there is value in this prototype nonetheless.&lt;/p&gt;\n\n&lt;p&gt;So, I want to take a few minutes to describe this project, with the hope that it might inspire someone to pick it back up. I would be willing to mentor someone if they were curious about the overall structure if someone is interested. I only ask that we keep the mascot for a little bit longer :)&lt;/p&gt;\n\n&lt;p&gt;Github link: &lt;a href=\"https://github.com/ReTeX/ReX\"&gt;https://github.com/ReTeX/ReX&lt;/a&gt; &lt;/p&gt;\n\n&lt;p&gt;There four main components to ReX:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;Lexer -- This is a very simple parsing passing that streams to a parser. It categorizes everything as either a symbol, command, whitespace, or the end of the file.&lt;/li&gt;\n&lt;li&gt;Parser -- This parses the input into a abstract syntax tree. If I remember correctly, commands, like \\frac{1}{2} are resolved here into something more primitive -- a ParseNode::GenFraction in this case.&lt;/li&gt;\n&lt;li&gt;Layout -- The job of the layout engine is to take the abstract syntax tree and essentially output a format that can be used to actually render content. Generally you can think of this as a bunch of vertical and horizontal boxes of glyphs -- a collection of glyphs in a vertical box will be displayed stacked on top of eachother, and a collection of glyphs in a horizontal box will place glyphs one after the other. It&amp;#39;s helpful to think of this as div versus span.&lt;/li&gt;\n&lt;li&gt;Render -- The renderer will take horizontal and vertical boxes of glyphs and produce something user facing. Only SVG is supported right now, but you could easily write a new renderer to rasterize this glyphs if you happen to have access to code that knows how to rasterize opentype fonts.&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;And that&amp;#39;s basically it, it&amp;#39;s relatively simple. There are a few other things worth mentioning:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;The unit test framework is kind of nice. It will take a yaml of expressions to layout, then compare the layout with the last recorder layout, and generate an SVG diff for any expression that has changed. One expression will be shown in green (I think the old one?) and the other in red.&lt;/li&gt;\n&lt;li&gt;ReTeX needs to reference various attributes in the opentype font file. It wouldn&amp;#39;t be terribly difficult to parse these out from the file themselves (except for maybe the dimensions of a glyph?), but during development I just wrote a python script to create lookup tables. This made it possible for the executable to run without being provided a reference to a valid font file. These are stored in hashmaps that are generated at compile time:\n\n&lt;ol&gt;\n&lt;li&gt; &lt;a href=\"https://github.com/ReTeX/ReX/blob/master/fonts/stix2/src/symbols.rs\"&gt;https://github.com/ReTeX/ReX/blob/master/fonts/stix2/src/symbols.rs&lt;/a&gt; - Maps common commands to code points.&lt;/li&gt;\n&lt;li&gt; &lt;a href=\"https://raw.githubusercontent.com/ReTeX/ReX/master/fonts/stix2/src/glyphs.rs\"&gt;https://raw.githubusercontent.com/ReTeX/ReX/master/fonts/stix2/src/glyphs.rs&lt;/a&gt; - Maps codepoints to glyph dimensions.&lt;/li&gt;\n&lt;li&gt; &lt;a href=\"https://github.com/ReTeX/ReX/blob/master/fonts/stix2/src/variants.rs\"&gt;https://github.com/ReTeX/ReX/blob/master/fonts/stix2/src/variants.rs&lt;/a&gt; - Encodes the glyphs that should be used for various constructs -- like how should glyphs be pasted together to construct an infinitely tall parenthesis.&lt;/li&gt;\n&lt;/ol&gt;&lt;/li&gt;\n&lt;li&gt;Oh yes, font parsing. That&amp;#39;s a big part of this project. There are a bunch of python scripts that did a bunch of things to prepare fonts for use:  &lt;a href=\"https://github.com/ReTeX/rex-fonts/tree/master/tools\"&gt;https://github.com/ReTeX/rex-fonts/tree/master/tools&lt;/a&gt;\n\n&lt;ol&gt;\n&lt;li&gt;I guess that some glyphs aren&amp;#39;t accessible and it wouldn&amp;#39;t be possible to put them in an SVG, so I wrote a script to take all inaccessible glyphs and place them in an private region:  &lt;a href=\"https://github.com/ReTeX/rex-fonts/blob/master/tools/accessible.py\"&gt;https://github.com/ReTeX/rex-fonts/blob/master/tools/accessible.py&lt;/a&gt; &lt;/li&gt;\n&lt;li&gt;The other scripts in that folder extract the relevant parameters that are needed from a font and exports them .rs file as a static hashmap.&lt;/li&gt;\n&lt;/ol&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;So that&amp;#39;s it for now. It used to compile. I don&amp;#39;t know if it still does -- have there been any breaking changes in rustc in the past 2 years? I would like to work on this again, but I don&amp;#39;t have much time. But more importantly, this project is now looking for &lt;em&gt;consumers&lt;/em&gt;. If we can find consumers, then maybe we can get around to developing that command line interface or library. Currently, it&amp;#39;s just an over complicated project that lets you run tests :)&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hrd8hx", "is_robot_indexable": true, "report_reasons": null, "author": "cbreeden", "discussion_type": null, "num_comments": 8, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/hrd8hx/retex_typesetting_mathematics/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/hrd8hx/retex_typesetting_mathematics/", "subreddit_subscribers": 106665, "created_utc": 1594771930.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rust", "selftext": "So, as we know, when you add some library in Cargo, that library almost always pulls several other libraries and those pull other libraries as well. The resulting list of libraries used in your program can be a bit lengthy. We also know that rustc by default links everything statically. This of course means that if you distribute the resulting binaries, you're also distributing binary form of all those libraries.\n\nDoes that mean that in order to legally distribute binaries of my program, I have to obtain license texts of all of those libraries?\n\nEdit The title is supposed to say \"Question\"", "author_fullname": "t2_delud", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Questions about licenses when distributing binary", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rust", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": true, "name": "t3_hrmoj3", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 5, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 5, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1594845063.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rust", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;So, as we know, when you add some library in Cargo, that library almost always pulls several other libraries and those pull other libraries as well. The resulting list of libraries used in your program can be a bit lengthy. We also know that rustc by default links everything statically. This of course means that if you distribute the resulting binaries, you&amp;#39;re also distributing binary form of all those libraries.&lt;/p&gt;\n\n&lt;p&gt;Does that mean that in order to legally distribute binaries of my program, I have to obtain license texts of all of those libraries?&lt;/p&gt;\n\n&lt;p&gt;Edit The title is supposed to say &amp;quot;Question&amp;quot;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2s7lj", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "hrmoj3", "is_robot_indexable": true, "report_reasons": null, "author": "GOKOP", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rust/comments/hrmoj3/questions_about_licenses_when_distributing_binary/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rust/comments/hrmoj3/questions_about_licenses_when_distributing_binary/", "subreddit_subscribers": 106665, "created_utc": 1594816263.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_hrmoj3", "before": null}}