{"kind": "Listing", "data": {"modhash": "", "dist": 12, "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "In this thread you can showcase your personal pet project to other redditors.\n\nNeed help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!\n\nA suggested format to get you started:\n\n1. **Name of your project**\n2. **A short description**\n3. **Application stack**\n4. **Link to Live app**\n5. **Link to GitHub**\n6. **You experience level**\n7. **Other information or areas that you would like advice on**\n\n\u00a0\n\n^(Many thanks to Kritnc for getting the ball rolling.)", "author_fullname": "t2_6l4z3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Personal Projects - Show off your own project and/or ask for advice", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_i8dsvv", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.92, "author_flair_background_color": null, "subreddit_type": "public", "ups": 16, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 16, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1597267966.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;In this thread you can showcase your personal pet project to other redditors.&lt;/p&gt;\n\n&lt;p&gt;Need help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!&lt;/p&gt;\n\n&lt;p&gt;A suggested format to get you started:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;Name of your project&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;A short description&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Application stack&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to Live app&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to GitHub&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;You experience level&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Other information or areas that you would like advice on&lt;/strong&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;\u00a0&lt;/p&gt;\n\n&lt;p&gt;&lt;sup&gt;Many thanks to Kritnc for getting the ball rolling.&lt;/sup&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "i8dsvv", "is_robot_indexable": true, "report_reasons": null, "author": "AutoModerator", "discussion_type": null, "num_comments": 5, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/i8dsvv/personal_projects_show_off_your_own_project_andor/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rails/comments/i8dsvv/personal_projects_show_off_your_own_project_andor/", "subreddit_subscribers": 45664, "created_utc": 1597239166.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "In this thread you can showcase your personal pet project to other redditors.\n\nNeed help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!\n\nA suggested format to get you started:\n\n1. **Name of your project**\n2. **A short description**\n3. **Application stack**\n4. **Link to Live app**\n5. **Link to GitHub**\n6. **You experience level**\n7. **Other information or areas that you would like advice on**\n\n\u00a0\n\n^(Many thanks to Kritnc for getting the ball rolling.)", "author_fullname": "t2_6l4z3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Personal Projects - Show off your own project and/or ask for advice", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": true, "name": "t3_igyvm1", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 1, "approved_by": null, "author_premium": true, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1598477561.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;In this thread you can showcase your personal pet project to other redditors.&lt;/p&gt;\n\n&lt;p&gt;Need help with a specific problem or just wanna have some extra eyeballs on your code? Ask away!&lt;/p&gt;\n\n&lt;p&gt;A suggested format to get you started:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;Name of your project&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;A short description&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Application stack&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to Live app&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Link to GitHub&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;You experience level&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Other information or areas that you would like advice on&lt;/strong&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;\u00a0&lt;/p&gt;\n\n&lt;p&gt;&lt;sup&gt;Many thanks to Kritnc for getting the ball rolling.&lt;/sup&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": "moderator", "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "igyvm1", "is_robot_indexable": true, "report_reasons": null, "author": "AutoModerator", "discussion_type": null, "num_comments": 0, "send_replies": false, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/igyvm1/personal_projects_show_off_your_own_project_andor/", "parent_whitelist_status": "all_ads", "stickied": true, "url": "https://www.reddit.com/r/rails/comments/igyvm1/personal_projects_show_off_your_own_project_andor/", "subreddit_subscribers": 45664, "created_utc": 1598448761.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hi everyone,\n\nI'm new to programming, and i've been following the upskill course for about 2 weeks now. Everything was going great untill yesterday. I started the Deep Dive: Build a Blog section that uses Cloud9 and Ruby to build a blog. I have tried many times to follow the exact same path as the instructor but i keep on having the same problem.\n\nThe commands that I input in the terminal are the following (I do this on a new environment with the default settings).\n\n    $ rails new blog\n\nThen the instructor ask us to change the 'sqlite3' line in the file called \"gemfile\" into gem 'sqlite3', '1.3.13'. To use the same version as him.\n\nI then inpunt :\n\n    cd\n    \n    cd environment\n    \n    cd blog\n    \n    bundle install\n    \n    bundle update\n    \n    rails generate scaffold Post title:string body:text\n    \n    rake db:migrate\n    \n    rails server\n\nIt is at this point that the problem occurs. The instructor terminal's response 3 more lines that i don't have (I don't think I can put screenshots so there is basically 3 lines after the line control c to shut down the server and their start with the date and the hour followed by some text)\n\nPlus after that the instructor click preview running application and is sent to the \"ruby welcome page\". He then get rid of a part of the URL to go to the blog. In my case the URL is completely different from his, it looks like that ([https://c187d78accd944209c8f91023e991d71.vfs.cloud9.us-east-2.amazonaws.com/](https://c187d78accd944209c8f91023e991d71.vfs.cloud9.us-east-2.amazonaws.com/)).\n\nWhereas his mostly made of words ( I think with the name of his environment) at the beggining and then numbers (which he erases to get to the blog).\n\nDo you guys know what I've been doing wrong.\n\nThank you for reading all of these it's my first time posting so i hope it's kind of understandable.\n\nHave a great day", "author_fullname": "t2_fu5uwdb", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Setting up a blog on AWS Cloud9", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_igw3bw", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.75, "author_flair_background_color": null, "subreddit_type": "public", "ups": 4, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 4, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1598464832.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi everyone,&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m new to programming, and i&amp;#39;ve been following the upskill course for about 2 weeks now. Everything was going great untill yesterday. I started the Deep Dive: Build a Blog section that uses Cloud9 and Ruby to build a blog. I have tried many times to follow the exact same path as the instructor but i keep on having the same problem.&lt;/p&gt;\n\n&lt;p&gt;The commands that I input in the terminal are the following (I do this on a new environment with the default settings).&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;$ rails new blog\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Then the instructor ask us to change the &amp;#39;sqlite3&amp;#39; line in the file called &amp;quot;gemfile&amp;quot; into gem &amp;#39;sqlite3&amp;#39;, &amp;#39;1.3.13&amp;#39;. To use the same version as him.&lt;/p&gt;\n\n&lt;p&gt;I then inpunt :&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;cd\n\ncd environment\n\ncd blog\n\nbundle install\n\nbundle update\n\nrails generate scaffold Post title:string body:text\n\nrake db:migrate\n\nrails server\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It is at this point that the problem occurs. The instructor terminal&amp;#39;s response 3 more lines that i don&amp;#39;t have (I don&amp;#39;t think I can put screenshots so there is basically 3 lines after the line control c to shut down the server and their start with the date and the hour followed by some text)&lt;/p&gt;\n\n&lt;p&gt;Plus after that the instructor click preview running application and is sent to the &amp;quot;ruby welcome page&amp;quot;. He then get rid of a part of the URL to go to the blog. In my case the URL is completely different from his, it looks like that (&lt;a href=\"https://c187d78accd944209c8f91023e991d71.vfs.cloud9.us-east-2.amazonaws.com/\"&gt;https://c187d78accd944209c8f91023e991d71.vfs.cloud9.us-east-2.amazonaws.com/&lt;/a&gt;).&lt;/p&gt;\n\n&lt;p&gt;Whereas his mostly made of words ( I think with the name of his environment) at the beggining and then numbers (which he erases to get to the blog).&lt;/p&gt;\n\n&lt;p&gt;Do you guys know what I&amp;#39;ve been doing wrong.&lt;/p&gt;\n\n&lt;p&gt;Thank you for reading all of these it&amp;#39;s my first time posting so i hope it&amp;#39;s kind of understandable.&lt;/p&gt;\n\n&lt;p&gt;Have a great day&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "igw3bw", "is_robot_indexable": true, "report_reasons": null, "author": "LuuaHL", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/igw3bw/setting_up_a_blog_on_aws_cloud9/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/igw3bw/setting_up_a_blog_on_aws_cloud9/", "subreddit_subscribers": 45664, "created_utc": 1598436032.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "In the recent months I was migrating one of my Rails applications I was maintaining in the past years from capistrano to Docker. I did know that the gems are leaving files behind and therefore the Docker images became quite large but I was shocked when I realized how big the difference is.\n\nSo I sat down and I wrote a small gem called [cleanup\\_vendor](https://github.com/raszi/cleanup_vendor) which cleans up the leftover files and reduces the Docker image size significantly.\n\nComments and suggestions are welcome.", "author_fullname": "t2_15zrum7h", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Small script to reduce the image size of Ruby and Ruby on Rails Docker images", "link_flair_richtext": [{"e": "text", "t": "Gem"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "gem", "downs": 0, "top_awarded_type": null, "hide_score": true, "name": "t3_igxju5", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Gem", "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1598472173.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;In the recent months I was migrating one of my Rails applications I was maintaining in the past years from capistrano to Docker. I did know that the gems are leaving files behind and therefore the Docker images became quite large but I was shocked when I realized how big the difference is.&lt;/p&gt;\n\n&lt;p&gt;So I sat down and I wrote a small gem called &lt;a href=\"https://github.com/raszi/cleanup_vendor\"&gt;cleanup_vendor&lt;/a&gt; which cleans up the leftover files and reduces the Docker image size significantly.&lt;/p&gt;\n\n&lt;p&gt;Comments and suggestions are welcome.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "617bc232-b02e-11e4-916e-22000b230ae2", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "igxju5", "is_robot_indexable": true, "report_reasons": null, "author": "ikaraszi", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/igxju5/small_script_to_reduce_the_image_size_of_ruby_and/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/igxju5/small_script_to_reduce_the_image_size_of_ruby_and/", "subreddit_subscribers": 45664, "created_utc": 1598443373.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Is there a way to specify custom keys for blobs in ActiveStorage?\n\n[I can modify the key on my model's before\\_save callback but i'm getting \\`duplicate key value violates unique constraint \\\\\"index\\_active\\_storage\\_blobs\\_on\\_key\\\\\" \\` error on logo updates \\(it's obvious indeed\\). ](https://preview.redd.it/816hacqr7bj51.png?width=702&amp;format=png&amp;auto=webp&amp;s=c0cdd7e7d218e3ba8d88be4089579d987ad85f51)\n\n&amp;#x200B;\n\n[I basically want to store my logos in s3 like this](https://preview.redd.it/gn5jlyr78bj51.png?width=414&amp;format=png&amp;auto=webp&amp;s=3563ffeecc2b3152018f22338cbf4454a8d17af6)\n\n&amp;#x200B;\n\n[Not like this.](https://preview.redd.it/vopx9p4h8bj51.png?width=594&amp;format=png&amp;auto=webp&amp;s=ef91199af5c6cbf7e9adbe7d411fc10bd481b0ef)\n\n&amp;#x200B;\n\nIs there a way to configure naming convention with active\\_storage?", "author_fullname": "t2_53aj673j", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "ActiveStorage custom key for blobs", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "media_metadata": {"gn5jlyr78bj51": {"status": "valid", "e": "Image", "m": "image/png", "p": [{"y": 36, "x": 108, "u": "https://preview.redd.it/gn5jlyr78bj51.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=270d3caaaa059383bec9fc7098c7d493c4104edf"}, {"y": 72, "x": 216, "u": "https://preview.redd.it/gn5jlyr78bj51.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=f857397d2551a13d5e78ce4899ffeebcf997c2b4"}, {"y": 107, "x": 320, "u": "https://preview.redd.it/gn5jlyr78bj51.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=849279b0c6f5d764d1433db15e05c7fc1e20a11b"}], "s": {"y": 139, "x": 414, "u": "https://preview.redd.it/gn5jlyr78bj51.png?width=414&amp;format=png&amp;auto=webp&amp;s=3563ffeecc2b3152018f22338cbf4454a8d17af6"}, "id": "gn5jlyr78bj51"}, "816hacqr7bj51": {"status": "valid", "e": "Image", "m": "image/png", "p": [{"y": 9, "x": 108, "u": "https://preview.redd.it/816hacqr7bj51.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=46805456c9f319b20e081348fe300a0a4b09423a"}, {"y": 19, "x": 216, "u": "https://preview.redd.it/816hacqr7bj51.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=e3fc51005419ba8e4219d11ca56f4970686fd5d2"}, {"y": 28, "x": 320, "u": "https://preview.redd.it/816hacqr7bj51.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=0bad66c9855ab942fbacdd72e5ca0d025013bb9c"}, {"y": 57, "x": 640, "u": "https://preview.redd.it/816hacqr7bj51.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=a7dcbb7768ec12b5cfb94b78f05e4c70d987427c"}], "s": {"y": 63, "x": 702, "u": "https://preview.redd.it/816hacqr7bj51.png?width=702&amp;format=png&amp;auto=webp&amp;s=c0cdd7e7d218e3ba8d88be4089579d987ad85f51"}, "id": "816hacqr7bj51"}, "vopx9p4h8bj51": {"status": "valid", "e": "Image", "m": "image/png", "p": [{"y": 31, "x": 108, "u": "https://preview.redd.it/vopx9p4h8bj51.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=7a73ee411280f10ec32caf5b43e3e0afdbf24737"}, {"y": 62, "x": 216, "u": "https://preview.redd.it/vopx9p4h8bj51.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=e976d98a1a79b630f0139c83fb7e17f04897443b"}, {"y": 93, "x": 320, "u": "https://preview.redd.it/vopx9p4h8bj51.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=cdfe1c06eb56611f88221daf93dfecf7089bc61b"}], "s": {"y": 173, "x": 594, "u": "https://preview.redd.it/vopx9p4h8bj51.png?width=594&amp;format=png&amp;auto=webp&amp;s=ef91199af5c6cbf7e9adbe7d411fc10bd481b0ef"}, "id": "vopx9p4h8bj51"}}, "name": "t3_igvbx7", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 3, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1598460581.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Is there a way to specify custom keys for blobs in ActiveStorage?&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://preview.redd.it/816hacqr7bj51.png?width=702&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=c0cdd7e7d218e3ba8d88be4089579d987ad85f51\"&gt;I can modify the key on my model&amp;#39;s before_save callback but i&amp;#39;m getting `duplicate key value violates unique constraint \\&amp;quot;index_active_storage_blobs_on_key\\&amp;quot; ` error on logo updates (it&amp;#39;s obvious indeed). &lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://preview.redd.it/gn5jlyr78bj51.png?width=414&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=3563ffeecc2b3152018f22338cbf4454a8d17af6\"&gt;I basically want to store my logos in s3 like this&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://preview.redd.it/vopx9p4h8bj51.png?width=594&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=ef91199af5c6cbf7e9adbe7d411fc10bd481b0ef\"&gt;Not like this.&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;Is there a way to configure naming convention with active_storage?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "igvbx7", "is_robot_indexable": true, "report_reasons": null, "author": "yollutilki", "discussion_type": null, "num_comments": 4, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/igvbx7/activestorage_custom_key_for_blobs/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/igvbx7/activestorage_custom_key_for_blobs/", "subreddit_subscribers": 45664, "created_utc": 1598431781.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I have a `people` index that I want to load with just a specific set of records shown filtered by a specific field `(position)`. I currently have it that way as I am filtering out the position entries I do not want shown, but this is limiting me to not being able to show the other positions at all. I know my approach to this is probably very bad, as I have cobbled it together with very little knowledge.\n\nWhat it boils down to is I have an index of people, with filtering buttons along the top of the page, to only show the people in the desired position. I have a group(s) of people that do not need to be listed expect when their filter button is specifically selected.\n\nindex.html.erb\n\n    &lt;% provide(:title, \"Directory\") %&gt;\n    \n    &lt;h1&gt;Directory&lt;/h1&gt;\n    \n    &lt;div class=\"filter_div\"&gt;\n    \t&lt;div class=\"filter btn btn-default btn-directory active\"&gt;&lt;%= link_to \"Full Listing\", people_path %&gt;&lt;/div&gt;\n    \t&lt;div class=\"filter btn btn-default btn-directory active\"&gt;&lt;%= link_to \"Position1\", people_path(:filter_by =&gt; :position1), {:method =&gt; :get} %&gt;&lt;/div&gt;\n    \t&lt;div class=\"filter btn btn-default btn-directory active\"&gt;&lt;%= link_to \"Position2\", people_path(:filter_by =&gt; :position2), {:method =&gt; :get} %&gt;&lt;/div&gt;\n    \t&lt;div class=\"filter btn btn-default btn-directory active\"&gt;&lt;%= link_to \"Position3\", people_path(:filter_by =&gt; :'position3'), {:method =&gt; :get} %&gt;&lt;/div&gt;\n    \t&lt;div class=\"filter btn btn-default btn-directory active\"&gt;&lt;%= link_to \"Position4\", people_path(:filter_by =&gt; :position4), {:method =&gt; :get} %&gt;&lt;/div&gt;\n    \t&lt;div class=\"filter btn btn-default btn-directory active\"&gt;&lt;%= link_to \"Position5\", people_path(:filter_by =&gt; :position5), {:method =&gt; :get} %&gt;&lt;/div&gt; \t\n    \t&lt;div class=\"filter btn btn-default btn-directory active\"&gt;&lt;%= link_to \"Position6\", people_path(:filter_by =&gt; :position6), {:method =&gt; :get} %&gt;&lt;/div&gt;\n    \t&lt;div class=\"filter btn btn-default btn-directory active\"&gt;&lt;%= link_to \"Position7\", people_path(:filter_by =&gt; :position7), {:method =&gt; :get} %&gt;&lt;/div&gt; \n    \n    &lt;/div&gt;\n    \n    &lt;table class=\"people table-striped\"&gt;\n    \t\n    \t&lt;tbody&gt;\n    \t    &lt;% @people.each do |person| %&gt;\n    \t\t&lt;% if person.position == 'position1' %&gt; \n    \t\t    &lt;%= render 'row', person: person %&gt;            \n    \t        &lt;% elsif person.position == 'position2' %&gt;\n                \t    &lt;%= render 'row', person: person %&gt;\n                    &lt;% elsif person.position == 'position3' %&gt;\n                \t    &lt;%= render 'row', person: person %&gt;\n                    &lt;% elsif person.position == 'position4' %&gt;\n                \t    &lt;%= render 'row', person: person %&gt;\n                    &lt;% elsif person.position == 'position5' %&gt;\n                \t    &lt;%= render 'row', person: person %&gt;\n                    &lt;% elsif person.position == 'position6' %&gt;\n                \t    &lt;%= render 'row', person: person %&gt;\n                    &lt;% end %&gt;  \t\n    \t    &lt;% end %&gt;\n    \t&lt;/tbody&gt;\n    &lt;/table&gt;\n    \n\npeople\\_controller\n\n    class PeopleController &lt; ApplicationController\n    \tdef index\n    \t  if params[:filter_by].present?\n    \t    case params[:filter_by]\n    \t    when 'ra_cs'\n    \t      @people = Person.where(ra_cs: true)\n    \t    when 'ra_hn'\n    \t      @people = Person.where(ra_hn: true)\n    \t    when 'ra_mg'\n    \t      @people = Person.where(ra_mg: true)\n    \t    when 'ra_nb'\n    \t      @people = Person.where(ra_nb: true)\n    \t    when 'ra_ne'\n    \t      @people = Person.where(ra_ne: true)\n    \t    when 'search'\n    \t      @people = Person.where(search: true)\n    \t    else\n    \t      @people = Person.where(position: params[:filter_by])\n    \t    end\n    \t  else\n    \t    @people = Person.all\n    \t  end\n    \tend \n    \n    \tdef show\n    \t\tif params[:id]\n    \t    \t@person = Person.find(params[:id])\n    \t    else\n    \t    \t@person = Person.find_by(position: params[:position], uname: params[:uname])\n    \t    end\n    \tend\n    \n    \t\n    \n    \tprivate\n    \tdef person_params\n    \t\tparams.require(:person).permit(\n    \t\t\t:uname, :prefix, :fname, :lname, :title, :position, \n    \t\t\t... all fields) \n    \tend\n    end\n\n&amp;#x200B;", "author_fullname": "t2_18yv97ai", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Rails 6 Index view loaded with limitations?", "link_flair_richtext": [{"e": "text", "t": "Help"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_igih4h", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.81, "author_flair_background_color": null, "subreddit_type": "public", "ups": 6, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Help", "can_mod_post": false, "score": 6, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1598383067.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1598410321.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have a &lt;code&gt;people&lt;/code&gt; index that I want to load with just a specific set of records shown filtered by a specific field &lt;code&gt;(position)&lt;/code&gt;. I currently have it that way as I am filtering out the position entries I do not want shown, but this is limiting me to not being able to show the other positions at all. I know my approach to this is probably very bad, as I have cobbled it together with very little knowledge.&lt;/p&gt;\n\n&lt;p&gt;What it boils down to is I have an index of people, with filtering buttons along the top of the page, to only show the people in the desired position. I have a group(s) of people that do not need to be listed expect when their filter button is specifically selected.&lt;/p&gt;\n\n&lt;p&gt;index.html.erb&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;&amp;lt;% provide(:title, &amp;quot;Directory&amp;quot;) %&amp;gt;\n\n&amp;lt;h1&amp;gt;Directory&amp;lt;/h1&amp;gt;\n\n&amp;lt;div class=&amp;quot;filter_div&amp;quot;&amp;gt;\n    &amp;lt;div class=&amp;quot;filter btn btn-default btn-directory active&amp;quot;&amp;gt;&amp;lt;%= link_to &amp;quot;Full Listing&amp;quot;, people_path %&amp;gt;&amp;lt;/div&amp;gt;\n    &amp;lt;div class=&amp;quot;filter btn btn-default btn-directory active&amp;quot;&amp;gt;&amp;lt;%= link_to &amp;quot;Position1&amp;quot;, people_path(:filter_by =&amp;gt; :position1), {:method =&amp;gt; :get} %&amp;gt;&amp;lt;/div&amp;gt;\n    &amp;lt;div class=&amp;quot;filter btn btn-default btn-directory active&amp;quot;&amp;gt;&amp;lt;%= link_to &amp;quot;Position2&amp;quot;, people_path(:filter_by =&amp;gt; :position2), {:method =&amp;gt; :get} %&amp;gt;&amp;lt;/div&amp;gt;\n    &amp;lt;div class=&amp;quot;filter btn btn-default btn-directory active&amp;quot;&amp;gt;&amp;lt;%= link_to &amp;quot;Position3&amp;quot;, people_path(:filter_by =&amp;gt; :&amp;#39;position3&amp;#39;), {:method =&amp;gt; :get} %&amp;gt;&amp;lt;/div&amp;gt;\n    &amp;lt;div class=&amp;quot;filter btn btn-default btn-directory active&amp;quot;&amp;gt;&amp;lt;%= link_to &amp;quot;Position4&amp;quot;, people_path(:filter_by =&amp;gt; :position4), {:method =&amp;gt; :get} %&amp;gt;&amp;lt;/div&amp;gt;\n    &amp;lt;div class=&amp;quot;filter btn btn-default btn-directory active&amp;quot;&amp;gt;&amp;lt;%= link_to &amp;quot;Position5&amp;quot;, people_path(:filter_by =&amp;gt; :position5), {:method =&amp;gt; :get} %&amp;gt;&amp;lt;/div&amp;gt;     \n    &amp;lt;div class=&amp;quot;filter btn btn-default btn-directory active&amp;quot;&amp;gt;&amp;lt;%= link_to &amp;quot;Position6&amp;quot;, people_path(:filter_by =&amp;gt; :position6), {:method =&amp;gt; :get} %&amp;gt;&amp;lt;/div&amp;gt;\n    &amp;lt;div class=&amp;quot;filter btn btn-default btn-directory active&amp;quot;&amp;gt;&amp;lt;%= link_to &amp;quot;Position7&amp;quot;, people_path(:filter_by =&amp;gt; :position7), {:method =&amp;gt; :get} %&amp;gt;&amp;lt;/div&amp;gt; \n\n&amp;lt;/div&amp;gt;\n\n&amp;lt;table class=&amp;quot;people table-striped&amp;quot;&amp;gt;\n\n    &amp;lt;tbody&amp;gt;\n        &amp;lt;% @people.each do |person| %&amp;gt;\n        &amp;lt;% if person.position == &amp;#39;position1&amp;#39; %&amp;gt; \n            &amp;lt;%= render &amp;#39;row&amp;#39;, person: person %&amp;gt;            \n            &amp;lt;% elsif person.position == &amp;#39;position2&amp;#39; %&amp;gt;\n                    &amp;lt;%= render &amp;#39;row&amp;#39;, person: person %&amp;gt;\n                &amp;lt;% elsif person.position == &amp;#39;position3&amp;#39; %&amp;gt;\n                    &amp;lt;%= render &amp;#39;row&amp;#39;, person: person %&amp;gt;\n                &amp;lt;% elsif person.position == &amp;#39;position4&amp;#39; %&amp;gt;\n                    &amp;lt;%= render &amp;#39;row&amp;#39;, person: person %&amp;gt;\n                &amp;lt;% elsif person.position == &amp;#39;position5&amp;#39; %&amp;gt;\n                    &amp;lt;%= render &amp;#39;row&amp;#39;, person: person %&amp;gt;\n                &amp;lt;% elsif person.position == &amp;#39;position6&amp;#39; %&amp;gt;\n                    &amp;lt;%= render &amp;#39;row&amp;#39;, person: person %&amp;gt;\n                &amp;lt;% end %&amp;gt;   \n        &amp;lt;% end %&amp;gt;\n    &amp;lt;/tbody&amp;gt;\n&amp;lt;/table&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;people_controller&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;class PeopleController &amp;lt; ApplicationController\n    def index\n      if params[:filter_by].present?\n        case params[:filter_by]\n        when &amp;#39;ra_cs&amp;#39;\n          @people = Person.where(ra_cs: true)\n        when &amp;#39;ra_hn&amp;#39;\n          @people = Person.where(ra_hn: true)\n        when &amp;#39;ra_mg&amp;#39;\n          @people = Person.where(ra_mg: true)\n        when &amp;#39;ra_nb&amp;#39;\n          @people = Person.where(ra_nb: true)\n        when &amp;#39;ra_ne&amp;#39;\n          @people = Person.where(ra_ne: true)\n        when &amp;#39;search&amp;#39;\n          @people = Person.where(search: true)\n        else\n          @people = Person.where(position: params[:filter_by])\n        end\n      else\n        @people = Person.all\n      end\n    end \n\n    def show\n        if params[:id]\n            @person = Person.find(params[:id])\n        else\n            @person = Person.find_by(position: params[:position], uname: params[:uname])\n        end\n    end\n\n\n\n    private\n    def person_params\n        params.require(:person).permit(\n            :uname, :prefix, :fname, :lname, :title, :position, \n            ... all fields) \n    end\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "eef0b990-adfb-11e4-8e15-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "igih4h", "is_robot_indexable": true, "report_reasons": null, "author": "lostrennie", "discussion_type": null, "num_comments": 16, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/igih4h/rails_6_index_view_loaded_with_limitations/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/igih4h/rails_6_index_view_loaded_with_limitations/", "subreddit_subscribers": 45664, "created_utc": 1598381521.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "My company has a create-react-app hosted in an S3 bucket as a static site with cloudfront.\n\nHowever, when we do a deploy, a lot of users experience a blank white screen. This can be remedied with \"disable cache\" or using another browser.\n\nWhat can we do to make sure this doesn't happen for our users?\n\nStack is Rails/React", "author_fullname": "t2_4dsi3jm7", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "White Screen after create-react-app S3 Static Site Deploy", "link_flair_richtext": [], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_igj3sy", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1598412253.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;My company has a create-react-app hosted in an S3 bucket as a static site with cloudfront.&lt;/p&gt;\n\n&lt;p&gt;However, when we do a deploy, a lot of users experience a blank white screen. This can be remedied with &amp;quot;disable cache&amp;quot; or using another browser.&lt;/p&gt;\n\n&lt;p&gt;What can we do to make sure this doesn&amp;#39;t happen for our users?&lt;/p&gt;\n\n&lt;p&gt;Stack is Rails/React&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "igj3sy", "is_robot_indexable": true, "report_reasons": null, "author": "ExternalBiscotti", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/igj3sy/white_screen_after_createreactapp_s3_static_site/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/igj3sy/white_screen_after_createreactapp_s3_static_site/", "subreddit_subscribers": 45664, "created_utc": 1598383453.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I'm moving existing callbacks in observers to model concern in rails 4.2.1 application  \nExisting Observer\n\n    class TaskObserver &lt; ActiveRecord::Observer\n      observer Task\n      def after_commit(model)\n        //do something with the model\n      end\n    end \n\nWhich I'll be moving to concern like this\n\n    module TaskConcern\n      extend ActiveSupport::Concern\n      included do\n        after_commit :do_something\n      end\n      def do_something\n      // here self would be equivalent to model?\n      end\n    end\n\nI'll be adding this concern in a few model's and I wanted to be sure about the usage of self in the concern here.\n\nSince the included will be executed in the context of class it is being included in self would always be the item that is being created/updated/deleted right. i.e. the model variable in Observer and the self in concern would be the same, isn't it?\n\nEDIT: What is the difference between ActiveRecord::Observer and ActiveSupport::Concern, because in the former self returns an instance of the Observer class but in the later self returns an instance of the model in which the concern in included.", "author_fullname": "t2_7m8mv9r7", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Help with self in refactoring observers to concerns", "link_flair_richtext": [{"e": "text", "t": "Help"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_igd4an", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 4, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Help", "can_mod_post": false, "score": 4, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1598366425.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1598394111.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;m moving existing callbacks in observers to model concern in rails 4.2.1 application&lt;br/&gt;\nExisting Observer&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;class TaskObserver &amp;lt; ActiveRecord::Observer\n  observer Task\n  def after_commit(model)\n    //do something with the model\n  end\nend \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Which I&amp;#39;ll be moving to concern like this&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;module TaskConcern\n  extend ActiveSupport::Concern\n  included do\n    after_commit :do_something\n  end\n  def do_something\n  // here self would be equivalent to model?\n  end\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I&amp;#39;ll be adding this concern in a few model&amp;#39;s and I wanted to be sure about the usage of self in the concern here.&lt;/p&gt;\n\n&lt;p&gt;Since the included will be executed in the context of class it is being included in self would always be the item that is being created/updated/deleted right. i.e. the model variable in Observer and the self in concern would be the same, isn&amp;#39;t it?&lt;/p&gt;\n\n&lt;p&gt;EDIT: What is the difference between ActiveRecord::Observer and ActiveSupport::Concern, because in the former self returns an instance of the Observer class but in the later self returns an instance of the model in which the concern in included.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "eef0b990-adfb-11e4-8e15-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "igd4an", "is_robot_indexable": true, "report_reasons": null, "author": "prosperousdoggo", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/igd4an/help_with_self_in_refactoring_observers_to/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/igd4an/help_with_self_in_refactoring_observers_to/", "subreddit_subscribers": 45664, "created_utc": 1598365311.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I have a model class like this\n\n    class Task &lt; ActiveRecord::Base\n      include Concerns::Tasks \n      self.table_name = \"tasks\" \n    end\n\nand the concern is like in the app/models/concerns directory\n\n    module Concerns::Tasks \n      extend ActiveSupport::Concern\n      included do \n        after_commit :do_something\n      end\n      def do_something\n        byebug\n      end\n    end\n\nBut my after\\_commit callback isn't being hit at all. I'm on rails 4.2.1. Any ideas why?\n\nEDIT: Other concern files are working fine. But only the newly added file isn't working fine. Do I have to register is somewhere?  \n\n\nFINAL\\_EDIT: The issue was in the filename. Should have known how rails picks up these files . Got it from here [https://stackoverflow.com/a/12306720/3575018](https://stackoverflow.com/a/12306720/3575018)", "author_fullname": "t2_7m8mv9r7", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "after_commit callback not triggered from Concern", "link_flair_richtext": [{"e": "text", "t": "Help"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_ig9fp6", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 8, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Help", "can_mod_post": false, "score": 8, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1598362137.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1598379642.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have a model class like this&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;class Task &amp;lt; ActiveRecord::Base\n  include Concerns::Tasks \n  self.table_name = &amp;quot;tasks&amp;quot; \nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;and the concern is like in the app/models/concerns directory&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;module Concerns::Tasks \n  extend ActiveSupport::Concern\n  included do \n    after_commit :do_something\n  end\n  def do_something\n    byebug\n  end\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;But my after_commit callback isn&amp;#39;t being hit at all. I&amp;#39;m on rails 4.2.1. Any ideas why?&lt;/p&gt;\n\n&lt;p&gt;EDIT: Other concern files are working fine. But only the newly added file isn&amp;#39;t working fine. Do I have to register is somewhere?  &lt;/p&gt;\n\n&lt;p&gt;FINAL_EDIT: The issue was in the filename. Should have known how rails picks up these files . Got it from here &lt;a href=\"https://stackoverflow.com/a/12306720/3575018\"&gt;https://stackoverflow.com/a/12306720/3575018&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "eef0b990-adfb-11e4-8e15-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "ig9fp6", "is_robot_indexable": true, "report_reasons": null, "author": "prosperousdoggo", "discussion_type": null, "num_comments": 17, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/ig9fp6/after_commit_callback_not_triggered_from_concern/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/ig9fp6/after_commit_callback_not_triggered_from_concern/", "subreddit_subscribers": 45664, "created_utc": 1598350842.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Let\u2019s say these are my models:\n\nShift\n\n\\-- has\\_many :employees\n\n\\-- has\\_many :holiday\\_shedules\n\n\\-- accepts\\_nested\\_attributes\\_for :employees\n\n\\-- accepts\\_nested\\_attributes\\_for :holiday\\_schedules\n\nEmployees\n\n\\-- belongs\\_to :shift\n\nHolidaySchedule\n\n\\-- belongs\\_to :shift\n\n\\-- has\\_many :holidays\n\n\\-- accepts\\_nested\\_attributes\\_for :holidays\n\nHoliday\n\n\\-- belongs\\_to HolidaySchedule\n\nUser steps:\n\n1. Creates the shift\n\n2. Adds staffing to the shift (multiple at a time)\n\n3. Adds two, linked holiday\\_schedules to the shift at a time, each with three holidays\n\nEverything I\u2019ve read says that custom controller actions are bad, but how do I maintain CRUD when accepts\\_nested\\_attributes\\_for wants me to use a single controller update action for so many things?  That doesn\u2019t even count updating the shift itself.\n\nThese are the options I\u2019m seeing:\n\n1.  Create or update multiple Nurses or HolidaySchedules through their respective controllers by namespacing and picking apart the parameters\n\n2.  Send them all to Shift\u2019s Update action and figure out what to do with them using conditionals\n\n3.  Send them to custom actions in the shifts\\_controller, i.e. def update\\_nurses, def update\\_holiday\\_shifts\n\nThis is my first Rails project.  Are there options I\u2019m not seeing?  What would be the most conventional, or Railsy, path?", "author_fullname": "t2_kgo8g", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How to maintain CRUD when accepting nested attributes?", "link_flair_richtext": [{"e": "text", "t": "Question"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "question", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_ifttz6", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 11, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Question", "can_mod_post": false, "score": 11, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1598319917.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Let\u2019s say these are my models:&lt;/p&gt;\n\n&lt;p&gt;Shift&lt;/p&gt;\n\n&lt;p&gt;-- has_many :employees&lt;/p&gt;\n\n&lt;p&gt;-- has_many :holiday_shedules&lt;/p&gt;\n\n&lt;p&gt;-- accepts_nested_attributes_for :employees&lt;/p&gt;\n\n&lt;p&gt;-- accepts_nested_attributes_for :holiday_schedules&lt;/p&gt;\n\n&lt;p&gt;Employees&lt;/p&gt;\n\n&lt;p&gt;-- belongs_to :shift&lt;/p&gt;\n\n&lt;p&gt;HolidaySchedule&lt;/p&gt;\n\n&lt;p&gt;-- belongs_to :shift&lt;/p&gt;\n\n&lt;p&gt;-- has_many :holidays&lt;/p&gt;\n\n&lt;p&gt;-- accepts_nested_attributes_for :holidays&lt;/p&gt;\n\n&lt;p&gt;Holiday&lt;/p&gt;\n\n&lt;p&gt;-- belongs_to HolidaySchedule&lt;/p&gt;\n\n&lt;p&gt;User steps:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;Creates the shift&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Adds staffing to the shift (multiple at a time)&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Adds two, linked holiday_schedules to the shift at a time, each with three holidays&lt;/p&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;Everything I\u2019ve read says that custom controller actions are bad, but how do I maintain CRUD when accepts_nested_attributes_for wants me to use a single controller update action for so many things?  That doesn\u2019t even count updating the shift itself.&lt;/p&gt;\n\n&lt;p&gt;These are the options I\u2019m seeing:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;Create or update multiple Nurses or HolidaySchedules through their respective controllers by namespacing and picking apart the parameters&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Send them all to Shift\u2019s Update action and figure out what to do with them using conditionals&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Send them to custom actions in the shifts_controller, i.e. def update_nurses, def update_holiday_shifts&lt;/p&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;This is my first Rails project.  Are there options I\u2019m not seeing?  What would be the most conventional, or Railsy, path?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "fdfc6806-aea7-11e4-bf37-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "ifttz6", "is_robot_indexable": true, "report_reasons": null, "author": "Semigrounded", "discussion_type": null, "num_comments": 12, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/ifttz6/how_to_maintain_crud_when_accepting_nested/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/ifttz6/how_to_maintain_crud_when_accepting_nested/", "subreddit_subscribers": 45664, "created_utc": 1598291117.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "Hi Folks,\nUsing rails 5.2 with turbolinks and it's driving me crazy. Attempting to hide some items on a page when a button is clicked, but the js doesn't seem to fire. Even just trying to debug by using console.log and alert() methods doesn't seem help as neither fires when the button is clicked. Code works fine if I run it in the console, but clearly some issue with turbolinks here. Any ideas? Using an event listener on turbolinks:load (see below)\n\n    document.addEventListener(\"turbolinks:load\", function() {\n        var btnWhiskey = document.getElementById('btn-Whiskey');\n        btnWhiskey.addEventListener('click', function(){\n             alert(\"testttt\");\n             console.log(\"TEST!\");\n        });\n    });", "author_fullname": "t2_kd61d", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Javascript not firing with Turbolinks", "link_flair_richtext": [{"e": "text", "t": "Deployment"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "deployment", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_ifsu1z", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 9, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Deployment", "can_mod_post": false, "score": 9, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1598316940.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi Folks,\nUsing rails 5.2 with turbolinks and it&amp;#39;s driving me crazy. Attempting to hide some items on a page when a button is clicked, but the js doesn&amp;#39;t seem to fire. Even just trying to debug by using console.log and alert() methods doesn&amp;#39;t seem help as neither fires when the button is clicked. Code works fine if I run it in the console, but clearly some issue with turbolinks here. Any ideas? Using an event listener on turbolinks:load (see below)&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;document.addEventListener(&amp;quot;turbolinks:load&amp;quot;, function() {\n    var btnWhiskey = document.getElementById(&amp;#39;btn-Whiskey&amp;#39;);\n    btnWhiskey.addEventListener(&amp;#39;click&amp;#39;, function(){\n         alert(&amp;quot;testttt&amp;quot;);\n         console.log(&amp;quot;TEST!&amp;quot;);\n    });\n});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "1721fb16-af75-11e4-8726-22000bc18a73", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "ifsu1z", "is_robot_indexable": true, "report_reasons": null, "author": "Teucer90", "discussion_type": null, "num_comments": 10, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/ifsu1z/javascript_not_firing_with_turbolinks/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/ifsu1z/javascript_not_firing_with_turbolinks/", "subreddit_subscribers": 45664, "created_utc": 1598288140.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "rails", "selftext": "I have a people database, that functions fine within it's own controller group (index, show, etc)\n\nI want to use calls to this database in another controller, but it does not seem to be getting any data. I am sure I am missing something small, but I am hoping someone can help me.\n\noutside\\_controller:\n\n    def pagename\n        @people = Person.all\n      end\n\npagename.html.erb\n\n    &lt;% @people.each do |person| %&gt;\n        &lt;li class=\"clearfix\"&gt;\n    \t&lt;% if person.groffice == 'office' %&gt;\n    \t\t&lt;div class=\"image\"&gt;\n    \t\t    &lt;%= image_tag(\"profiles/#{person.uname}S.jpg\") %&gt;\n    \t\t&lt;/div&gt;\n    \t\t&lt;div class=\"body\"&gt;\n    \t\t\t&lt;h5&gt;&lt;%= person.fname %&gt; &lt;%= person.lname %&gt;&lt;/h5&gt;\n    \t\t&lt;/div&gt;\n    \t&lt;% end %&gt;\n        &lt;/li&gt;\n    &lt;% end %&gt;\n\nPerson.rb\n\n    class Person &lt; ApplicationRecord\n    \thas_many :pubs\n    \tdefault_scope { order('lname') }\n    \tbelongs_to :boss, class_name: 'Person'\n    \thas_many :subordinates, class_name: 'Person', foreign_key: 'boss_id'\n    \n    \t\n    \n        validates_presence_of :uname, :position, :fname, :lname # Needed for friendly URLs\n    end\n\nWhen I add the `person.groffice` call to my People Index, it pulls the data from that field and displays it without issue. I have a feeling I am missing something stupid. If I run `Person.where(:groffice =&gt; 'office')` in the console it will return the proper record.\n\n&amp;#x200B;\n\nError.log has this when I attempt to render the page:\n\n      \u001b[1m\u001b[35m (0.4ms)\u001b[0m  \u001b[1m\u001b[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483\u001b[0m\n    Processing by OutsideController#pagename as HTML\n      Rendering outside/pagename.html.erb within layouts/application\n      \u001b[1m\u001b[36mPerson Load (1.6ms)\u001b[0m  \u001b[1m\u001b[34mSELECT `people`.* FROM `people` ORDER BY lname\u001b[0m\n      \u21b3 app/views/outside/pagename.html.erb:17\n      Rendered outside/pagename.html.erb within layouts/application (Duration: 29.8ms | Allocations: 18000)\n    [Webpacker] Everything's up-to-date. Nothing to do\n      Rendered layouts/_header.html.erb (Duration: 0.0ms | Allocations: 6)\n      Rendered layouts/_footer.html.erb (Duration: 2.6ms | Allocations: 1433)\n    Completed 200 OK in 62ms (Views: 59.8ms | ActiveRecord: 1.6ms | Allocations: 36658)\n\npeople\\_controller\n\n    class PeopleController &lt; ApplicationController\n        def index\n          if params[:filter_by].present?\n            case params[:filter_by]\n            when 'ra_cs'\n              @people = Person.where(ra_cs: true)\n            when 'ra_hn'\n              @people = Person.where(ra_hn: true)\n            when 'ra_mg'\n              @people = Person.where(ra_mg: true)\n            when 'ra_nb'\n              @people = Person.where(ra_nb: true)\n            when 'ra_ne'\n              @people = Person.where(ra_ne: true)\n            when 'search'\n              @people = Person.where(search: true)\n            else\n              @people = Person.where(position: params[:filter_by])\n            end\n          else\n            @people = Person.all\n          end\n        end \n    \n        def show\n            if params[:id]\n                @person = Person.find(params[:id])\n            else\n                @person = Person.find_by(position: params[:position], uname: params[:uname])\n            end\n        end\n    \n        \n    \n        private\n        def person_params\n            params.require(:person).permit(\n                :uname, :prefix, :fname, :lname, :title, :position, \n                ... {every field in people} ... :groffice) \n        end\n    end\n\n&amp;#x200B;", "author_fullname": "t2_18yv97ai", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Calling Database fails in secondary page.", "link_flair_richtext": [{"e": "text", "t": "Help"}], "subreddit_name_prefixed": "r/rails", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "top_awarded_type": null, "hide_score": false, "name": "t3_ifzx3c", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.67, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Help", "can_mod_post": false, "score": 2, "approved_by": null, "author_premium": false, "thumbnail": "", "edited": 1598366583.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1598338418.0, "link_flair_type": "richtext", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.rails", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have a people database, that functions fine within it&amp;#39;s own controller group (index, show, etc)&lt;/p&gt;\n\n&lt;p&gt;I want to use calls to this database in another controller, but it does not seem to be getting any data. I am sure I am missing something small, but I am hoping someone can help me.&lt;/p&gt;\n\n&lt;p&gt;outside_controller:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;def pagename\n    @people = Person.all\n  end\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;pagename.html.erb&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;&amp;lt;% @people.each do |person| %&amp;gt;\n    &amp;lt;li class=&amp;quot;clearfix&amp;quot;&amp;gt;\n    &amp;lt;% if person.groffice == &amp;#39;office&amp;#39; %&amp;gt;\n        &amp;lt;div class=&amp;quot;image&amp;quot;&amp;gt;\n            &amp;lt;%= image_tag(&amp;quot;profiles/#{person.uname}S.jpg&amp;quot;) %&amp;gt;\n        &amp;lt;/div&amp;gt;\n        &amp;lt;div class=&amp;quot;body&amp;quot;&amp;gt;\n            &amp;lt;h5&amp;gt;&amp;lt;%= person.fname %&amp;gt; &amp;lt;%= person.lname %&amp;gt;&amp;lt;/h5&amp;gt;\n        &amp;lt;/div&amp;gt;\n    &amp;lt;% end %&amp;gt;\n    &amp;lt;/li&amp;gt;\n&amp;lt;% end %&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Person.rb&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;class Person &amp;lt; ApplicationRecord\n    has_many :pubs\n    default_scope { order(&amp;#39;lname&amp;#39;) }\n    belongs_to :boss, class_name: &amp;#39;Person&amp;#39;\n    has_many :subordinates, class_name: &amp;#39;Person&amp;#39;, foreign_key: &amp;#39;boss_id&amp;#39;\n\n\n\n    validates_presence_of :uname, :position, :fname, :lname # Needed for friendly URLs\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;When I add the &lt;code&gt;person.groffice&lt;/code&gt; call to my People Index, it pulls the data from that field and displays it without issue. I have a feeling I am missing something stupid. If I run &lt;code&gt;Person.where(:groffice =&amp;gt; &amp;#39;office&amp;#39;)&lt;/code&gt; in the console it will return the proper record.&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;Error.log has this when I attempt to render the page:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, &amp;#39;,STRICT_ALL_TABLES&amp;#39;), &amp;#39;,NO_AUTO_VALUE_ON_ZERO&amp;#39;),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m\nProcessing by OutsideController#pagename as HTML\n  Rendering outside/pagename.html.erb within layouts/application\n  [1m[36mPerson Load (1.6ms)[0m  [1m[34mSELECT `people`.* FROM `people` ORDER BY lname[0m\n  \u21b3 app/views/outside/pagename.html.erb:17\n  Rendered outside/pagename.html.erb within layouts/application (Duration: 29.8ms | Allocations: 18000)\n[Webpacker] Everything&amp;#39;s up-to-date. Nothing to do\n  Rendered layouts/_header.html.erb (Duration: 0.0ms | Allocations: 6)\n  Rendered layouts/_footer.html.erb (Duration: 2.6ms | Allocations: 1433)\nCompleted 200 OK in 62ms (Views: 59.8ms | ActiveRecord: 1.6ms | Allocations: 36658)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;people_controller&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;class PeopleController &amp;lt; ApplicationController\n    def index\n      if params[:filter_by].present?\n        case params[:filter_by]\n        when &amp;#39;ra_cs&amp;#39;\n          @people = Person.where(ra_cs: true)\n        when &amp;#39;ra_hn&amp;#39;\n          @people = Person.where(ra_hn: true)\n        when &amp;#39;ra_mg&amp;#39;\n          @people = Person.where(ra_mg: true)\n        when &amp;#39;ra_nb&amp;#39;\n          @people = Person.where(ra_nb: true)\n        when &amp;#39;ra_ne&amp;#39;\n          @people = Person.where(ra_ne: true)\n        when &amp;#39;search&amp;#39;\n          @people = Person.where(search: true)\n        else\n          @people = Person.where(position: params[:filter_by])\n        end\n      else\n        @people = Person.all\n      end\n    end \n\n    def show\n        if params[:id]\n            @person = Person.find(params[:id])\n        else\n            @person = Person.find_by(position: params[:position], uname: params[:uname])\n        end\n    end\n\n\n\n    private\n    def person_params\n        params.require(:person).permit(\n            :uname, :prefix, :fname, :lname, :title, :position, \n            ... {every field in people} ... :groffice) \n    end\nend\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "eef0b990-adfb-11e4-8e15-22000b3889f5", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qhjn", "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "ifzx3c", "is_robot_indexable": true, "report_reasons": null, "author": "lostrennie", "discussion_type": null, "num_comments": 16, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/rails/comments/ifzx3c/calling_database_fails_in_secondary_page/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.reddit.com/r/rails/comments/ifzx3c/calling_database_fails_in_secondary_page/", "subreddit_subscribers": 45664, "created_utc": 1598309618.0, "num_crossposts": 0, "media": null, "is_video": false}}], "after": "t3_ifzx3c", "before": null}}